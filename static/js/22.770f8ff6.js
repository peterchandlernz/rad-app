/*! For license information please see 22.770f8ff6.js.LICENSE.txt */
(self.webpackChunkrad_architecture=self.webpackChunkrad_architecture||[]).push([["22"],{790:function(e,t,n){e.exports={graphlib:n(4633),layout:n(5418),debug:n(7037),util:{time:n(5876).time,notime:n(5876).notime},version:n(3838)}},5942:function(e,t,n){"use strict";let r=n(9247),i=n(5876).uniqueId;e.exports={run:function(e){var t,n;let o,a,s;("greedy"===e.graph().acyclicer?r(e,(t=e,e=>t.edge(e).weight)):(o=[],a={},s={},(n=e).nodes().forEach(function e(t){Object.hasOwn(s,t)||(s[t]=!0,a[t]=!0,n.outEdges(t).forEach(t=>{Object.hasOwn(a,t.w)?o.push(t):e(t.w)}),delete a[t])}),o)).forEach(t=>{let n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,i("rev"))})},undo:function(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},6007:function(e,t,n){let r=n(5876);function i(e,t,n,i,o,a){let s=o[t][a-1],u=r.addDummyNode(e,"border",{width:0,height:0,rank:a,borderType:t},n);o[t][a]=u,e.setParent(u,i),s&&e.setEdge(s,u,{weight:1})}e.exports=function(e){e.children().forEach(function t(n){let r=e.children(n),o=e.node(n);if(r.length&&r.forEach(t),Object.hasOwn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let t=o.minRank,r=o.maxRank+1;t<r;++t)i(e,"borderLeft","_bl",n,o,t),i(e,"borderRight","_br",n,o,t)}})}},1106:function(e){"use strict";function t(e){e.nodes().forEach(t=>n(e.node(t))),e.edges().forEach(t=>n(e.edge(t)))}function n(e){let t=e.width;e.width=e.height,e.height=t}function r(e){e.y=-e.y}function i(e){let t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){let n=e.graph().rankdir.toLowerCase();("lr"===n||"rl"===n)&&t(e)},undo:function(e){var n,o;let a=e.graph().rankdir.toLowerCase();("bt"===a||"rl"===a)&&((n=e).nodes().forEach(e=>r(n.node(e))),n.edges().forEach(e=>{let t=n.edge(e);t.points.forEach(r),Object.hasOwn(t,"y")&&r(t)})),("lr"===a||"rl"===a)&&((o=e).nodes().forEach(e=>i(o.node(e))),o.edges().forEach(e=>{let t=o.edge(e);t.points.forEach(i),Object.hasOwn(t,"x")&&i(t)}),t(e))}}},3875:function(e){function t(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function n(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return t(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&t(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],t=this._sentinel,r=t._prev;for(;r!==t;)e.push(JSON.stringify(r,n)),r=r._prev;return"["+e.join(", ")+"]"}}},7037:function(e,t,n){let r=n(5876),i=n(4633).Graph;e.exports={debugOrdering:function(e){let t=r.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(t=>{n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),e.edges().forEach(e=>n.setEdge(e.v,e.w,{},e.name)),t.forEach((e,t)=>{n.setNode("layer"+t,{rank:"same"}),e.reduce((e,t)=>(n.setEdge(e,t,{style:"invis"}),t))}),n}}},9247:function(e,t,n){let r=n(4633).Graph,i=n(3875);e.exports=function(e,t){var n,u;let l,c,d,f,h;if(1>=e.nodeCount())return[];let p=(n=e,u=t||o,l=new r,c=0,d=0,n.nodes().forEach(e=>{l.setNode(e,{v:e,in:0,out:0})}),n.edges().forEach(e=>{let t=l.edge(e.v,e.w)||0,n=u(e);l.setEdge(e.v,e.w,t+n),d=Math.max(d,l.node(e.v).out+=n),c=Math.max(c,l.node(e.w).in+=n)}),f=(function(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t})(d+c+3).map(()=>new i),h=c+1,l.nodes().forEach(e=>{s(f,h,l.node(e))}),{graph:l,buckets:f,zeroIdx:h});return(function(e,t,n){let r,i=[],o=t[t.length-1],s=t[0];for(;e.nodeCount();){for(;r=s.dequeue();)a(e,t,n,r);for(;r=o.dequeue();)a(e,t,n,r);if(e.nodeCount()){for(let o=t.length-2;o>0;--o)if(r=t[o].dequeue()){i=i.concat(a(e,t,n,r,!0));break}}}return i})(p.graph,p.buckets,p.zeroIdx).flatMap(t=>e.outEdges(t.v,t.w))};let o=()=>1;function a(e,t,n,r,i){let o=i?[]:void 0;return e.inEdges(r.v).forEach(r=>{let a=e.edge(r),u=e.node(r.v);i&&o.push({v:r.v,w:r.w}),u.out-=a,s(t,n,u)}),e.outEdges(r.v).forEach(r=>{let i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,s(t,n,a)}),e.removeNode(r.v),o}function s(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},5418:function(e,t,n){"use strict";let r=n(5942),i=n(5393),o=n(785),a=n(5876).normalizeRanks,s=n(532),u=n(5876).removeEmptyRanks,l=n(977),c=n(6007),d=n(1106),f=n(9725),h=n(8880),p=n(5876),g=n(4633).Graph;e.exports=function(e,t){let n=t&&t.debugTiming?p.time:p.notime;n("layout",()=>{let M=n("  buildLayoutGraph",()=>{var t;let n,r;return t=e,n=new g({multigraph:!0,compound:!0}),r=S(t.graph()),n.setGraph(Object.assign({},y,k(r,m),p.pick(r,v))),t.nodes().forEach(e=>{let r=k(S(t.node(e)),b);Object.keys(w).forEach(e=>{void 0===r[e]&&(r[e]=w[e])}),n.setNode(e,r),n.setParent(e,t.parent(e))}),t.edges().forEach(e=>{let r=S(t.edge(e));n.setEdge(e,Object.assign({},_,k(r,x),p.pick(r,E)))}),n});n("  runLayout",()=>{var e,g,m;return e=M,g=n,m=t,void(g("    makeSpaceForEdgeLabels",()=>{var t;let n;return n=(t=e).graph(),void(n.ranksep/=2,t.edges().forEach(e=>{let r=t.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}),g("    removeSelfEdges",()=>{var t;(t=e).edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),g("    acyclic",()=>r.run(e)),g("    nestingGraph.run",()=>l.run(e)),g("    rank",()=>o(p.asNonCompoundGraph(e))),g("    injectEdgeLabelProxies",()=>{var t;(t=e).edges().forEach(e=>{let n=t.edge(e);if(n.width&&n.height){let n=t.node(e.v),r={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};p.addDummyNode(t,"edge-proxy",r,"_ep")}})}),g("    removeEmptyRanks",()=>u(e)),g("    nestingGraph.cleanup",()=>l.cleanup(e)),g("    normalizeRanks",()=>a(e)),g("    assignRankMinMax",()=>{var t;let n;return n=0,void((t=e).nodes().forEach(e=>{let r=t.node(e);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,n=Math.max(n,r.maxRank))}),t.graph().maxRank=n)}),g("    removeEdgeLabelProxies",()=>{var t;(t=e).nodes().forEach(e=>{let n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}),g("    normalize.run",()=>i.run(e)),g("    parentDummyChains",()=>s(e)),g("    addBorderSegments",()=>c(e)),g("    order",()=>f(e,m)),g("    insertSelfEdges",()=>{var t;return t=e,void p.buildLayerMatrix(t).forEach(e=>{var n=0;e.forEach((e,r)=>{var i=t.node(e);i.order=r+n,(i.selfEdges||[]).forEach(e=>{p.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}),g("    adjustCoordinateSystem",()=>d.adjust(e)),g("    position",()=>h(e)),g("    positionSelfEdges",()=>{var t;(t=e).nodes().forEach(e=>{var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}),g("    removeBorderNodes",()=>{var t;(t=e).nodes().forEach(e=>{if(t.children(e).length){let n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),a=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{"border"===t.node(e).dummy&&t.removeNode(e)})}),g("    normalize.undo",()=>i.undo(e)),g("    fixupEdgeLabelCoords",()=>{var t;(t=e).edges().forEach(e=>{let n=t.edge(e);if(Object.hasOwn(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),g("    undoCoordinateSystem",()=>d.undo(e)),g("    translateGraph",()=>(function(e){let t=1/0,n=0,r=1/0,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){let o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}e.nodes().forEach(t=>u(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);Object.hasOwn(n,"x")&&u(n)}),t-=a,r-=s,e.nodes().forEach(n=>{let i=e.node(n);i.x-=t,i.y-=r}),e.edges().forEach(n=>{let i=e.edge(n);i.points.forEach(e=>{e.x-=t,e.y-=r}),Object.hasOwn(i,"x")&&(i.x-=t),Object.hasOwn(i,"y")&&(i.y-=r)}),o.width=n-t+a,o.height=i-r+s})(e)),g("    assignNodeIntersects",()=>{var t;(t=e).edges().forEach(e=>{let n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(p.intersectRect(o,n)),i.points.push(p.intersectRect(a,r))})}),g("    reversePoints",()=>{var t;(t=e).edges().forEach(e=>{let n=t.edge(e);n.reversed&&n.points.reverse()})}),g("    acyclic.undo",()=>r.undo(e)))}),n("  updateInputGraph",()=>{var t,n;return t=e,n=M,void(t.nodes().forEach(e=>{let r=t.node(e),i=n.node(e);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,n.children(e).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(e=>{let r=t.edge(e),i=n.edge(e);r.points=i.points,Object.hasOwn(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=n.graph().width,t.graph().height=n.graph().height)})})};let m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],b=["width","height","rank"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},E=["labelpos"];function k(e,t){return p.mapValues(p.pick(e,t),Number)}function S(e){var t={};return e&&Object.entries(e).forEach(([e,n])=>{"string"==typeof e&&(e=e.toLowerCase()),t[e]=n}),t}},977:function(e,t,n){let r=n(5876);e.exports={run:function(e){var t,n,i;let o=r.addDummyNode(e,"root",{},"_root"),a=(n={},(t=e).children().forEach(e=>(function e(r,i){var o=t.children(r);o&&o.length&&o.forEach(t=>e(t,i+1)),n[r]=i})(e,1)),n),s=Object.values(a),u=r.applyWithChunking(Math.max,s)-1,l=2*u+1;e.graph().nestingRoot=o,e.edges().forEach(t=>e.edge(t).minlen*=l);let c=(i=e).edges().reduce((e,t)=>e+i.edge(t).weight,0)+1;e.children().forEach(t=>(function e(t,n,i,o,a,s,u){let l=t.children(u);if(!l.length){u!==n&&t.setEdge(n,u,{weight:0,minlen:i});return}let c=r.addBorderNode(t,"_bt"),d=r.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(c,u),f.borderTop=c,t.setParent(d,u),f.borderBottom=d,l.forEach(r=>{e(t,n,i,o,a,s,r);let l=t.node(r),f=l.borderTop?l.borderTop:r,h=l.borderBottom?l.borderBottom:r,p=l.borderTop?o:2*o,g=f!==h?1:a-s[u]+1;t.setEdge(c,f,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(h,d,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:a+s[u]})})(e,o,l,c,u,a,t)),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(t=>{e.edge(t).nestingEdge&&e.removeEdge(t)})}}},5393:function(e,t,n){"use strict";let r=n(5876);e.exports={run:function(e){e.graph().dummyChains=[],e.edges().forEach(t=>(function(e,t){let n,i,o,a=t.v,s=e.node(a).rank,u=t.w,l=e.node(u).rank,c=t.name,d=e.edge(t),f=d.labelRank;if(l!==s+1){for(e.removeEdge(t),o=0,++s;s<l;++o,++s)d.points=[],i={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=r.addDummyNode(e,"edge",i,"_d"),s===f&&(i.width=d.width,i.height=d.height,i.dummy="edge-label",i.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},c),0===o&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,u,{weight:d.weight},c)}})(e,t))},undo:function(e){e.graph().dummyChains.forEach(t=>{let n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}}},8336:function(e){e.exports=function(e,t,n){let r={},i;n.forEach(n=>{let o=e.parent(n),a,s;for(;o;){if((a=e.parent(o))?(s=r[a],r[a]=o):(s=i,i=o),s&&s!==o)return void t.setEdge(s,o);o=a}})}},132:function(e){e.exports=function(e,t=[]){return t.map(t=>{let n=e.inEdges(t);if(!n.length)return{v:t};{let r=n.reduce((t,n)=>{let r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}})}},9396:function(e,t,n){let r=n(4633).Graph,i=n(5876);e.exports=function(e,t,n){let o=function(e){for(var t;e.hasNode(t=i.uniqueId("_root")););return t}(e),a=new r({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(t=>e.node(t));return e.nodes().forEach(r=>{let i=e.node(r),s=e.parent(r);(i.rank===t||i.minRank<=t&&t<=i.maxRank)&&(a.setNode(r),a.setParent(r,s||o),e[n](r).forEach(t=>{let n=t.v===r?t.w:t.v,i=a.edge(n,r),o=void 0!==i?i.weight:0;a.setEdge(n,r,{weight:e.edge(t).weight+o})}),Object.hasOwn(i,"minRank")&&a.setNode(r,{borderLeft:i.borderLeft[t],borderRight:i.borderRight[t]}))}),a}},1135:function(e,t,n){"use strict";let r=n(5876).zipObject;e.exports=function(e,t){let n=0;for(let i=1;i<t.length;++i)n+=function(e,t,n){let i=r(n,n.map((e,t)=>t)),o=t.flatMap(t=>e.outEdges(t).map(t=>({pos:i[t.w],weight:e.edge(t).weight})).sort((e,t)=>e.pos-t.pos)),a=1;for(;a<n.length;)a<<=1;let s=2*a-1;a-=1;let u=Array(s).fill(0),l=0;return o.forEach(e=>{let t=e.pos+a;u[t]+=e.weight;let n=0;for(;t>0;)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;l+=e.weight*n}),l}(e,t[i-1],t[i]);return n}},9725:function(e,t,n){"use strict";let r=n(2198),i=n(1135),o=n(152),a=n(9396),s=n(8336),u=n(4633).Graph,l=n(5876);function c(e,t,n){return t.map(function(t){return a(e,t,n)})}function d(e,t){Object.values(t).forEach(t=>t.forEach((t,n)=>e.node(t).order=n))}e.exports=function e(t,n){if(n&&"function"==typeof n.customOrder)return void n.customOrder(t,e);let a=l.maxRank(t),f=c(t,l.range(1,a+1),"inEdges"),h=c(t,l.range(a-1,-1,-1),"outEdges"),p=r(t);if(d(t,p),n&&n.disableOptimalOrderHeuristic)return;let g=1/0,m;for(let e=0,n=0;n<4;++e,++n){(function(e,t){let n=new u;e.forEach(function(e){let r=e.graph().root,i=o(e,r,n,t);i.vs.forEach((t,n)=>e.node(t).order=n),s(e,n,i.vs)})})(e%2?f:h,e%4>=2),p=l.buildLayerMatrix(t);let r=i(t,p);r<g&&(n=0,m=Object.assign({},p),g=r)}d(t,m)}},2198:function(e,t,n){"use strict";let r=n(5876);e.exports=function(e){let t={},n=e.nodes().filter(t=>!e.children(t).length),i=n.map(t=>e.node(t).rank),o=r.applyWithChunking(Math.max,i),a=r.range(o+1).map(()=>[]);return n.sort((t,n)=>e.node(t).rank-e.node(n).rank).forEach(function n(r){t[r]||(t[r]=!0,a[e.node(r).rank].push(r),e.successors(r).forEach(n))}),a}},6719:function(e,t,n){"use strict";let r=n(5876);e.exports=function(e,t){let n={};return e.forEach((e,t)=>{let r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};void 0!==e.barycenter&&(r.barycenter=e.barycenter,r.weight=e.weight)}),t.edges().forEach(e=>{let t=n[e.v],r=n[e.w];void 0!==t&&void 0!==r&&(r.indegree++,t.out.push(n[e.w]))}),function(e){let t=[];for(;e.length;){let n=e.pop();t.push(n),n.in.reverse().forEach(function(e){return t=>{!t.merged&&(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&function(e,t){let n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),n.out.forEach(function(t){return n=>{n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return t.filter(e=>!e.merged).map(e=>r.pick(e,["vs","i","barycenter","weight"]))}(Object.values(n).filter(e=>!e.indegree))}},152:function(e,t,n){let r=n(132),i=n(6719),o=n(401);e.exports=function e(t,n,a,s){var u,l;let c=t.children(n),d=t.node(n),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,p={};f&&(c=c.filter(e=>e!==f&&e!==h));let g=r(t,c);g.forEach(n=>{if(t.children(n.v).length){var r,i;let o=e(t,n.v,a,s);p[n.v]=o,Object.hasOwn(o,"barycenter")&&(r=n,i=o,void 0!==r.barycenter?(r.barycenter=(r.barycenter*r.weight+i.barycenter*i.weight)/(r.weight+i.weight),r.weight+=i.weight):(r.barycenter=i.barycenter,r.weight=i.weight))}});let m=i(g,a);u=m,l=p,u.forEach(e=>{e.vs=e.vs.flatMap(e=>l[e]?l[e].vs:e)});let y=o(m,s);if(f&&(y.vs=[f,y.vs,h].flat(!0),t.predecessors(f).length)){let e=t.node(t.predecessors(f)[0]),n=t.node(t.predecessors(h)[0]);Object.hasOwn(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+e.order+n.order)/(y.weight+2),y.weight+=2}return y}},401:function(e,t,n){let r=n(5876);function i(e,t,n){let r;for(;t.length&&(r=t[t.length-1]).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n;let o=r.partition(e,e=>Object.hasOwn(e,"barycenter")),a=o.lhs,s=o.rhs.sort((e,t)=>t.i-e.i),u=[],l=0,c=0,d=0;a.sort((n=!!t,(e,t)=>e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i)),d=i(u,s,d),a.forEach(e=>{d+=e.vs.length,u.push(e.vs),l+=e.barycenter*e.weight,c+=e.weight,d=i(u,s,d)});let f={vs:u.flat(!0)};return c&&(f.barycenter=l/c,f.weight=c),f}},532:function(e){e.exports=function(e){var t;let n,r,i=(n={},r=0,(t=e).children().forEach(function e(i){let o=r;t.children(i).forEach(e),n[i]={low:o,lim:r++}}),n);e.graph().dummyChains.forEach(t=>{let n=e.node(t),r=n.edgeObj,o=function(e,t,n,r){let i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do a.push(i=e.parent(i));while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,i,r.v,r.w),a=o.path,s=o.lca,u=0,l=a[0],c=!0;for(;t!==r.w;){if(n=e.node(t),c){for(;(l=a[u])!==s&&e.node(l).maxRank<n.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=n.rank;)u++;l=a[u]}e.setParent(t,l),t=e.successors(t)[0]}})}},941:function(e,t,n){"use strict";let r=n(4633).Graph,i=n(5876);function o(e,t){let n={};return t.length&&t.reduce(function(t,r){let i=0,o=0,a=t.length,u=r[r.length-1];return r.forEach((t,l)=>{let c=function(e,t){if(e.node(t).dummy)return e.predecessors(t).find(t=>e.node(t).dummy)}(e,t),d=c?e.node(c).order:a;(c||t===u)&&(r.slice(o,l+1).forEach(t=>{e.predecessors(t).forEach(r=>{let o=e.node(r),a=o.order;(a<i||d<a)&&!(o.dummy&&e.node(t).dummy)&&s(n,r,t)})}),o=l+1,i=d)}),r}),n}function a(e,t){let n={};function r(t,r,o,a,u){let l;i.range(r,o).forEach(r=>{l=t[r],e.node(l).dummy&&e.predecessors(l).forEach(t=>{let r=e.node(t);r.dummy&&(r.order<a||r.order>u)&&s(n,t,l)})})}return t.length&&t.reduce(function(t,n){let i=-1,o,a=0;return n.forEach((s,u)=>{if("border"===e.node(s).dummy){let t=e.predecessors(s);t.length&&(o=e.node(t[0]).order,r(n,a,u,i,o),a=u,i=o)}r(n,a,n.length,o,t.length)}),n}),n}function s(e,t,n){if(t>n){let e=t;t=n,n=e}let r=e[t];r||(e[t]=r={}),r[n]=!0}function u(e,t,n){if(t>n){let e=t;t=n,n=e}return!!e[t]&&Object.hasOwn(e[t],n)}function l(e,t,n,r){let i={},o={},a={};return t.forEach(e=>{e.forEach((e,t)=>{i[e]=e,o[e]=e,a[e]=t})}),t.forEach(e=>{let t=-1;e.forEach(e=>{let s=r(e);if(s.length){let r=((s=s.sort((e,t)=>a[e]-a[t])).length-1)/2;for(let l=Math.floor(r),c=Math.ceil(r);l<=c;++l){let r=s[l];o[e]===e&&t<a[r]&&!u(n,e,r)&&(o[r]=e,o[e]=i[e]=i[r],t=a[r])}}})}),{root:i,align:o}}function c(e,t,n,i,o){var a,s,u,l,c,d,f;let h,p,g,m={},y=(a=e,s=t,u=n,l=o,h=new r,g=(c=(p=a.graph()).nodesep,d=p.edgesep,f=l,(e,t,n)=>{let r,i,o=e.node(t),a=e.node(n);if(r=0+o.width/2,Object.hasOwn(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":i=-o.width/2;break;case"r":i=o.width/2}if(i&&(r+=f?i:-i),i=0,r+=(o.dummy?d:c)/2,r+=(a.dummy?d:c)/2,r+=a.width/2,Object.hasOwn(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":i=a.width/2;break;case"r":i=-a.width/2}return i&&(r+=f?i:-i),i=0,r}),s.forEach(e=>{let t;e.forEach(e=>{let n=u[e];if(h.setNode(n),t){var r=u[t],i=h.edge(r,n);h.setEdge(r,n,Math.max(g(a,e,t),i||0))}t=e})}),h),v=o?"borderLeft":"borderRight";function b(e,t){let n=y.nodes(),r=n.pop(),i={};for(;r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return b(function(e){m[e]=y.inEdges(e).reduce((e,t)=>Math.max(e,m[t.v]+y.edge(t)),0)},y.predecessors.bind(y)),b(function(t){let n=y.outEdges(t).reduce((e,t)=>Math.min(e,m[t.w]-y.edge(t)),1/0),r=e.node(t);n!==1/0&&r.borderType!==v&&(m[t]=Math.max(m[t],n))},y.successors.bind(y)),Object.keys(i).forEach(e=>m[e]=m[n[e]]),m}function d(e,t){return Object.values(t).reduce((t,n)=>{let r=-1/0,i=1/0;Object.entries(n).forEach(([t,n])=>{var o,a;let s=(o=e,a=t,o.node(a).width/2);r=Math.max(n+s,r),i=Math.min(n-s,i)});let o=r-i;return o<t[0]&&(t=[o,n]),t},[1/0,null])[1]}function f(e,t){let n=Object.values(t),r=i.applyWithChunking(Math.min,n),o=i.applyWithChunking(Math.max,n);["u","d"].forEach(n=>{["l","r"].forEach(a=>{let s=n+a,u=e[s];if(u===t)return;let l=Object.values(u),c=r-i.applyWithChunking(Math.min,l);"l"!==a&&(c=o-i.applyWithChunking(Math.max,l)),c&&(e[s]=i.mapValues(u,e=>e+c))})})}function h(e,t){return i.mapValues(e.ul,(n,r)=>{if(t)return e[t.toLowerCase()][r];{let t=Object.values(e).map(e=>e[r]).sort((e,t)=>e-t);return(t[1]+t[2])/2}})}e.exports={positionX:function(e){let t,n=i.buildLayerMatrix(e),r=Object.assign(o(e,n),a(e,n)),s={};["u","d"].forEach(o=>{t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach(n=>{"r"===n&&(t=t.map(e=>Object.values(e).reverse()));let a=("u"===o?e.predecessors:e.successors).bind(e),u=l(e,t,r,a),d=c(e,t,u.root,u.align,"r"===n);"r"===n&&(d=i.mapValues(d,e=>-e)),s[o+n]=d})});let u=d(e,s);return f(s,u),h(s,e.graph().align)},findType1Conflicts:o,findType2Conflicts:a,addConflict:s,hasConflict:u,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:f,findSmallestWidthAlignment:d,balance:h}},8880:function(e,t,n){"use strict";let r=n(5876),i=n(941).positionX;e.exports=function(e){var t;let n,o,a;t=e=r.asNonCompoundGraph(e),n=r.buildLayerMatrix(t),o=t.graph().ranksep,a=0,n.forEach(e=>{let n=e.reduce((e,n)=>{let r=t.node(n).height;return e>r?e:r},0);e.forEach(e=>t.node(e).y=a+n/2),a+=n+o}),Object.entries(i(e)).forEach(([t,n])=>e.node(t).x=n)}},8753:function(e,t,n){"use strict";var r=n(4633).Graph,i=n(6457).slack;e.exports=function(e){var t,n,o,a,s=new r({directed:!1}),u=e.nodes()[0],l=e.nodeCount();for(s.setNode(u,{});t=s,n=e,t.nodes().forEach(function e(r){n.nodeEdges(r).forEach(o=>{var a=o.v,s=r===a?o.w:a;t.hasNode(s)||i(n,o)||(t.setNode(s,{}),t.setEdge(r,s,{}),e(s))})}),t.nodeCount()<l;)o=function(e,t){return t.edges().reduce((n,r)=>{let o=1/0;return(e.hasNode(r.v)!==e.hasNode(r.w)&&(o=i(t,r)),o<n[0])?[o,r]:n},[1/0,null])[1]}(s,e),a=s.hasNode(o.v)?i(e,o):-i(e,o),function(e,t,n){e.nodes().forEach(e=>t.node(e).rank+=n)}(s,e,a);return s}},785:function(e,t,n){"use strict";var r=n(6457).longestPath,i=n(8753),o=n(7420);e.exports=function(e){var t,n=e.graph().ranker;if(n instanceof Function)return n(e);switch(e.graph().ranker){case"network-simplex":default:o(e);break;case"tight-tree":r(t=e),i(t);break;case"longest-path":a(e);case"none":}};var a=r},7420:function(e,t,n){"use strict";var r=n(8753),i=n(6457).slack,o=n(6457).longestPath,a=n(4633).alg.preorder,s=n(4633).alg.postorder,u=n(5876).simplify;function l(e){o(e=u(e));var t,n,i=r(e);for(f(i),c(i,e);t=h(i);)n=p(i,e,t),g(i,e,t,n)}function c(e,t){var n=s(e,e.nodes());(n=n.slice(0,n.length-1)).forEach(n=>{var r,i,o,a;return r=e,i=t,o=n,a=r.node(o).parent,void(r.edge(o,a).cutvalue=d(r,i,o))})}function d(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,t.nodeEdges(n).forEach(o=>{var s=o.v===n,u=s?o.w:o.v;if(u!==r){var l,c,d,f=s===i,h=t.edge(o).weight;if(a+=f?h:-h,l=e,c=n,d=u,l.hasEdge(c,d)){var p=e.edge(n,u).cutvalue;a+=f?-p:p}}}),a}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,r,i,o){var a=r,s=t.node(i);return n[i]=!0,t.neighbors(i).forEach(o=>{Object.hasOwn(n,o)||(r=e(t,n,r,o,i))}),s.low=a,s.lim=r++,o?s.parent=o:delete s.parent,r}(e,{},1,t)}function h(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function p(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var a=e.node(r),s=e.node(o),u=a,l=!1;return a.lim>s.lim&&(u=s,l=!0),t.edges().filter(t=>l===m(e,e.node(t.v),u)&&l!==m(e,e.node(t.w),u)).reduce((e,n)=>i(t,n)<i(t,e)?n:e)}function g(e,t,n,r){var i,o,s,u,l=n.v,d=n.w;e.removeEdge(l,d),e.setEdge(r.v,r.w,{}),f(e),c(e,t),i=e,o=t,s=i.nodes().find(e=>!o.node(e).parent),(u=(u=a(i,s)).slice(1)).forEach(e=>{var t=i.node(e).parent,n=o.edge(e,t),r=!1;n||(n=o.edge(t,e),r=!0),o.node(e).rank=o.node(t).rank+(r?n.minlen:-n.minlen)})}function m(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=l,l.initLowLimValues=f,l.initCutValues=c,l.calcCutValue=d,l.leaveEdge=h,l.enterEdge=p,l.exchangeEdges=g},6457:function(e,t,n){"use strict";let{applyWithChunking:r}=n(5876);e.exports={longestPath:function(e){var t={};e.sources().forEach(function n(i){var o=e.node(i);if(Object.hasOwn(t,i))return o.rank;t[i]=!0;var a=r(Math.min,e.outEdges(i).map(t=>null==t?1/0:n(t.w)-e.edge(t).minlen));return a===1/0&&(a=0),o.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},5876:function(e,t,n){"use strict";let r=n(4633).Graph;function i(e,t,n,r){for(var i=r;e.hasNode(i);)i=u(r);return n.dummy=t,e.setNode(i,n),i}e.exports={addBorderNode:function(e,t,n,r){let o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)},addDummyNode:i,applyWithChunking:o,asNonCompoundGraph:function(e){let t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{e.children(n).length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdge(n,e.edge(n))}),t},buildLayerMatrix:function(e){let t=l(a(e)+1).map(()=>[]);return e.nodes().forEach(n=>{let r=e.node(n),i=r.rank;void 0!==i&&(t[i][r.order]=n)}),t},intersectRect:function(e,t){let n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;if(!a&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},mapValues:function(e,t){let n=t;return"string"==typeof t&&(n=e=>e[t]),Object.entries(e).reduce((e,[t,r])=>(e[t]=n(r,t),e),{})},maxRank:a,normalizeRanks:function(e){let t=o(Math.min,e.nodes().map(t=>{let n=e.node(t).rank;return void 0===n?Number.MAX_VALUE:n}));e.nodes().forEach(n=>{let r=e.node(n);Object.hasOwn(r,"rank")&&(r.rank-=t)})},notime:function(e,t){return t()},partition:function(e,t){let n={lhs:[],rhs:[]};return e.forEach(e=>{t(e)?n.lhs.push(e):n.rhs.push(e)}),n},pick:function(e,t){let n={};for(let r of t)void 0!==e[r]&&(n[r]=e[r]);return n},predecessorWeights:function(e){let t=e.nodes().map(t=>{let n={};return e.inEdges(t).forEach(t=>{n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return c(e.nodes(),t)},range:l,removeEmptyRanks:function(e){let t=o(Math.min,e.nodes().map(t=>e.node(t).rank)),n=[];e.nodes().forEach(r=>{let i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});let r=0,i=e.graph().nodeRankFactor;Array.from(n).forEach((t,n)=>{void 0===t&&n%i!=0?--r:void 0!==t&&r&&t.forEach(t=>e.node(t).rank+=r)})},simplify:function(e){let t=new r().setGraph(e.graph());return e.nodes().forEach(n=>t.setNode(n,e.node(n))),e.edges().forEach(n=>{let r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},successorWeights:function(e){let t=e.nodes().map(t=>{let n={};return e.outEdges(t).forEach(t=>{n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return c(e.nodes(),t)},time:function(e,t){let n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}},uniqueId:u,zipObject:c};function o(e,t){if(!(t.length>65535))return e.apply(null,t);{let n=function(e,t=65535){let n=[];for(let r=0;r<e.length;r+=t){let i=e.slice(r,r+t);n.push(i)}return n}(t);return e.apply(null,n.map(t=>e.apply(null,t)))}}function a(e){return o(Math.max,e.nodes().map(t=>{let n=e.node(t).rank;return void 0===n?5e-324:n}))}let s=0;function u(e){return e+""+ ++s}function l(e,t,n=1){null==t&&(t=e,e=0);let r=e=>e<t;n<0&&(r=e=>t<e);let i=[];for(let t=e;r(t);t+=n)i.push(t);return i}function c(e,t){return e.reduce((e,n,r)=>(e[n]=t[r],e),{})}},3838:function(e){e.exports="1.1.5"},4633:function(e,t,n){var r=n(5937);e.exports={Graph:r.Graph,json:n(6675),alg:n(6936),version:r.version}},4306:function(e){e.exports=function(e){var t,n={},r=[];return e.nodes().forEach(function(i){t=[],function r(i){Object.hasOwn(n,i)||(n[i]=!0,t.push(i),e.successors(i).forEach(r),e.predecessors(i).forEach(r))}(i),t.length&&r.push(t)}),r}},6123:function(e){function t(e,t,n,i){for(var o=[[e,!1]];o.length>0;){var a=o.pop();a[1]?i.push(a[0]):Object.hasOwn(n,a[0])||(n[a[0]]=!0,o.push([a[0],!0]),r(t(a[0]),e=>o.push([e,!1])))}}function n(e,t,n,i){for(var o=[e];o.length>0;){var a=o.pop();Object.hasOwn(n,a)||(n[a]=!0,i.push(a),r(t(a),e=>o.push(e)))}}function r(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}e.exports=function(e,r,i){Array.isArray(r)||(r=[r]);var o=e.isDirected()?t=>e.successors(t):t=>e.neighbors(t),a="post"===i?t:n,s=[],u={};return r.forEach(t=>{if(!e.hasNode(t))throw Error("Graph does not have node: "+t);a(t,o,u,s)}),s}},4410:function(e,t,n){var r=n(3456);e.exports=function(e,t,n){return e.nodes().reduce(function(i,o){return i[o]=r(e,o,t,n),i},{})}},3456:function(e,t,n){var r=n(9362);e.exports=function(e,t,n,o){return function(e,t,n,i){var o,a,s={},u=new r,l=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),l=a.distance+i;if(i<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,u.decrease(t,l))};for(e.nodes().forEach(function(e){var n=e===t?0:1/0;s[e]={distance:n},u.add(e,n)});u.size()>0&&(a=s[o=u.removeMin()]).distance!==1/0;)i(o).forEach(l);return s}(e,String(t),n||i,o||function(t){return e.outEdges(t)})};var i=()=>1},2081:function(e,t,n){var r=n(7342);e.exports=function(e){return r(e).filter(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},6583:function(e){e.exports=function(e,n,r){var i,o,a,s,u;return i=e,o=n||t,a=r||function(t){return e.outEdges(t)},s={},(u=i.nodes()).forEach(function(e){s[e]={},s[e][e]={distance:0},u.forEach(function(t){e!==t&&(s[e][t]={distance:1/0})}),a(e).forEach(function(t){var n=t.v===e?t.w:t.v,r=o(t);s[e][n]={distance:r,predecessor:e}})}),u.forEach(function(e){var t=s[e];u.forEach(function(n){var r=s[n];u.forEach(function(n){var i=r[e],o=t[n],a=r[n],s=i.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)})})}),s};var t=()=>1},6936:function(e,t,n){e.exports={components:n(4306),dijkstra:n(3456),dijkstraAll:n(4410),findCycles:n(2081),floydWarshall:n(6583),isAcyclic:n(8203),postorder:n(4522),preorder:n(4289),prim:n(4406),tarjan:n(7342),topsort:n(1767)}},8203:function(e,t,n){var r=n(1767);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},4522:function(e,t,n){var r=n(6123);e.exports=function(e,t){return r(e,t,"post")}},4289:function(e,t,n){var r=n(6123);e.exports=function(e,t){return r(e,t,"pre")}},4406:function(e,t,n){var r=n(2701),i=n(9362);e.exports=function(e,t){var n,o=new r,a={},s=new i;function u(e){var r=e.v===n?e.w:e.v,i=s.priority(r);if(void 0!==i){var o=t(e);o<i&&(a[r]=n,s.decrease(r,o))}}if(0===e.nodeCount())return o;e.nodes().forEach(function(e){s.add(e,1/0),o.setNode(e)}),s.decrease(e.nodes()[0],0);for(var l=!1;s.size()>0;){if(Object.hasOwn(a,n=s.removeMin()))o.setEdge(n,a[n]);else if(l)throw Error("Input graph is not connected: "+e);else l=!0;e.nodeEdges(n).forEach(u)}return o}},7342:function(e){e.exports=function(e){var t=0,n=[],r={},i=[];return e.nodes().forEach(function(o){Object.hasOwn(r,o)||function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(e){Object.hasOwn(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))}),s.lowlink===s.index){var u,l=[];do r[u=n.pop()].onStack=!1,l.push(u);while(a!==u);i.push(l)}}(o)}),i}},1767:function(e){function t(e){var t={},r={},i=[];if(e.sinks().forEach(function o(a){if(Object.hasOwn(r,a))throw new n;Object.hasOwn(t,a)||(r[a]=!0,t[a]=!0,e.predecessors(a).forEach(o),delete r[a],i.push(a))}),Object.keys(t).length!==e.nodeCount())throw new n;return i}class n extends Error{constructor(){super(...arguments)}}e.exports=t,t.CycleException=n},9362:function(e){e.exports=class{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority}min(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key}add(e,t){var n=this._keyIndices;if(!Object.hasOwn(n,e=String(e))){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)}_heapify(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))}_decrease(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t}_swap(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}}},2701:function(e){"use strict";function t(e,t){e[t]?e[t]++:e[t]=1}function n(e,t){--e[t]||delete e[t]}function r(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(void 0===r?"\0":r)}function i(e,t){return r(e,t.v,t.w,t.name)}e.exports=class{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>void 0;_defaultEdgeLabelFn=()=>void 0;_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(e){e&&(this._isDirected=!Object.hasOwn(e,"directed")||e.directed,this._isMultigraph=!!Object.hasOwn(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.hasOwn(e,"compound")&&e.compound),this._isCompound&&(this._parent={},this._children={},this._children["\0"]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,"function"!=typeof e&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(t=>0===Object.keys(e._in[t]).length)}sinks(){var e=this;return this.nodes().filter(t=>0===Object.keys(e._out[t]).length)}setNodes(e,t){var n=arguments,r=this;return e.forEach(function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return Object.hasOwn(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var t=this;if(Object.hasOwn(this._nodes,e)){var n=e=>t.removeEdge(t._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(e){t.setParent(e)}),delete this._children[e]),Object.keys(this._in[e]).forEach(n),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(void 0===t)t="\0";else{t+="";for(var n=t;void 0!==n;n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}}children(e="\0"){if(this._isCompound){var t=this._children[e];if(t)return Object.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]}predecessors(e){var t=this._preds[e];if(t)return Object.keys(t)}successors(e){var t=this._sucs[e];if(t)return Object.keys(t)}neighbors(e){var t=this.predecessors(e);if(t){let r=new Set(t);for(var n of this.successors(e))r.add(n);return Array.from(r.values())}}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;Object.entries(this._nodes).forEach(function([n,r]){e(n)&&t.setNode(n,r)}),Object.values(this._edgeObjs).forEach(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};return this._isCompound&&t.nodes().forEach(e=>t.setParent(e,function e(i){var o=n.parent(i);return void 0===o||t.hasNode(o)?(r[i]=o,o):o in r?r[o]:e(o)}(e))),t}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,"function"!=typeof e&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return e.reduce(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,n,i,o,a=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(e=s.v,n=s.w,i=s.name,2==arguments.length&&(o=arguments[1],a=!0)):(e=s,n=arguments[1],i=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),e=""+e,n=""+n,void 0!==i&&(i=""+i);var u=r(this._isDirected,e,n,i);if(Object.hasOwn(this._edgeLabels,u))return a&&(this._edgeLabels[u]=o),this;if(void 0!==i&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[u]=a?o:this._defaultEdgeLabelFn(e,n,i);var l=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}(this._isDirected,e,n,i);return e=l.v,n=l.w,Object.freeze(l),this._edgeObjs[u]=l,t(this._preds[n],e),t(this._sucs[e],n),this._in[n][u]=l,this._out[e][u]=l,this._edgeCount++,this}edge(e,t,n){var o=1==arguments.length?i(this._isDirected,arguments[0]):r(this._isDirected,e,t,n);return this._edgeLabels[o]}edgeAsObj(){let e=this.edge(...arguments);return"object"!=typeof e?{label:e}:e}hasEdge(e,t,n){var o=1==arguments.length?i(this._isDirected,arguments[0]):r(this._isDirected,e,t,n);return Object.hasOwn(this._edgeLabels,o)}removeEdge(e,t,o){var a=1==arguments.length?i(this._isDirected,arguments[0]):r(this._isDirected,e,t,o),s=this._edgeObjs[a];return s&&(e=s.v,t=s.w,delete this._edgeLabels[a],delete this._edgeObjs[a],n(this._preds[t],e),n(this._sucs[e],t),delete this._in[t][a],delete this._out[e][a],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=Object.values(n);return t?r.filter(e=>e.v===t):r}}outEdges(e,t){var n=this._out[e];if(n){var r=Object.values(n);return t?r.filter(e=>e.w===t):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}}},5937:function(e,t,n){e.exports={Graph:n(2701),version:n(7025)}},6675:function(e,t,n){var r=n(2701);e.exports={write:function(e){var t,n,r={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(t=e).nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return void 0!==n&&(i.value=n),void 0!==r&&(i.parent=r),i}),edges:(n=e).edges().map(function(e){var t=n.edge(e),r={v:e.v,w:e.w};return void 0!==e.name&&(r.name=e.name),void 0!==t&&(r.value=t),r})};return void 0!==e.graph()&&(r.value=structuredClone(e.graph())),r},read:function(e){var t=new r(e.options).setGraph(e.value);return e.nodes.forEach(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),e.edges.forEach(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},7025:function(e){e.exports="2.2.4"},5267:function(){},5899:function(e,t,n){"use strict";n.d(t,{_0:function(){return Z},fM:function(){return tO},H2:function(){return tF},Gc:function(){return tS},ck:function(){return tM},Zk:function(){return j},zW:function(){return K}});var r,i,o=n(7259),a=n(6363);function s(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=s(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var u=n(6119),l=n(8352);let c=e=>{let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}},a=t=e(r,i,o);return o},{useDebugValue:d}=a,{useSyncExternalStoreWithSelector:f}=l,h=e=>e;function p(e,t=h,n){let r=f(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return d(r),r}let g=(e,t)=>{let n=e?c(e):c,r=(e,r=t)=>p(n,e,r);return Object.assign(r,n),r};function m(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}n(7841);let y=(0,a.createContext)(null),v=y.Provider,b=u.xc.error001();function w(e,t){let n=(0,a.useContext)(y);if(null===n)throw Error(b);return p(n,e,t)}function x(){let e=(0,a.useContext)(y);if(null===e)throw Error(b);return(0,a.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let _={display:"none"},E={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},k="react-flow__node-desc",S="react-flow__edge-desc",M=e=>e.ariaLiveMessage,O=e=>e.ariaLabelConfig;function C({rfId:e}){let t=w(M);return(0,o.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:E,children:t})}function N({rfId:e,disableKeyboardA11y:t}){let n=w(O);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{id:`${k}-${e}`,style:_,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,o.jsx)("div",{id:`${S}-${e}`,style:_,children:n["edge.a11yDescription.default"]}),!t&&(0,o.jsx)(C,{rfId:e})]})}let j=(0,a.forwardRef)(({position:e="top-left",children:t,className:n,style:r,...i},a)=>{let u=`${e}`.split("-");return(0,o.jsx)("div",{className:s(["react-flow__panel",n,...u]),style:r,ref:a,...i,children:t})});function A({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,o.jsx)(j,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,o.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}j.displayName="Panel";let D=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},P=e=>e.id;function I(e,t){return m(e.selectedNodes.map(P),t.selectedNodes.map(P))&&m(e.selectedEdges.map(P),t.selectedEdges.map(P))}function L({onSelectionChange:e}){let t=x(),{selectedNodes:n,selectedEdges:r}=w(D,I);return(0,a.useEffect)(()=>{let i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(e=>e(i))},[n,r,e]),null}let $=e=>!!e.onSelectionChangeHandlers;function R({onSelectionChange:e}){let t=w($);return e||t?(0,o.jsx)(L,{onSelectionChange:e}):null}let z=[0,0],T={x:0,y:0,zoom:1},B=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","rfId"],F=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),H={translateExtent:u.ZO,nodeOrigin:z,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function U(e){let{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c}=w(F,m),d=x();(0,a.useEffect)(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=H,l()}),[]);let f=(0,a.useRef)(H);return(0,a.useEffect)(()=>{for(let a of B){let l=e[a];l!==f.current[a]&&void 0!==e[a]&&("nodes"===a?t(l):"edges"===a?n(l):"minZoom"===a?r(l):"maxZoom"===a?i(l):"translateExtent"===a?o(l):"nodeExtent"===a?s(l):"ariaLabelConfig"===a?d.setState({ariaLabelConfig:(0,u.Q6)(l)}):"fitView"===a?d.setState({fitViewQueued:l}):"fitViewOptions"===a?d.setState({fitViewOptions:l}):d.setState({[a]:l}))}f.current=e},B.map(t=>e[t])),null}function V(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let q="undefined"!=typeof document?document:null;function W(e=null,t={target:q,actInsideInputWithModifier:!0}){let[n,r]=(0,a.useState)(!1),i=(0,a.useRef)(!1),o=(0,a.useRef)(new Set([])),[s,l]=(0,a.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,a.useEffect)(()=>{let n=t?.target??q,a=t?.actInsideInputWithModifier??!0;if(null!==e){let e=e=>{if(i.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,(!i.current||i.current&&!a)&&(0,u.v5)(e))return!1;let n=Y(e.code,l);if(o.current.add(e[n]),X(s,o.current,!1)){let n=e.composedPath?.()?.[0]||e.target,o=n?.nodeName==="BUTTON"||n?.nodeName==="A";!1!==t.preventDefault&&(i.current||!o)&&e.preventDefault(),r(!0)}},c=e=>{let t=Y(e.code,l);X(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(e[t]),"Meta"===e.key&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function X(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Y(e,t){return t.includes(e)?"code":"key"}function G(e,t){let n=[],r=new Map,i=[];for(let t of e)if("add"===t.type){i.push(t);continue}else if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{let e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}for(let e of t){let t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let i={...e};for(let e of t){var o=e,a=i;switch(o.type){case"select":a.selected=o.selected;break;case"position":void 0!==o.position&&(a.position=o.position),void 0!==o.dragging&&(a.dragging=o.dragging);break;case"dimensions":void 0!==o.dimensions&&(a.measured??={},a.measured.width=o.dimensions.width,a.measured.height=o.dimensions.height,o.setAttributes&&((!0===o.setAttributes||"width"===o.setAttributes)&&(a.width=o.dimensions.width),(!0===o.setAttributes||"height"===o.setAttributes)&&(a.height=o.dimensions.height))),"boolean"==typeof o.resizing&&(a.resizing=o.resizing)}}n.push(i)}return i.length&&i.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function Z(e,t){return G(e,t)}function K(e,t){return G(e,t)}function Q(e,t){return{id:e,type:"select",selected:t}}function J(e,t=new Set,n=!1){let r=[];for(let[i,o]of e){let e=t.has(i);(void 0!==o.selected||e)&&o.selected!==e&&(n&&(o.selected=e),r.push(Q(o.id,e)))}return r}function ee({items:e=[],lookup:t}){let n=[],r=new Map(e.map(e=>[e.id,e]));for(let[r,i]of e.entries()){let e=t.get(i.id),o=e?.internals?.userNode??e;void 0!==o&&o!==i&&n.push({id:i.id,item:i,type:"replace"}),void 0===o&&n.push({item:i,type:"add",index:r})}for(let[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function et(e){return{id:e.id,type:"remove"}}let en=e=>(0,u.oB)(e);function er(e){return(0,a.forwardRef)(e)}let ei="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;function eo(e){let[t,n]=(0,a.useState)(BigInt(0)),[r]=(0,a.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return ei(()=>{let t=r.get();t.length&&(e(t),r.reset())},[t]),r}let ea=(0,a.createContext)(null);function es({children:e}){let t=x(),n=eo((0,a.useCallback)(e=>{let{nodes:n=[],setNodes:r,hasDefaultNodes:i,onNodesChange:o,nodeLookup:a,fitViewQueued:s}=t.getState(),u=n;for(let t of e)u="function"==typeof t?t(u):t;let l=ee({items:u,lookup:a});i&&r(u),l.length>0?o?.(l):s&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:n,setNodes:r}=t.getState();e&&r(n)})},[])),r=eo((0,a.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:o,edgeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;i?r(s):o&&o(ee({items:s,lookup:a}))},[])),i=(0,a.useMemo)(()=>({nodeQueue:n,edgeQueue:r}),[]);return(0,o.jsx)(ea.Provider,{value:i,children:e})}let eu=e=>!!e.panZoom;function el(){let e,t=(e=x(),(0,a.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{let{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),l=(0,u.R4)(t,r,i,o,a,n?.padding??.1);return s?(await s.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{let{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;let{x:s,y:l}=a.getBoundingClientRect(),c={x:t.x-s,y:t.y-l},d=n.snapGrid??i,f=n.snapToGrid??o;return(0,u.Ff)(c,r,f,d)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:i,y:o}=r.getBoundingClientRect(),a=(0,u.zj)(t,n);return{x:a.x+i,y:a.y+o}}}),[])),n=x(),r=function(){let e=(0,a.useContext)(ea);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),i=w(eu),o=(0,a.useMemo)(()=>{let e=e=>n.getState().nodeLookup.get(e),t=e=>{r.nodeQueue.push(e)},i=e=>{r.edgeQueue.push(e)},o=e=>{let{nodeLookup:t,nodeOrigin:r}=n.getState(),i=en(e)?e:t.get(e.id),o=i.parentId?(0,u.us)(i.position,i.measured,i.parentId,t,r):i.position,a={...i,position:o,width:i.measured?.width??i.width,height:i.measured?.height??i.height};return(0,u.kM)(a)},a=(e,n,r={replace:!1})=>{t(t=>t.map(t=>{if(t.id===e){let e="function"==typeof n?n(t):n;return r.replace&&en(e)?e:{...t,...e}}return t}))},s=(e,t,n={replace:!1})=>{i(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&(0,u.b$)(e)?e:{...r,...e}}return r}))};return{getNodes:()=>n.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=n.getState();return e.map(e=>({...e}))},getEdge:e=>n.getState().edgeLookup.get(e),setNodes:t,setEdges:i,addNodes:e=>{let t=Array.isArray(e)?e:[e];r.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];r.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:t=[],transform:r}=n.getState(),[i,o,a]=r;return{nodes:e.map(e=>({...e})),edges:t.map(e=>({...e})),viewport:{x:i,y:o,zoom:a}}},deleteElements:async({nodes:e=[],edges:t=[]})=>{let{nodes:r,edges:i,onNodesDelete:o,onEdgesDelete:a,triggerNodeChanges:s,triggerEdgeChanges:l,onDelete:c,onBeforeDelete:d}=n.getState(),{nodes:f,edges:h}=await (0,u.Tq)({nodesToRemove:e,edgesToRemove:t,nodes:r,edges:i,onBeforeDelete:d}),p=h.length>0,g=f.length>0;if(p){let e=h.map(et);a?.(h),l(e)}if(g){let e=f.map(et);o?.(f),s(e)}return(g||p)&&c?.({nodes:f,edges:h}),{deletedNodes:f,deletedEdges:h}},getIntersectingNodes:(e,t=!0,r)=>{let i=(0,u.mW)(e),a=i?e:o(e),s=void 0!==r;return a?(r||n.getState().nodes).filter(r=>{let o=n.getState().nodeLookup.get(r.id);if(o&&!i&&(r.id===e.id||!o.internals.positionAbsolute))return!1;let l=(0,u.kM)(s?r:o),c=(0,u.X6)(l,a);return t&&c>0||c>=l.width*l.height||c>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let r=(0,u.mW)(e)?e:o(e);if(!r)return!1;let i=(0,u.X6)(r,t);return n&&i>0||i>=t.width*t.height||i>=r.width*r.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:s,updateEdgeData:(e,t,n={replace:!1})=>{s(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{let{nodeLookup:t,nodeOrigin:r}=n.getState();return(0,u.Jo)(e,{nodeLookup:t,nodeOrigin:r})},getHandleConnections:({type:e,id:t,nodeId:r})=>Array.from(n.getState().connectionLookup.get(`${r}-${e}${t?`-${t}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:t,nodeId:r})=>Array.from(n.getState().connectionLookup.get(`${r}${e?t?`-${e}-${t}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{let t=n.getState().fitViewResolver??(0,u.YN)();return n.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:t}),r.nodeQueue.push(e=>[...e]),t.promise}}},[]);return(0,a.useMemo)(()=>({...o,...t,viewportInitialized:i}),[i])}let ec=e=>e.selected,ed="undefined"!=typeof window?window:void 0,ef={position:"absolute",width:"100%",height:"100%",top:0,left:0},eh=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ep({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=u.ny.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:h,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:y=!0,children:v,noWheelClassName:b,noPanClassName:_,onViewportChange:E,isControlledViewport:k,paneClickDistance:S,selectionOnDrag:M}){let O,C=x(),N=(0,a.useRef)(null),{userSelectionActive:j,lib:A,connectionInProgress:D}=w(eh,m),P=W(g),I=(0,a.useRef)();O=x(),(0,a.useEffect)(()=>{let e=()=>{if(!N.current||!(N.current.checkVisibility?.()??!0))return!1;let e=(0,u.Eo)(N.current);(0===e.height||0===e.width)&&O.getState().onError?.("004",u.xc.error004()),O.setState({width:e.width||500,height:e.height||500})};if(N.current){e(),window.addEventListener("resize",e);let t=new ResizeObserver(()=>e());return t.observe(N.current),()=>{window.removeEventListener("resize",e),t&&N.current&&t.unobserve(N.current)}}},[]);let L=(0,a.useCallback)(e=>{E?.({x:e[0],y:e[1],zoom:e[2]}),k||C.setState({transform:e})},[E,k]);return(0,a.useEffect)(()=>{if(N.current){I.current=(0,u.kO)({domNode:N.current,minZoom:h,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:e=>C.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:r}=C.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:r}=C.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:r}=C.getState();r?.(e,t),n?.(t)}});let{x:e,y:t,zoom:n}=I.current.getViewport();return C.setState({panZoom:I.current,transform:[e,t,n],domNode:N.current.closest(".react-flow")}),()=>{I.current?.destroy()}}},[]),(0,a.useEffect)(()=>{I.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:P,preventScrolling:y,noPanClassName:_,userSelectionActive:j,noWheelClassName:b,lib:A,onTransformChange:L,connectionInProgress:D,selectionOnDrag:M,paneClickDistance:S})},[e,t,n,r,i,s,l,c,P,y,_,j,b,A,L,D,M,S]),(0,o.jsx)("div",{className:"react-flow__renderer",ref:N,style:ef,children:v})}let eg=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function em(){let{userSelectionActive:e,userSelectionRect:t}=w(eg,m);return e&&t?(0,o.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let ey=(e,t)=>n=>{n.target===t.current&&e?.(n)},ev=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function eb({isSelecting:e,selectionKeyPressed:t,selectionMode:n=u.Qc.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:g,onPaneMouseMove:y,onPaneMouseLeave:v,children:b}){let _=x(),{userSelectionActive:E,elementsSelectable:k,dragging:S,connectionInProgress:M}=w(ev,m),O=k&&(e||E),C=(0,a.useRef)(null),N=(0,a.useRef)(),j=(0,a.useRef)(new Set),A=(0,a.useRef)(new Set),D=(0,a.useRef)(!1),P=e=>{if(D.current||M){D.current=!1;return}f?.(e),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},I=!0===r||Array.isArray(r)&&r.includes(0);return(0,o.jsxs)("div",{className:s(["react-flow__pane",{draggable:I,dragging:S,selection:e}]),onClick:O?void 0:ey(P,C),onContextMenu:ey(e=>{Array.isArray(r)&&r?.includes(2)?e.preventDefault():h?.(e)},C),onWheel:ey(p?e=>p(e):void 0,C),onPointerEnter:O?void 0:g,onPointerMove:O?e=>{let{userSelectionRect:r,transform:o,nodeLookup:a,edgeLookup:s,connectionLookup:l,triggerNodeChanges:d,triggerEdgeChanges:f,defaultEdgeOptions:h,resetSelectedElements:p}=_.getState();if(!N.current||!r)return;let{x:g,y:m}=(0,u.q1)(e.nativeEvent,N.current),{startX:y,startY:v}=r;if(!D.current){if(Math.hypot(g-y,m-v)<=(t?0:i))return;p(),c?.(e)}D.current=!0;let b={startX:y,startY:v,x:g<y?g:y,y:m<v?m:v,width:Math.abs(g-y),height:Math.abs(m-v)},w=j.current,x=A.current;j.current=new Set((0,u.U$)(a,b,o,n===u.Qc.Partial,!0).map(e=>e.id)),A.current=new Set;let E=h?.selectable??!0;for(let e of j.current){let t=l.get(e);if(t)for(let{edgeId:e}of t.values()){let t=s.get(e);t&&(t.selectable??E)&&A.current.add(e)}}(0,u._s)(w,j.current)||d(J(a,j.current,!0)),(0,u._s)(x,A.current)||f(J(s,A.current)),_.setState({userSelectionRect:b,userSelectionActive:!0,nodesSelectionActive:!1})}:y,onPointerUp:O?e=>{0===e.button&&(e.target?.releasePointerCapture?.(e.pointerId),!E&&e.target===C.current&&_.getState().userSelectionRect&&P?.(e),_.setState({userSelectionActive:!1,userSelectionRect:null}),D.current&&(d?.(e),_.setState({nodesSelectionActive:j.current.size>0})))}:void 0,onPointerDownCapture:O?n=>{let{domNode:r}=_.getState();if(N.current=r?.getBoundingClientRect(),!N.current)return;let i=n.target===C.current;if(!i&&n.target.closest(".nokey")||!e||!(l&&i||t)||0!==n.button||!n.isPrimary)return;n.target?.setPointerCapture?.(n.pointerId),D.current=!1;let{x:o,y:a}=(0,u.q1)(n.nativeEvent,N.current);_.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),i||(n.stopPropagation(),n.preventDefault())}:void 0,onClickCapture:O?e=>{D.current&&(e.stopPropagation(),D.current=!1)}:void 0,onPointerLeave:v,ref:C,style:ef,children:[b,(0,o.jsx)(em,{})]})}function ew({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),c=s.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])):l?.("012",u.xc.error012(e))}function ex({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){let l=x(),[c,d]=(0,a.useState)(!1),f=(0,a.useRef)();return(0,a.useEffect)(()=>{f.current=(0,u.I$)({getStoreItems:()=>l.getState(),onNodeMouseDown:t=>{ew({id:t,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),(0,a.useEffect)(()=>{if(t)f.current?.destroy();else if(e.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{f.current?.destroy()}},[n,r,t,o,e,i]),c}function e_(){let e=x();return(0,a.useCallback)(t=>{let{nodeExtent:n,snapToGrid:r,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:s,nodeLookup:l,nodeOrigin:c}=e.getState(),d=new Map,f=e=>e.selected&&(e.draggable||o&&void 0===e.draggable),h=r?i[0]:5,p=r?i[1]:5,g=t.direction.x*h*t.factor,m=t.direction.y*p*t.factor;for(let[,e]of l){if(!f(e))continue;let t={x:e.internals.positionAbsolute.x+g,y:e.internals.positionAbsolute.y+m};r&&(t=(0,u.s_)(t,i));let{position:o,positionAbsolute:s}=(0,u.aE)({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:a});e.position=o,e.internals.positionAbsolute=s,d.set(e.id,e)}s(d)},[])}let eE=(0,a.createContext)(null),ek=eE.Provider;eE.Consumer;let eS=()=>(0,a.useContext)(eE),eM=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),eO=(0,a.memo)(er(function({type:e="source",position:t=u.yX.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:h,onTouchStart:p,...g},y){let v=l||null,b="target"===e,_=x(),E=eS(),{connectOnClick:k,noPanClassName:S,rfId:M}=w(eM,m),{connectingFrom:O,connectingTo:C,clickConnecting:N,isPossibleEndHandle:j,connectionInProcess:A,clickConnectionInProcess:D,valid:P}=w(t=>{let{connectionClickStartHandle:n,connectionMode:r,connection:i}=t,{fromHandle:o,toHandle:a,isValid:s}=i,l=a?.nodeId===E&&a?.id===v&&a?.type===e;return{connectingFrom:o?.nodeId===E&&o?.id===v&&o?.type===e,connectingTo:l,clickConnecting:n?.nodeId===E&&n?.id===v&&n?.type===e,isPossibleEndHandle:r===u.WZ.Strict?o?.type!==e:E!==o?.nodeId||v!==o?.id,connectionInProcess:!!o,clickConnectionInProcess:!!n,valid:l&&s}},m);E||_.getState().onError?.("010",u.xc.error010());let I=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=_.getState(),i={...t,...e};if(r){let{edges:e,setEdges:t}=_.getState();t((0,u.rN)(i,e))}n?.(i),c?.(i)},L=e=>{if(!E)return;let t=(0,u.Er)(e.nativeEvent);if(i&&(t&&0===e.button||!t)){let t=_.getState();u.aQ.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:b,handleId:v,nodeId:E,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:I,isValidConnection:n||t.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?h?.(e):p?.(e)};return(0,o.jsx)("div",{"data-handleid":v,"data-nodeid":E,"data-handlepos":t,"data-id":`${M}-${E}-${v}-${e}`,className:s(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,f,{source:!b,target:b,connectable:r,connectablestart:i,connectableend:a,clickconnecting:N,connectingfrom:O,connectingto:C,valid:P,connectionindicator:r&&(!A||j)&&(A||D?a:i)}]),onMouseDown:L,onTouchStart:L,onClick:k?t=>{let{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l,lib:c,rfId:d,nodeLookup:f,connection:h}=_.getState();if(!E||!a&&!i)return;if(!a){r?.(t.nativeEvent,{nodeId:E,handleId:v,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:E,type:e,id:v}});return}let p=(0,u.oj)(t.target),g=n||l,{connection:m,isValid:y}=u.aQ.isValid(t.nativeEvent,{handle:{nodeId:E,id:v,type:e},connectionMode:s,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:g,flowId:d,doc:p,lib:c,nodeLookup:f});y&&m&&I(m);let b=structuredClone(h);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,o?.(t,b),_.setState({connectionClickStartHandle:null})}:void 0,ref:y,...g,children:d})})),eC={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},eN={input:function({data:e,isConnectable:t,sourcePosition:n=u.yX.Bottom}){return(0,o.jsxs)(o.Fragment,{children:[e?.label,(0,o.jsx)(eO,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=u.yX.Top,sourcePosition:r=u.yX.Bottom}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eO,{type:"target",position:n,isConnectable:t}),e?.label,(0,o.jsx)(eO,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=u.yX.Top}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eO,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},ej=e=>{let{width:t,height:n,x:r,y:i}=(0,u.aZ)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,u.kf)(t)?t:null,height:(0,u.kf)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function eA({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=x(),{width:i,height:u,transformString:l,userSelectionActive:c}=w(ej,m),d=e_(),f=(0,a.useRef)(null);if((0,a.useEffect)(()=>{n||f.current?.focus({preventScroll:!0})},[n]),ex({nodeRef:f}),c||!i||!u)return null;let h=e?t=>{e(t,r.getState().nodes.filter(e=>e.selected))}:void 0;return(0,o.jsx)("div",{className:s(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:(0,o.jsx)("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(eC,e.key)&&(e.preventDefault(),d({direction:eC[e.key],factor:e.shiftKey?4:1}))},style:{width:i,height:u}})})}let eD="undefined"!=typeof window?window:void 0,eP=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eI({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:u,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:v,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:C,defaultViewport:N,translateExtent:j,minZoom:A,maxZoom:D,preventScrolling:P,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:$,disableKeyboardA11y:R,onViewportChange:z,isControlledViewport:T}){let{nodesSelectionActive:B,userSelectionActive:F}=w(eP),H=W(d,{target:eD}),U=W(y,{target:eD}),V=U||C,q=U||k,X=f&&!0!==V,Y=H||F||X;return!function({deleteKeyCode:e,multiSelectionKeyCode:t}){let n=x(),{deleteElements:r}=el(),i=W(e,{actInsideInputWithModifier:!1}),o=W(t,{target:ed});(0,a.useEffect)(()=>{if(i){let{edges:e,nodes:t}=n.getState();r({nodes:t.filter(ec),edges:e.filter(ec)}),n.setState({nodesSelectionActive:!1})}},[i]),(0,a.useEffect)(()=>{n.setState({multiSelectionActive:o})},[o])}({deleteKeyCode:c,multiSelectionKeyCode:m}),(0,o.jsx)(ep,{onPaneContextMenu:s,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:q,panOnScrollSpeed:S,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:!H&&V,defaultViewport:N,translateExtent:j,minZoom:A,maxZoom:D,zoomActivationKeyCode:v,preventScrolling:P,noWheelClassName:L,noPanClassName:$,onViewportChange:z,isControlledViewport:T,paneClickDistance:l,selectionOnDrag:X,children:(0,o.jsxs)(eb,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:u,panOnDrag:V,isSelecting:!!Y,selectionMode:h,selectionKeyPressed:H,paneClickDistance:l,selectionOnDrag:X,children:[e,B&&(0,o.jsx)(eA,{onSelectionContextMenu:I,noPanClassName:$,disableKeyboardA11y:R})]})})}eI.displayName="FlowRenderer";let eL=(0,a.memo)(eI),e$=e=>e.updateNodeInternals;var eR=(0,a.memo)(function({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:l,onDoubleClick:c,nodesDraggable:d,elementsSelectable:f,nodesConnectable:h,nodesFocusable:p,resizeObserver:g,noDragClassName:y,noPanClassName:v,disableKeyboardA11y:b,rfId:_,nodeTypes:E,nodeClickDistance:S,onError:M}){let{node:O,internals:C,isParent:N}=w(t=>{let n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},m),j=O.type||"default",A=E?.[j]||eN[j];void 0===A&&(M?.("003",u.xc.error003(j)),j="default",A=E?.default||eN.default);let D=!!(O.draggable||d&&void 0===O.draggable),P=!!(O.selectable||f&&void 0===O.selectable),I=!!(O.connectable||h&&void 0===O.connectable),L=!!(O.focusable||p&&void 0===O.focusable),$=x(),R=(0,u.QE)(O),z=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){let i=x(),o=(0,a.useRef)(null),s=(0,a.useRef)(null),u=(0,a.useRef)(e.sourcePosition),l=(0,a.useRef)(e.targetPosition),c=(0,a.useRef)(t),d=n&&!!e.internals.handleBounds;return(0,a.useEffect)(()=>{!o.current||e.hidden||d&&s.current===o.current||(s.current&&r?.unobserve(s.current),r?.observe(o.current),s.current=o.current)},[d,e.hidden]),(0,a.useEffect)(()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)},[]),(0,a.useEffect)(()=>{if(o.current){let n=c.current!==t,r=u.current!==e.sourcePosition,a=l.current!==e.targetPosition;(n||r||a)&&(c.current=t,u.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}({node:O,nodeType:j,hasDimensions:R,resizeObserver:g}),T=ex({nodeRef:z,disabled:O.hidden||!D,noDragClassName:y,handleSelector:O.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:S}),B=e_();if(O.hidden)return null;let F=(0,u.uD)(O),H=void 0===O.internals.handleBounds?{width:O.width??O.initialWidth??O.style?.width,height:O.height??O.initialHeight??O.style?.height}:{width:O.width??O.style?.width,height:O.height??O.style?.height},U=P||D||t||n||r||i,V=n?e=>n(e,{...C.userNode}):void 0,q=r?e=>r(e,{...C.userNode}):void 0,W=i?e=>i(e,{...C.userNode}):void 0,X=l?e=>l(e,{...C.userNode}):void 0,Y=c?e=>c(e,{...C.userNode}):void 0;return(0,o.jsx)("div",{className:s(["react-flow__node",`react-flow__node-${j}`,{[v]:D},O.className,{selected:O.selected,selectable:P,parent:N,draggable:D,dragging:T}]),ref:z,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:R?"visible":"hidden",...O.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:V,onMouseMove:q,onMouseLeave:W,onContextMenu:X,onClick:n=>{let{selectNodesOnDrag:r,nodeDragThreshold:i}=$.getState();P&&(!r||!D||i>0)&&ew({id:e,store:$,nodeRef:z}),t&&t(n,{...C.userNode})},onDoubleClick:Y,onKeyDown:L?t=>{if(!(0,u.v5)(t.nativeEvent)&&!b){if(u.tn.includes(t.key)&&P)ew({id:e,store:$,unselect:"Escape"===t.key,nodeRef:z});else if(D&&O.selected&&Object.prototype.hasOwnProperty.call(eC,t.key)){t.preventDefault();let{ariaLabelConfig:e}=$.getState();$.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),B({direction:eC[t.key],factor:t.shiftKey?4:1})}}}:void 0,tabIndex:L?0:void 0,onFocus:L?()=>{if(b||!z.current?.matches(":focus-visible"))return;let{transform:t,width:n,height:r,autoPanOnNodeFocus:i,setCenter:o}=$.getState();!i||(0,u.U$)(new Map([[e,O]]),{x:0,y:0,width:n,height:r},t,!0).length>0||o(O.position.x+F.width/2,O.position.y+F.height/2,{zoom:t[2]})}:void 0,role:O.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${k}-${_}`,"aria-label":O.ariaLabel,...O.domAttributes,children:(0,o.jsx)(ek,{value:e,children:(0,o.jsx)(A,{id:e,data:O.data,type:j,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:O.selected??!1,selectable:P,draggable:D,deletable:O.deletable??!0,isConnectable:I,sourcePosition:O.sourcePosition,targetPosition:O.targetPosition,dragging:T,dragHandle:O.dragHandle,zIndex:C.z,parentId:O.parentId,...F})})})});let ez=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function eT(e){var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:s,onError:l}=w(ez,m),c=(t=e.onlyRenderVisibleElements,w((0,a.useCallback)(e=>t?(0,u.U$)(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(e=>e.id):Array.from(e.nodeLookup.keys()),[t]),m)),d=function(){let e=w(e$),[t]=(0,a.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,a.useEffect)(()=>()=>{t?.disconnect()},[t]),t}();return(0,o.jsx)("div",{className:"react-flow__nodes",style:ef,children:c.map(t=>(0,o.jsx)(eR,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:l},t))})}eT.displayName="NodeRenderer";let eB=(0,a.memo)(eT),eF={[u.TG.Arrow]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e}};return(0,o.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[u.TG.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,o.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},eH=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{let d,f=(d=x(),(0,a.useMemo)(()=>Object.prototype.hasOwnProperty.call(eF,t)?eF[t]:(d.getState().onError?.("009",u.xc.error009(t)),null),[t]));return f?(0,o.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:(0,o.jsx)(f,{color:n,strokeWidth:l})}):null},eU=({defaultColor:e,rfId:t})=>{let n=w(e=>e.edges),r=w(e=>e.defaultEdgeOptions),i=(0,a.useMemo)(()=>(0,u.Hm)(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return i.length?(0,o.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,o.jsx)("defs",{children:i.map(e=>(0,o.jsx)(eH,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};eU.displayName="MarkerDefinitions";var eV=(0,a.memo)(eU);function eq({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:u,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...h}){let[p,g]=(0,a.useState)({x:1,y:0,width:0,height:0}),m=s(["react-flow__edge-textwrapper",f]),y=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if(y.current){let e=y.current.getBBox();g({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),n)?(0,o.jsxs)("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:m,visibility:p.width?"visible":"hidden",...h,children:[i&&(0,o.jsx)("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:u,rx:c,ry:c}),(0,o.jsx)("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:y,style:r,children:n}),d]}):null}eq.displayName="EdgeText";let eW=(0,a.memo)(eq);function eX({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{...h,d:e,fill:"none",className:s(["react-flow__edge-path",h.className])}),f?(0,o.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&(0,u.kf)(t)&&(0,u.kf)(n)?(0,o.jsx)(eW,{x:t,y:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function eY({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===u.yX.Left||e===u.yX.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function eG({sourceX:e,sourceY:t,sourcePosition:n=u.yX.Bottom,targetX:r,targetY:i,targetPosition:o=u.yX.Top}){let[a,s]=eY({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=eY({pos:o,x1:r,y1:i,x2:e,y2:t}),[d,f,h,p]=(0,u.e_)({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${r},${i}`,d,f,h,p]}function eZ(e){return(0,a.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:s,targetPosition:u,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,interactionWidth:v})=>{let[b,w,x]=eG({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:a,targetPosition:u}),_=e.isInternal?void 0:t;return(0,o.jsx)(eX,{id:_,path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:y,interactionWidth:v})})}let eK=eZ({isInternal:!1}),eQ=eZ({isInternal:!0});function eJ(e){return(0,a.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=u.yX.Bottom,targetPosition:m=u.yX.Top,markerEnd:y,markerStart:v,pathOptions:b,interactionWidth:w})=>{let[x,_,E]=(0,u.oN)({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:a,targetPosition:m,borderRadius:b?.borderRadius,offset:b?.offset,stepPosition:b?.stepPosition}),k=e.isInternal?void 0:t;return(0,o.jsx)(eX,{id:k,path:x,labelX:_,labelY:E,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:v,interactionWidth:w})})}eK.displayName="SimpleBezierEdge",eQ.displayName="SimpleBezierEdgeInternal";let e0=eJ({isInternal:!1}),e1=eJ({isInternal:!0});function e2(e){return(0,a.memo)(({id:t,...n})=>{let r=e.isInternal?void 0:t;return(0,o.jsx)(e0,{...n,id:r,pathOptions:(0,a.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}e0.displayName="SmoothStepEdge",e1.displayName="SmoothStepEdgeInternal";let e3=e2({isInternal:!1}),e5=e2({isInternal:!0});function e4(e){return(0,a.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:y})=>{let[v,b,w]=(0,u.ah)({sourceX:n,sourceY:r,targetX:i,targetY:a}),x=e.isInternal?void 0:t;return(0,o.jsx)(eX,{id:x,path:v,labelX:b,labelY:w,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:y})})}e3.displayName="StepEdge",e5.displayName="StepEdgeInternal";let e6=e4({isInternal:!1}),e8=e4({isInternal:!0});function e7(e){return(0,a.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:s=u.yX.Bottom,targetPosition:l=u.yX.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:v,pathOptions:b,interactionWidth:w})=>{let[x,_,E]=(0,u.Fp)({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:a,targetPosition:l,curvature:b?.curvature}),k=e.isInternal?void 0:t;return(0,o.jsx)(eX,{id:k,path:x,labelX:_,labelY:E,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:y,markerStart:v,interactionWidth:w})})}e6.displayName="StraightEdge",e8.displayName="StraightEdgeInternal";let e9=e7({isInternal:!1}),te=e7({isInternal:!0});e9.displayName="BezierEdge",te.displayName="BezierEdgeInternal";let tt={default:te,straight:e8,step:e5,smoothstep:e1,simplebezier:eQ},tn={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},tr="react-flow__edgeupdater";function ti({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:l,type:c}){return(0,o.jsx)("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:l,className:s([tr,`${tr}-${c}`]),cx:e===u.yX.Left?t-r:e===u.yX.Right?t+r:t,cy:e===u.yX.Top?n-r:e===u.yX.Bottom?n+r:n,r:r,stroke:"transparent",fill:"transparent"})}function to({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:a,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:g}){let m=x(),y=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:r,domNode:i,isValidConnection:o,connectionMode:a,connectionRadius:s,lib:l,onConnectStart:c,onConnectEnd:g,cancelConnection:y,nodeLookup:v,rfId:b,panBy:w,updateConnection:x}=m.getState(),_="target"===t.type;u.aQ.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:a,connectionRadius:s,domNode:i,handleId:t.id,nodeId:t.nodeId,nodeLookup:v,isTarget:_,edgeUpdaterType:t.type,lib:l,flowId:b,cancelConnection:y,panBy:w,isValidConnection:o,onConnect:e=>d?.(n,e),onConnectStart:(r,i)=>{p(!0),f?.(e,n,t.type),c?.(r,i)},onConnectEnd:g,onReconnectEnd:(e,r)=>{p(!1),h?.(e,n,t.type,r)},updateConnection:x,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},v=()=>g(!0),b=()=>g(!1);return(0,o.jsxs)(o.Fragment,{children:[(!0===e||"source"===e)&&(0,o.jsx)(ti,{position:l,centerX:r,centerY:i,radius:t,onMouseDown:e=>y(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:v,onMouseOut:b,type:"source"}),(!0===e||"target"===e)&&(0,o.jsx)(ti,{position:c,centerX:a,centerY:s,radius:t,onMouseDown:e=>y(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:v,onMouseOut:b,type:"target"})]})}var ta=(0,a.memo)(function({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:l,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,reconnectRadius:p,onReconnect:g,onReconnectStart:y,onReconnectEnd:v,rfId:b,edgeTypes:_,noPanClassName:E,onError:k,disableKeyboardA11y:M}){let O=w(t=>t.edgeLookup.get(e)),C=w(e=>e.defaultEdgeOptions),N=(O=C?{...C,...O}:O).type||"default",j=_?.[N]||tt[N];void 0===j&&(k?.("011",u.xc.error011(N)),N="default",j=_?.default||tt.default);let A=!!(O.focusable||t&&void 0===O.focusable),D=void 0!==g&&(O.reconnectable||n&&void 0===O.reconnectable),P=!!(O.selectable||r&&void 0===O.selectable),I=(0,a.useRef)(null),[L,$]=(0,a.useState)(!1),[R,z]=(0,a.useState)(!1),T=x(),{zIndex:B,sourceX:F,sourceY:H,targetX:U,targetY:V,sourcePosition:q,targetPosition:W}=w((0,a.useCallback)(t=>{let n=t.nodeLookup.get(O.source),r=t.nodeLookup.get(O.target);if(!n||!r)return{zIndex:O.zIndex,...tn};let i=(0,u.b5)({id:e,sourceNode:n,targetNode:r,sourceHandle:O.sourceHandle||null,targetHandle:O.targetHandle||null,connectionMode:t.connectionMode,onError:k});return{zIndex:(0,u.qX)({selected:O.selected,zIndex:O.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...i||tn}},[O.source,O.target,O.sourceHandle,O.targetHandle,O.selected,O.zIndex]),m),X=(0,a.useMemo)(()=>O.markerStart?`url('#${(0,u.aW)(O.markerStart,b)}')`:void 0,[O.markerStart,b]),Y=(0,a.useMemo)(()=>O.markerEnd?`url('#${(0,u.aW)(O.markerEnd,b)}')`:void 0,[O.markerEnd,b]);if(O.hidden||null===F||null===H||null===U||null===V)return null;let G=l?e=>{l(e,{...O})}:void 0,Z=c?e=>{c(e,{...O})}:void 0,K=d?e=>{d(e,{...O})}:void 0,Q=f?e=>{f(e,{...O})}:void 0,J=h?e=>{h(e,{...O})}:void 0;return(0,o.jsx)("svg",{style:{zIndex:B},children:(0,o.jsxs)("g",{className:s(["react-flow__edge",`react-flow__edge-${N}`,O.className,E,{selected:O.selected,animated:O.animated,inactive:!P&&!i,updating:L,selectable:P}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=T.getState();P&&(T.setState({nodesSelectionActive:!1}),O.selected&&o?(r({nodes:[],edges:[O]}),I.current?.blur()):n([e])),i&&i(t,O)},onDoubleClick:G,onContextMenu:Z,onMouseEnter:K,onMouseMove:Q,onMouseLeave:J,onKeyDown:A?t=>{if(!M&&u.tn.includes(t.key)&&P){let{unselectNodesAndEdges:n,addSelectedEdges:r}=T.getState();"Escape"===t.key?(I.current?.blur(),n({edges:[O]})):r([e])}}:void 0,tabIndex:A?0:void 0,role:O.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===O.ariaLabel?void 0:O.ariaLabel||`Edge from ${O.source} to ${O.target}`,"aria-describedby":A?`${S}-${b}`:void 0,ref:I,...O.domAttributes,children:[!R&&(0,o.jsx)(j,{id:e,source:O.source,target:O.target,type:O.type,selected:O.selected,animated:O.animated,selectable:P,deletable:O.deletable??!0,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,sourceX:F,sourceY:H,targetX:U,targetY:V,sourcePosition:q,targetPosition:W,data:O.data,style:O.style,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerStart:X,markerEnd:Y,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth}),D&&(0,o.jsx)(to,{edge:O,isReconnectable:D,reconnectRadius:p,onReconnect:g,onReconnectStart:y,onReconnectEnd:v,sourceX:F,sourceY:H,targetX:U,targetY:V,sourcePosition:q,targetPosition:W,setUpdateHover:$,setReconnecting:z})]})})});let ts=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function tu({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:v,disableKeyboardA11y:b}){let{edgesFocusable:x,edgesReconnectable:_,elementsSelectable:E,onError:k}=w(ts,m),S=w((0,a.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let r=e.nodeLookup.get(t.source),i=e.nodeLookup.get(t.target);r&&i&&(0,u.uj)({sourceNode:r,targetNode:i,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),m);return(0,o.jsxs)("div",{className:"react-flow__edges",children:[(0,o.jsx)(eV,{defaultColor:e,rfId:n}),S.map(e=>(0,o.jsx)(ta,{id:e,edgesFocusable:x,edgesReconnectable:_,elementsSelectable:E,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:v,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:b},e))]})}tu.displayName="EdgeRenderer";let tl=(0,a.memo)(tu),tc=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function td({children:e}){let t=w(tc);return(0,o.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let tf=e=>e.panZoom?.syncViewport;function th(e){return e.connection.inProgress?{...e.connection,to:(0,u.Ff)(e.connection.to,e.transform)}:{...e.connection}}let tp=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tg({containerStyle:e,style:t,type:n,component:r}){let{nodesConnectable:i,width:a,height:l,isValid:c,inProgress:d}=w(tp,m);return a&&i&&d?(0,o.jsx)("svg",{style:e,width:a,height:l,className:"react-flow__connectionline react-flow__container",children:(0,o.jsx)("g",{className:s(["react-flow__connection",(0,u.HF)(c)]),children:(0,o.jsx)(tm,{style:t,type:n,CustomComponent:r,isValid:c})})}):null}let tm=({style:e,type:t=u.Do.Bezier,CustomComponent:n,isValid:r})=>{let{inProgress:i,from:a,fromNode:s,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:h,toPosition:p}=w(th,m);if(!i)return;if(n)return(0,o.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:a.x,fromY:a.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:p,connectionStatus:(0,u.HF)(r),toNode:f,toHandle:h});let g="",y={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:p};switch(t){case u.Do.Bezier:[g]=(0,u.Fp)(y);break;case u.Do.SimpleBezier:[g]=eG(y);break;case u.Do.Step:[g]=(0,u.oN)({...y,borderRadius:0});break;case u.Do.SmoothStep:[g]=(0,u.oN)(y);break;default:[g]=(0,u.ah)(y)}return(0,o.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};tm.displayName="ConnectionLine";let ty={};function tv(e=ty){(0,a.useRef)(e),x(),(0,a.useEffect)(()=>{},[e])}function tb({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:u,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:g,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:_,selectionOnDrag:E,selectionMode:k,multiSelectionKeyCode:S,panActivationKeyCode:M,zoomActivationKeyCode:O,deleteKeyCode:C,onlyRenderVisibleElements:N,elementsSelectable:j,defaultViewport:A,translateExtent:D,minZoom:P,maxZoom:I,preventScrolling:L,defaultMarkerColor:$,zoomOnScroll:R,zoomOnPinch:z,panOnScroll:T,panOnScrollSpeed:B,panOnScrollMode:F,zoomOnDoubleClick:H,panOnDrag:U,onPaneClick:V,onPaneMouseEnter:q,onPaneMouseMove:W,onPaneMouseLeave:X,onPaneScroll:Y,onPaneContextMenu:G,paneClickDistance:Z,nodeClickDistance:K,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,onReconnect:er,onReconnectStart:ei,onReconnectEnd:eo,noDragClassName:ea,noWheelClassName:es,noPanClassName:eu,disableKeyboardA11y:ec,nodeExtent:ed,rfId:ef,viewport:eh,onViewportChange:ep}){let eg,em,ey,ev;return tv(e),tv(t),x(),(0,a.useRef)(!1),(0,a.useEffect)(()=>{},[]),eg=el(),em=(0,a.useRef)(!1),(0,a.useEffect)(()=>{!em.current&&eg.viewportInitialized&&n&&(setTimeout(()=>n(eg),1),em.current=!0)},[n,eg.viewportInitialized]),ey=w(tf),ev=x(),(0,a.useEffect)(()=>{eh&&(ey?.(eh),ev.setState({transform:[eh.x,eh.y,eh.zoom]}))},[eh,ey]),(0,o.jsx)(eL,{onPaneClick:V,onPaneMouseEnter:q,onPaneMouseMove:W,onPaneMouseLeave:X,onPaneContextMenu:G,onPaneScroll:Y,paneClickDistance:Z,deleteKeyCode:C,selectionKeyCode:_,selectionOnDrag:E,selectionMode:k,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:M,zoomActivationKeyCode:O,elementsSelectable:j,zoomOnScroll:R,zoomOnPinch:z,zoomOnDoubleClick:H,panOnScroll:T,panOnScrollSpeed:B,panOnScrollMode:F,panOnDrag:U,defaultViewport:A,translateExtent:D,minZoom:P,maxZoom:I,onSelectionContextMenu:h,preventScrolling:L,noDragClassName:ea,noWheelClassName:es,noPanClassName:eu,disableKeyboardA11y:ec,onViewportChange:ep,isControlledViewport:!!eh,children:(0,o.jsxs)(td,{children:[(0,o.jsx)(tl,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:u,onReconnect:er,onReconnectStart:ei,onReconnectEnd:eo,onlyRenderVisibleElements:N,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,defaultMarkerColor:$,noPanClassName:eu,disableKeyboardA11y:ec,rfId:ef}),(0,o.jsx)(tg,{style:y,type:m,component:v,containerStyle:b}),(0,o.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,o.jsx)(eB,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:K,onlyRenderVisibleElements:N,noPanClassName:eu,noDragClassName:ea,disableKeyboardA11y:ec,nodeExtent:ed,rfId:ef}),(0,o.jsx)("div",{className:"react-flow__viewport-portal"})]})})}tb.displayName="GraphView";let tw=(0,a.memo)(tb),tx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f}={})=>{let h=new Map,p=new Map,g=new Map,m=new Map,y=r??t??[],v=n??e??[],b=d??[0,0],w=f??u.ZO;(0,u.qn)(g,m,y);let x=(0,u.bi)(v,h,p,{nodeOrigin:b,nodeExtent:w,elevateNodesOnSelect:!1}),_=[0,0,1];if(a&&i&&o){let e=(0,u.aZ)(h,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),{x:t,y:n,zoom:r}=(0,u.R4)(e,i,o,l,c,s?.padding??.1);_=[t,n,r]}return{rfId:"1",width:i??0,height:o??0,transform:_,nodes:v,nodesInitialized:x,nodeLookup:h,parentLookup:p,edges:y,edgeLookup:m,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:l,maxZoom:c,translateExtent:u.ZO,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:u.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...u.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:u.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:u.tM}};function t_({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:h,nodeExtent:p,children:m}){let[y]=(0,a.useState)(()=>(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f})=>{let h,p;return h=(h,p)=>{async function g(){let{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:r,width:i,height:o,minZoom:a,maxZoom:s}=p();t&&(await (0,u.IO)({nodes:e,width:i,height:o,panZoom:t,minZoom:a,maxZoom:s},n),r?.resolve(!0),h({fitViewResolver:null}))}return{...tx({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:i,fitViewQueued:o}=p(),a=(0,u.bi)(e,t,n,{nodeOrigin:r,nodeExtent:f,elevateNodesOnSelect:i,checkEquality:!0});o&&a?(g(),h({nodes:e,nodesInitialized:a,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:e,nodesInitialized:a})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=p();(0,u.qn)(t,n,e),h({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=p();t(e),h({hasDefaultNodes:!0})}if(t){let{setEdges:e}=p();e(t),h({hasDefaultEdges:!0})}},updateNodeInternals:e=>{let{triggerNodeChanges:t,nodeLookup:n,parentLookup:r,domNode:i,nodeOrigin:o,nodeExtent:a,debug:s,fitViewQueued:l}=p(),{changes:c,updatedInternals:d}=(0,u.uL)(e,n,r,i,o,a);d&&((0,u.vS)(n,r,{nodeOrigin:o,nodeExtent:a}),l?(g(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),c?.length>0&&(s&&console.log("React Flow: trigger node changes",c),t?.(c)))},updateNodePositions:(e,t=!1)=>{let n=[],r=[],{nodeLookup:i,triggerNodeChanges:o}=p();for(let[o,a]of e){let e=i.get(o),s=!!(e?.expandParent&&e?.parentId&&a?.position),u={id:o,type:"position",position:s?{x:Math.max(0,a.position.x),y:Math.max(0,a.position.y)}:a.position,dragging:t};s&&e.parentId&&n.push({id:o,parentId:e.parentId,rect:{...a.internals.positionAbsolute,width:a.measured.width??0,height:a.measured.height??0}}),r.push(u)}if(n.length>0){let{parentLookup:e,nodeOrigin:t}=p(),o=(0,u.r8)(n,i,e,t);r.push(...o)}o(r)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:i,debug:o}=p();e?.length&&(i&&n(G(e,r)),o&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:i,debug:o}=p();e?.length&&(i&&n(G(e,r)),o&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:o}=p();t?i(e.map(e=>Q(e,!0))):(i(J(r,new Set([...e]),!0)),o(J(n)))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:o}=p();t?o(e.map(e=>Q(e,!0))):(o(J(n,new Set([...e]))),i(J(r,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:r,nodeLookup:i,triggerNodeChanges:o,triggerEdgeChanges:a}=p(),s=(e||r).map(e=>{let t=i.get(e.id);return t&&(t.selected=!1),Q(e.id,!1)}),u=(t||n).map(e=>Q(e.id,!1));o(s),a(u)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=p();t?.setScaleExtent([e,n]),h({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=p();t?.setScaleExtent([n,e]),h({maxZoom:e})},setTranslateExtent:e=>{p().panZoom?.setTranslateExtent(e),h({translateExtent:e})},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:i}=p();if(!i)return;let o=t.reduce((e,t)=>t.selected?[...e,Q(t.id,!1)]:e,[]),a=e.reduce((e,t)=>t.selected?[...e,Q(t.id,!1)]:e,[]);n(o),r(a)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:i,elevateNodesOnSelect:o,nodeExtent:a}=p();(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])&&((0,u.bi)(t,n,r,{nodeOrigin:i,nodeExtent:e,elevateNodesOnSelect:o,checkEquality:!1}),h({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:r,panZoom:i,translateExtent:o}=p();return(0,u.No)({delta:e,panZoom:i,transform:t,translateExtent:o,width:n,height:r})},setCenter:async(e,t,n)=>{let{width:r,height:i,maxZoom:o,panZoom:a}=p();if(!a)return Promise.resolve(!1);let s=void 0!==n?.zoom?n.zoom:o;return await a.setViewport({x:r/2-e*s,y:i/2-t*s,zoom:s},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...u.bK}})},updateConnection:e=>{h({connection:e})},reset:()=>h({...tx()})}},p=Object.is,h?g(h,p):g})({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:h,nodeExtent:p}));return(0,o.jsx)(v,{value:y,children:(0,o.jsx)(es,{children:m})})}function tE({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:u,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p}){return(0,a.useContext)(y)?(0,o.jsx)(o.Fragment,{children:e}):(0,o.jsx)(t_,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:u,fitView:l,initialFitViewOptions:c,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:h,nodeExtent:p,children:e})}let tk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var tS=er(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:l,edgeTypes:c,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:m,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:M,onNodeDragStart:O,onNodeDrag:C,onNodeDragStop:j,onNodesDelete:D,onEdgesDelete:P,onDelete:I,onSelectionChange:L,onSelectionDragStart:$,onSelectionDrag:B,onSelectionDragStop:F,onSelectionContextMenu:H,onSelectionStart:q,onSelectionEnd:W,onBeforeDelete:X,connectionMode:Y,connectionLineType:G=u.Do.Bezier,connectionLineStyle:Z,connectionLineComponent:K,connectionLineContainerStyle:Q,deleteKeyCode:J="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:et=!1,selectionMode:en=u.Qc.Full,panActivationKeyCode:er="Space",multiSelectionKeyCode:ei=(0,u.Ue)()?"Meta":"Control",zoomActivationKeyCode:eo=(0,u.Ue)()?"Meta":"Control",snapToGrid:ea,snapGrid:es,onlyRenderVisibleElements:eu=!1,selectNodesOnDrag:el,nodesDraggable:ec,autoPanOnNodeFocus:ed,nodesConnectable:ef,nodesFocusable:eh,nodeOrigin:ep=z,edgesFocusable:eg,edgesReconnectable:em,elementsSelectable:ey=!0,defaultViewport:ev=T,minZoom:eb=.5,maxZoom:ew=2,translateExtent:ex=u.ZO,preventScrolling:e_=!0,nodeExtent:eE,defaultMarkerColor:ek="#b1b1b7",zoomOnScroll:eS=!0,zoomOnPinch:eM=!0,panOnScroll:eO=!1,panOnScrollSpeed:eC=.5,panOnScrollMode:eN=u.ny.Free,zoomOnDoubleClick:ej=!0,panOnDrag:eA=!0,onPaneClick:eD,onPaneMouseEnter:eP,onPaneMouseMove:eI,onPaneMouseLeave:eL,onPaneScroll:e$,onPaneContextMenu:eR,paneClickDistance:ez=0,nodeClickDistance:eT=0,children:eB,onReconnect:eF,onReconnectStart:eH,onReconnectEnd:eU,onEdgeContextMenu:eV,onEdgeDoubleClick:eq,onEdgeMouseEnter:eW,onEdgeMouseMove:eX,onEdgeMouseLeave:eY,reconnectRadius:eG=10,onNodesChange:eZ,onEdgesChange:eK,noDragClassName:eQ="nodrag",noWheelClassName:eJ="nowheel",noPanClassName:e0="nopan",fitView:e1,fitViewOptions:e2,connectOnClick:e3,attributionPosition:e5,proOptions:e4,defaultEdgeOptions:e6,elevateNodesOnSelect:e8,elevateEdgesOnSelect:e7,disableKeyboardA11y:e9=!1,autoPanOnConnect:te,autoPanOnNodeDrag:tt,autoPanSpeed:tn,connectionRadius:tr,isValidConnection:ti,onError:to,style:ta,id:ts,nodeDragThreshold:tu,connectionDragThreshold:tl,viewport:tc,onViewportChange:td,width:tf,height:th,colorMode:tp="light",debug:tg,onScroll:tm,ariaLabelConfig:ty,...tv},tb){let tx=ts||"1",t_=function(e){let[t,n]=(0,a.useState)("system"===e?null:e);return(0,a.useEffect)(()=>{if("system"!==e)return void n(e);let t=V(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}},[e]),null!==t?t:V()?.matches?"dark":"light"}(tp),tS=(0,a.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),tm?.(e)},[tm]);return(0,o.jsx)("div",{"data-testid":"rf__wrapper",...tv,onScroll:tS,style:{...ta,...tk},ref:tb,className:s(["react-flow",i,t_]),id:ts,role:"application",children:(0,o.jsxs)(tE,{nodes:e,edges:t,width:tf,height:th,fitView:e1,fitViewOptions:e2,minZoom:eb,maxZoom:ew,nodeOrigin:ep,nodeExtent:eE,children:[(0,o.jsx)(tw,{onInit:h,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:M,nodeTypes:l,edgeTypes:c,connectionLineType:G,connectionLineStyle:Z,connectionLineComponent:K,connectionLineContainerStyle:Q,selectionKeyCode:ee,selectionOnDrag:et,selectionMode:en,deleteKeyCode:J,multiSelectionKeyCode:ei,panActivationKeyCode:er,zoomActivationKeyCode:eo,onlyRenderVisibleElements:eu,defaultViewport:ev,translateExtent:ex,minZoom:eb,maxZoom:ew,preventScrolling:e_,zoomOnScroll:eS,zoomOnPinch:eM,zoomOnDoubleClick:ej,panOnScroll:eO,panOnScrollSpeed:eC,panOnScrollMode:eN,panOnDrag:eA,onPaneClick:eD,onPaneMouseEnter:eP,onPaneMouseMove:eI,onPaneMouseLeave:eL,onPaneScroll:e$,onPaneContextMenu:eR,paneClickDistance:ez,nodeClickDistance:eT,onSelectionContextMenu:H,onSelectionStart:q,onSelectionEnd:W,onReconnect:eF,onReconnectStart:eH,onReconnectEnd:eU,onEdgeContextMenu:eV,onEdgeDoubleClick:eq,onEdgeMouseEnter:eW,onEdgeMouseMove:eX,onEdgeMouseLeave:eY,reconnectRadius:eG,defaultMarkerColor:ek,noDragClassName:eQ,noWheelClassName:eJ,noPanClassName:e0,rfId:tx,disableKeyboardA11y:e9,nodeExtent:eE,viewport:tc,onViewportChange:td}),(0,o.jsx)(U,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,nodesDraggable:ec,autoPanOnNodeFocus:ed,nodesConnectable:ef,nodesFocusable:eh,edgesFocusable:eg,edgesReconnectable:em,elementsSelectable:ey,elevateNodesOnSelect:e8,elevateEdgesOnSelect:e7,minZoom:eb,maxZoom:ew,nodeExtent:eE,onNodesChange:eZ,onEdgesChange:eK,snapToGrid:ea,snapGrid:es,connectionMode:Y,translateExtent:ex,connectOnClick:e3,defaultEdgeOptions:e6,fitView:e1,fitViewOptions:e2,onNodesDelete:D,onEdgesDelete:P,onDelete:I,onNodeDragStart:O,onNodeDrag:C,onNodeDragStop:j,onSelectionDrag:B,onSelectionDragStart:$,onSelectionDragStop:F,onMove:p,onMoveStart:g,onMoveEnd:m,noPanClassName:e0,nodeOrigin:ep,rfId:tx,autoPanOnConnect:te,autoPanOnNodeDrag:tt,autoPanSpeed:tn,onError:to,connectionRadius:tr,isValidConnection:ti,selectNodesOnDrag:el,nodeDragThreshold:tu,connectionDragThreshold:tl,onBeforeDelete:X,debug:tg,ariaLabelConfig:ty}),(0,o.jsx)(R,{onSelectionChange:L}),eB,(0,o.jsx)(A,{proOptions:e4,position:e5}),(0,o.jsx)(N,{rfId:tx,disableKeyboardA11y:e9})]})})});function tM(e){let[t,n]=(0,a.useState)(e),r=(0,a.useCallback)(e=>n(t=>G(e,t)),[]);return[t,n,r]}function tO(e){let[t,n]=(0,a.useState)(e),r=(0,a.useCallback)(e=>n(t=>G(e,t)),[]);return[t,n,r]}function tC({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,o.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:s(["react-flow__background-pattern",n,r])})}function tN({radius:e,className:t}){return(0,o.jsx)("circle",{cx:e,cy:e,r:e,className:s(["react-flow__background-pattern","dots",t])})}u.xc.error014(),(r=i||(i={})).Lines="lines",r.Dots="dots",r.Cross="cross";let tj={[i.Dots]:1,[i.Lines]:1,[i.Cross]:6},tA=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function tD({id:e,variant:t=i.Dots,gap:n=20,size:r,lineWidth:u=1,offset:l=0,color:c,bgColor:d,style:f,className:h,patternClassName:p}){let g=(0,a.useRef)(null),{transform:y,patternId:v}=w(tA,m),b=r||tj[t],x=t===i.Dots,_=t===i.Cross,E=Array.isArray(n)?n:[n,n],k=[E[0]*y[2]||1,E[1]*y[2]||1],S=b*y[2],M=Array.isArray(l)?l:[l,l],O=_?[S,S]:k,C=[M[0]*y[2]||1+O[0]/2,M[1]*y[2]||1+O[1]/2],N=`${v}${e||""}`;return(0,o.jsxs)("svg",{className:s(["react-flow__background",h]),style:{...f,...ef,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:g,"data-testid":"rf__background",children:[(0,o.jsx)("pattern",{id:N,x:y[0]%k[0],y:y[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:x?(0,o.jsx)(tN,{radius:S/2,className:p}):(0,o.jsx)(tC,{dimensions:O,lineWidth:u,variant:t,className:p})}),(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}function tP(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,o.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tI(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,o.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function tL(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,o.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function t$(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tR(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tz({children:e,className:t,...n}){return(0,o.jsx)("button",{type:"button",className:s(["react-flow__controls-button",t]),...n,children:e})}tD.displayName="Background",(0,a.memo)(tD);let tT=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function tB({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:u,onFitView:l,onInteractiveChange:c,className:d,children:f,position:h="bottom-left",orientation:p="vertical","aria-label":g}){let y=x(),{isInteractive:v,minZoomReached:b,maxZoomReached:_,ariaLabelConfig:E}=w(tT,m),{zoomIn:k,zoomOut:S,fitView:M}=el();return(0,o.jsxs)(j,{className:s(["react-flow__controls","horizontal"===p?"horizontal":"vertical",d]),position:h,style:e,"data-testid":"rf__controls","aria-label":g??E["controls.ariaLabel"],children:[t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tz,{onClick:()=>{k(),a?.()},className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:_,children:(0,o.jsx)(tP,{})}),(0,o.jsx)(tz,{onClick:()=>{S(),u?.()},className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:b,children:(0,o.jsx)(tI,{})})]}),n&&(0,o.jsx)(tz,{className:"react-flow__controls-fitview",onClick:()=>{M(i),l?.()},title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:(0,o.jsx)(tL,{})}),r&&(0,o.jsx)(tz,{className:"react-flow__controls-interactive",onClick:()=>{y.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c?.(!v)},title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?(0,o.jsx)(tR,{}):(0,o.jsx)(t$,{})}),f]})}tB.displayName="Controls";let tF=(0,a.memo)(tB),tH=(0,a.memo)(function({id:e,x:t,y:n,width:r,height:i,style:a,color:u,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:h,selected:p,onClick:g}){let{background:m,backgroundColor:y}=a||{};return(0,o.jsx)("rect",{className:s(["react-flow__minimap-node",{selected:p},d]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:u||m||y,stroke:l,strokeWidth:c},shapeRendering:h,onClick:g?t=>g(t,e):void 0})}),tU=e=>e.nodes.map(e=>e.id),tV=e=>e instanceof Function?e:()=>e,tq=(0,a.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:s,NodeComponent:l,onClick:c}){let{node:d,x:f,y:h,width:p,height:g}=w(t=>{let{internals:n}=t.nodeLookup.get(e),r=n.userNode,{x:i,y:o}=n.positionAbsolute,{width:a,height:s}=(0,u.uD)(r);return{node:r,x:i,y:o,width:a,height:s}},m);return d&&!d.hidden&&(0,u.QE)(d)?(0,o.jsx)(l,{x:f,y:h,width:p,height:g,style:d.style,selected:!!d.selected,className:r(d),color:t(d),borderRadius:i,strokeColor:n(d),strokeWidth:a,shapeRendering:s,onClick:c,id:d.id}):null});var tW=(0,a.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:a=tH,onClick:s}){let u=w(tU,m),l=tV(t),c=tV(e),d=tV(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,o.jsx)(o.Fragment,{children:u.map(e=>(0,o.jsx)(tq,{id:e,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:a,onClick:s,shapeRendering:f},e))})});let tX=e=>!e.hidden,tY=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?(0,u.Mi)((0,u.aZ)(e.nodeLookup,{filter:tX}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function tG({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:l=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:f,maskColor:h,maskStrokeColor:p,maskStrokeWidth:g,position:y="bottom-right",onClick:v,onNodeClick:b,pannable:_=!1,zoomable:E=!1,ariaLabel:k,inversePan:S,zoomStep:M=1,offsetScale:O=5}){let C=x(),N=(0,a.useRef)(null),{boundingRect:A,viewBB:D,rfId:P,panZoom:I,translateExtent:L,flowWidth:$,flowHeight:R,ariaLabelConfig:z}=w(tY,m),T=e?.width??200,B=e?.height??150,F=Math.max(A.width/T,A.height/B),H=F*T,U=F*B,V=O*F,q=A.x-(H-A.width)/2-V,W=A.y-(U-A.height)/2-V,X=H+2*V,Y=U+2*V,G=`react-flow__minimap-desc-${P}`,Z=(0,a.useRef)(0),K=(0,a.useRef)();Z.current=F,(0,a.useEffect)(()=>{if(N.current&&I)return K.current=(0,u.di)({domNode:N.current,panZoom:I,getTransform:()=>C.getState().transform,getViewScale:()=>Z.current}),()=>{K.current?.destroy()}},[I]),(0,a.useEffect)(()=>{K.current?.update({translateExtent:L,width:$,height:R,inversePan:S,pannable:_,zoomStep:M,zoomable:E})},[_,E,S,M,L,$,R]);let Q=v?e=>{let[t,n]=K.current?.pointer(e)||[0,0];v(e,{x:t,y:n})}:void 0,J=b?(0,a.useCallback)((e,t)=>{b(e,C.getState().nodeLookup.get(t).internals.userNode)},[]):void 0,ee=k??z["minimap.ariaLabel"];return(0,o.jsx)(j,{position:y,style:{...e,"--xy-minimap-background-color-props":"string"==typeof f?f:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof h?h:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof g?g*F:void 0,"--xy-minimap-node-background-color-props":"string"==typeof r?r:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof c?c:void 0},className:s(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,o.jsxs)("svg",{width:T,height:B,viewBox:`${q} ${W} ${X} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:N,onClick:Q,children:[ee&&(0,o.jsx)("title",{id:G,children:ee}),(0,o.jsx)(tW,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:i,nodeStrokeWidth:c,nodeComponent:d}),(0,o.jsx)("path",{className:"react-flow__minimap-mask",d:`M${q-V},${W-V}h${X+2*V}v${Y+2*V}h${-X-2*V}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}tG.displayName="MiniMap",(0,a.memo)(tG);let tZ={[u.xN.Line]:"right",[u.xN.Handle]:"bottom-right"};(0,a.memo)(function({nodeId:e,position:t,variant:n=u.xN.Handle,className:r,style:i,children:l,color:c,minWidth:d=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:y,autoScale:v=!0,shouldResize:b,onResizeStart:_,onResize:E,onResizeEnd:k}){let S,M=eS(),O="string"==typeof e?e:M,C=x(),N=(0,a.useRef)(null),j=n===u.xN.Handle,A=w((0,a.useCallback)((S=j&&v,e=>S?`${Math.max(1/e.transform[2],1)}`:void 0),[j,v]),m),D=(0,a.useRef)(null),P=t??tZ[n];(0,a.useEffect)(()=>{if(N.current&&O)return D.current||(D.current=(0,u.ET)({domNode:N.current,nodeId:O,getStoreItems:()=>{let{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:i,domNode:o}=C.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:i,paneDomNode:o}},onChange:(e,t)=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:i,nodeOrigin:o}=C.getState(),a=[],s={x:e.x,y:e.y},l=r.get(O);if(l&&l.expandParent&&l.parentId){let t=l.origin??o,n=e.width??l.measured.width??0,c=e.height??l.measured.height??0,d={id:l.id,parentId:l.parentId,rect:{width:n,height:c,...(0,u.us)({x:e.x??l.position.x,y:e.y??l.position.y},{width:n,height:c},l.parentId,r,t)}},f=(0,u.r8)([d],r,i,o);a.push(...f),s.x=e.x?Math.max(t[0]*n,e.x):void 0,s.y=e.y?Math.max(t[1]*c,e.y):void 0}if(void 0!==s.x&&void 0!==s.y){let e={id:O,type:"position",position:{...s}};a.push(e)}if(void 0!==e.width&&void 0!==e.height){let t={id:O,type:"dimensions",resizing:!0,setAttributes:!y||("horizontal"===y?"width":"height"),dimensions:{width:e.width,height:e.height}};a.push(t)}for(let e of t){let t={...e,type:"position"};a.push(t)}n(a)},onEnd:({width:e,height:t})=>{C.getState().triggerNodeChanges([{id:O,type:"dimensions",resizing:!1,dimensions:{width:e,height:t}}])}})),D.current.update({controlPosition:P,boundaries:{minWidth:d,minHeight:f,maxWidth:h,maxHeight:p},keepAspectRatio:g,resizeDirection:y,onResizeStart:_,onResize:E,onResizeEnd:k,shouldResize:b}),()=>{D.current?.destroy()}},[P,d,f,h,p,g,_,E,k,b]);let I=P.split("-");return(0,o.jsx)("div",{className:s(["react-flow__resize-control","nodrag",...I,n,r]),ref:N,style:{...i,scale:A,...c&&{[j?"backgroundColor":"borderColor"]:c}},children:l})})},6119:function(e,t,n){"use strict";n.d(t,{aQ:function(){return rx},Qc:function(){return h},X6:function(){return nx},s_:function(){return nS},aZ:function(){return no},rN:function(){return nJ},tn:function(){return t4},b$:function(){return ne},HF:function(){return t9},bi:function(){return ra},oN:function(){return n5},ny:function(){return f},v5:function(){return nH},I$:function(){return rm},qn:function(){return rh},uL:function(){return rc},YN:function(){return n$},Jo:function(){return ni},r8:function(){return rl},Ue:function(){return nj},R4:function(){return nN},zj:function(){return nO},qX:function(){return nK},tM:function(){return t6},Tq:function(){return nl},Do:function(){return p},kO:function(){return rj},ah:function(){return n0},Fp:function(){return nG},TG:function(){return g},kM:function(){return nv},xc:function(){return t3},Mi:function(){return nw},ET:function(){return rR},No:function(){return rd},IO:function(){return ns},mW:function(){return n_},uD:function(){return nD},QE:function(){return nP},e_:function(){return nW},Eo:function(){return nT},vS:function(){return ro},uj:function(){return nQ},aE:function(){return nu},KE:function(){return nk},bK:function(){return t8},Hm:function(){return rt},kf:function(){return nE},_s:function(){return nL},us:function(){return nI},oj:function(){return nB},aW:function(){return re},q1:function(){return nV},oB:function(){return nt},b5:function(){return n6},di:function(){return r_},Q6:function(){return nR},yX:function(){return m},Ff:function(){return nM},WZ:function(){return d},ZO:function(){return t5},Er:function(){return nU},U$:function(){return na},xN:function(){return y}});var r,i,o,a,s,u,l,c,d,f,h,p,g,m,y,v={value:()=>{}};function b(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new w(r)}function w(e){this._=e}function x(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=v,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function _(){}function E(e){return null==e?_:function(){return this.querySelector(e)}}function k(){return[]}function S(e){return null==e?k:function(){return this.querySelectorAll(e)}}function M(e){return function(){return this.matches(e)}}function O(e){return function(t){return t.matches(e)}}w.prototype=b.prototype={constructor:w,on:function(e,t){var n,r=this._,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=x(r[n],e.name,t);else if(null==t)for(n in r)r[n]=x(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new w(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var C=Array.prototype.find;function N(){return this.firstElementChild}var j=Array.prototype.filter;function A(){return Array.from(this.children)}function D(e){return Array(e.length)}function P(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function I(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new P(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function L(e,t,n,r,i,o,a){var s,u,l,c=new Map,d=t.length,f=o.length,h=Array(d);for(s=0;s<d;++s)(u=t[s])&&(h[s]=l=a.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(e,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new P(e,o[s]);for(s=0;s<d;++s)(u=t[s])&&c.get(h[s])===u&&(i[s]=u)}function $(e){return e.__data__}function R(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}P.prototype={constructor:P,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var z="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function B(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),T.hasOwnProperty(t)?{space:T[t],local:e}:e}function F(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function H(e,t){return e.style.getPropertyValue(t)||F(e).getComputedStyle(e,null).getPropertyValue(t)}function U(e){return e.trim().split(/^|\s+/)}function V(e){return e.classList||new q(e)}function q(e){this._node=e,this._names=U(e.getAttribute("class")||"")}function W(e,t){for(var n=V(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function X(e,t){for(var n=V(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Y(){this.textContent=""}function G(){this.innerHTML=""}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q(e){var t=B(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===z&&t.documentElement.namespaceURI===z?t.createElement(e):t.createElementNS(n,e)}})(t)}function J(){return null}function ee(){var e=this.parentNode;e&&e.removeChild(this)}function et(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function en(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function er(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function ei(e,t,n){return function(){var r,i=this.__on,o=function(e){t.call(this,e,this.__data__)};if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function eo(e,t,n){var r=F(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}q.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ea=[null];function es(e,t){this._groups=e,this._parents=t}function eu(){return new es([[document.documentElement]],ea)}function el(e){return"string"==typeof e?new es([[document.querySelector(e)]],[document.documentElement]):new es([[e]],ea)}function ec(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}es.prototype=eu.prototype={constructor:es,select:function(e){"function"!=typeof e&&(e=E(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=Array(u),c=0;c<u;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new es(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=S(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,u=n[a],l=u.length,c=0;c<l;++c)(s=u[c])&&(i.push(e.call(s,s.__data__,c,u)),o.push(s));return new es(i,o)},selectChild:function(e){var t;return this.select(null==e?N:(t="function"==typeof e?e:O(e),function(){return C.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?A:(t="function"==typeof e?e:O(e),function(){return j.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=M(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new es(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,$);var n=t?L:I,r=this._parents,i=this._groups;"function"!=typeof e&&(v=e,e=function(){return v});for(var o=i.length,a=Array(o),s=Array(o),u=Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h="object"==typeof(y=e.call(c,c&&c.__data__,l,r))&&"length"in y?y:Array.from(y),p=h.length,g=s[l]=Array(p),m=a[l]=Array(p);n(c,d,g,m,u[l]=Array(f),h,t);for(var y,v,b,w,x=0,_=0;x<p;++x)if(b=g[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<p;);b._next=w||null}}return(a=new es(a,r))._enter=s,a._exit=u,a},enter:function(){return new es(this._enter||this._groups.map(D),this._parents)},exit:function(){return new es(this._exit||this._groups.map(D),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=Array(i),u=0;u<a;++u)for(var l,c=n[u],d=r[u],f=c.length,h=s[u]=Array(f),p=0;p<f;++p)(l=c[p]||d[p])&&(h[p]=l);for(;u<i;++u)s[u]=n[u];return new es(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=R);for(var n=this._groups,r=n.length,i=Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new es(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=B(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):H(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=U(e+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?W:X)(this,e)}}:t?function(e){return function(){W(this,e)}}:function(e){return function(){X(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?Y:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?G:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(K)},append:function(e){var t="function"==typeof e?e:Q(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Q(e),r=null==t?J:"function"==typeof t?t:E(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ee)},clone:function(e){return this.select(e?en:et)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=o.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}return}for(r=0,s=t?ei:er;r<a;++r)this.each(s(o[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return eo(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return eo(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};let ed={passive:!1},ef={capture:!0,passive:!1};function eh(e){e.stopImmediatePropagation()}function ep(e){e.preventDefault(),e.stopImmediatePropagation()}function eg(e){var t=e.document.documentElement,n=el(e).on("dragstart.drag",ep,ef);"onselectstart"in t?n.on("selectstart.drag",ep,ef):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function em(e,t){var n=e.document.documentElement,r=el(e).on("dragstart.drag",null);t&&(r.on("click.drag",ep,ef),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ey=e=>()=>e;function ev(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function eb(e){return!e.ctrlKey&&!e.button}function ew(){return this.parentNode}function ex(e,t){return null==t?{x:e.x,y:e.y}:t}function e_(){return navigator.maxTouchPoints||"ontouchstart"in this}function eE(){var e,t,n,r,i=eb,o=ew,a=ex,s=e_,u={},l=b("start","drag","end"),c=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,ed).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&i.call(this,a,s)){var u=w(this,o.call(this,a,s),a,s,"mouse");u&&(el(a.view).on("mousemove.drag",p,ef).on("mouseup.drag",g,ef),eg(a.view),eh(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function p(r){if(ep(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>d}u.mouse("drag",r)}function g(e){el(e.view).on("mousemove.drag mouseup.drag",null),em(e.view,n),ep(e),u.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,a=e.changedTouches,s=o.call(this,e,t),u=a.length;for(n=0;n<u;++n)(r=w(this,s,e,t,a[n].identifier,a[n]))&&(eh(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(ep(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=u[i[t].identifier])&&(eh(e),n("end",e,i[t]))}function w(e,t,n,r,i,o){var s,d,h,p=l.copy(),g=ec(o||n,t);if(null!=(h=a.call(e,new ev("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(o,a,l){var m,y=g;switch(o){case"start":u[i]=n,m=c++;break;case"end":delete u[i],--c;case"drag":g=ec(l||a,t),m=c}p.call(o,e,new ev(o,{sourceEvent:a,subject:h,target:f,identifier:i,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:ey(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:ey(e),f):o},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:ey(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:ey(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,f):Math.sqrt(d)},f}function ek(e){return((e=Math.exp(e))+1/e)/2}ev.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var eS,eM,eO=function e(t,n,r){function i(e,i){var o,a,s=e[0],u=e[1],l=e[2],c=i[0],d=i[1],f=i[2],h=c-s,p=d-u,g=h*h+p*p;if(g<1e-12)a=Math.log(f/l)/t,o=function(e){return[s+e*h,u+e*p,l*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),y=(f*f-l*l+r*g)/(2*l*n*m),v=(f*f-l*l-r*g)/(2*f*n*m),b=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(v*v+1)-v)-b)/t,o=function(e){var r,i,o=e*a,c=ek(b),d=l/(n*m)*(c*(((r=Math.exp(2*(r=t*o+b)))-1)/(r+1))-((i=Math.exp(i=b))-1/i)/2);return[s+d*h,u+d*p,l*c/ek(t*o+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4),eC=0,eN=0,ej=0,eA=0,eD=0,eP=0,eI="object"==typeof performance&&performance.now?performance:Date,eL="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function e$(){return eD||(eL(eR),eD=eI.now()+eP)}function eR(){eD=0}function ez(){this._call=this._time=this._next=null}function eT(e,t,n){var r=new ez;return r.restart(e,t,n),r}function eB(){eD=(eA=eI.now())+eP,eC=eN=0;try{e$(),++eC;for(var e,t=eS;t;)(e=eD-t._time)>=0&&t._call.call(void 0,e),t=t._next;--eC}finally{eC=0,function(){for(var e,t,n=eS,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:eS=t);eM=e,eH(r)}(),eD=0}}function eF(){var e=eI.now(),t=e-eA;t>1e3&&(eP-=t,eA=e)}function eH(e){!eC&&(eN&&(eN=clearTimeout(eN)),e-eD>24?(e<1/0&&(eN=setTimeout(eB,e-eI.now()-eP)),ej&&(ej=clearInterval(ej))):(ej||(eA=eI.now(),ej=setInterval(eF,1e3)),eC=1,eL(eB)))}function eU(e,t,n){var r=new ez;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}ez.prototype=eT.prototype={constructor:ez,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?e$():+n)+(null==t?0:+t),this._next||eM===this||(eM?eM._next=this:eS=this,eM=this),this._call=e,this._time=n,eH()},stop:function(){this._call&&(this._call=null,this._time=1/0,eH())}};var eV=b("start","end","cancel","interrupt"),eq=[];function eW(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var l,c,d,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return eU(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(eU(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(l=0,n.state=3,r=Array(d=n.tween.length),c=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=eT(function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:eV,tween:eq,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function eX(e,t){var n=eG(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eY(e,t){var n=eG(e,t);if(n.state>3)throw Error("too late; already running");return n}function eG(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function eZ(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o){if((n=o[i]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]}a&&delete e.__transition}}function eK(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var eQ=180/Math.PI,eJ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e0(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*eQ,skewX:Math.atan(u)*eQ,scaleX:a,scaleY:s}}function e1(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s,u,l,c,d=[],f=[];return o=e(o),a=e(a),!function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:eK(e,i)},{i:u-2,x:eK(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,d,f),s=o.rotate,u=a.rotate,s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:eK(s,u)})):u&&d.push(i(d)+"rotate("+u+r),l=o.skewX,c=a.skewX,l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:eK(l,c)}):c&&d.push(i(d)+"skewX("+c+r),!function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:eK(e,n)},{i:s-2,x:eK(t,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,d,f),o=a=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var e2=e1(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eJ:e0(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),e3=e1(function(e){return null==e?eJ:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",e),e=c.transform.baseVal.consolidate())?e0((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eJ},", ",")",")");function e5(e,t,n){var r=e._id;return e.each(function(){var e=eY(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eG(e,r).value[t]}}function e4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e8(){}var e7="\\s*([+-]?\\d+)\\s*",e9="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tt=/^#([0-9a-f]{3,8})$/,tn=RegExp(`^rgb\\(${e7},${e7},${e7}\\)$`),tr=RegExp(`^rgb\\(${te},${te},${te}\\)$`),ti=RegExp(`^rgba\\(${e7},${e7},${e7},${e9}\\)$`),to=RegExp(`^rgba\\(${te},${te},${te},${e9}\\)$`),ta=RegExp(`^hsl\\(${e9},${te},${te}\\)$`),ts=RegExp(`^hsla\\(${e9},${te},${te},${e9}\\)$`),tu={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function tl(){return this.rgb().formatHex()}function tc(){return this.rgb().formatRgb()}function td(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?tf(t):3===n?new tg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?th(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?th(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tn.exec(e))?new tg(t[1],t[2],t[3],1):(t=tr.exec(e))?new tg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ti.exec(e))?th(t[1],t[2],t[3],t[4]):(t=to.exec(e))?th(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ta.exec(e))?tx(t[1],t[2]/100,t[3]/100,1):(t=ts.exec(e))?tx(t[1],t[2]/100,t[3]/100,t[4]):tu.hasOwnProperty(e)?tf(tu[e]):"transparent"===e?new tg(NaN,NaN,NaN,0):null}function tf(e){return new tg(e>>16&255,e>>8&255,255&e,1)}function th(e,t,n,r){return r<=0&&(e=t=n=NaN),new tg(e,t,n,r)}function tp(e,t,n,r){var i;return 1==arguments.length?((i=e)instanceof e8||(i=td(i)),i)?new tg((i=i.rgb()).r,i.g,i.b,i.opacity):new tg:new tg(e,t,n,null==r?1:r)}function tg(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tm(){return`#${tw(this.r)}${tw(this.g)}${tw(this.b)}`}function ty(){let e=tv(this.opacity);return`${1===e?"rgb(":"rgba("}${tb(this.r)}, ${tb(this.g)}, ${tb(this.b)}${1===e?")":`, ${e})`}`}function tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tw(e){return((e=tb(e))<16?"0":"")+e.toString(16)}function tx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tE(e,t,n,r)}function t_(e){if(e instanceof tE)return new tE(e.h,e.s,e.l,e.opacity);if(e instanceof e8||(e=td(e)),!e)return new tE;if(e instanceof tE)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+(n<r)*6:n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new tE(a,s,u,e.opacity)}function tE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tk(e){return(e=(e||0)%360)<0?e+360:e}function tS(e){return Math.max(0,Math.min(1,e||0))}function tM(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tO(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}e4(e8,td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tl,formatHex:tl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return t_(this).formatHsl()},formatRgb:tc,toString:tc}),e4(tg,tp,e6(e8,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tg(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tg(tb(this.r),tb(this.g),tb(this.b),tv(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tm,formatHex:tm,formatHex8:function(){return`#${tw(this.r)}${tw(this.g)}${tw(this.b)}${tw((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ty,toString:ty})),e4(tE,function(e,t,n,r){return 1==arguments.length?t_(e):new tE(e,t,n,null==r?1:r)},e6(e8,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new tg(tM(e>=240?e-240:e+120,i,r),tM(e,i,r),tM(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tE(tk(this.h),tS(this.s),tS(this.l),tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tv(this.opacity);return`${1===e?"hsl(":"hsla("}${tk(this.h)}, ${100*tS(this.s)}%, ${100*tS(this.l)}%${1===e?")":`, ${e})`}`}}));var tC=e=>()=>e;function tN(e,t){var n=t-e;return n?function(t){return e+t*n}:tC(isNaN(e)?t:e)}var tj=function e(t){var n,r=1==(n=+t)?tN:function(e,t){var r,i,o;return t-e?(r=e,i=t,r=Math.pow(r,o=n),i=Math.pow(i,o)-r,o=1/o,function(e){return Math.pow(r+e*i,o)}):tC(isNaN(e)?t:e)};function i(e,t){var n=r((e=tp(e)).r,(t=tp(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=tN(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function tA(e){return function(t){var n,r,i=t.length,o=Array(i),a=Array(i),s=Array(i);for(n=0;n<i;++n)r=tp(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}tA(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return tO((n-r/t)*t,a,i,o,s)}}),tA(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return tO((n-r/t)*t,i,o,a,s)}});var tD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tP=RegExp(tD.source,"g");function tI(e,t){var n,r,i,o,a,s=tD.lastIndex=tP.lastIndex=0,u=-1,l=[],c=[];for(e+="",t+="";(i=tD.exec(e))&&(o=tP.exec(t));)(a=o.index)>s&&(a=t.slice(s,a),l[u]?l[u]+=a:l[++u]=a),(i=i[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,c.push({i:u,x:eK(i,o)})),s=tP.lastIndex;return s<t.length&&(a=t.slice(s),l[u]?l[u]+=a:l[++u]=a),l.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function tL(e,t){var n;return("number"==typeof t?eK:t instanceof td?tj:(n=td(t))?(t=n,tj):tI)(e,t)}var t$=eu.prototype.constructor;function tR(e){return function(){this.style.removeProperty(e)}}var tz=0;function tT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var tB=eu.prototype;tT.prototype=(function(e){return eu().transition(e)}).prototype={constructor:tT,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=E(e));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,d=o[a]=Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),d[f]=u,eW(d[f],t,n,f,d,eG(s,n)));return new tT(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=S(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=e.call(u,u.__data__,d,l),p=eG(u,n),g=0,m=h.length;g<m;++g)(f=h[g])&&eW(f,t,n,g,h,p);o.push(h),a.push(u)}return new tT(o,a,t,n)},selectChild:tB.selectChild,selectChildren:tB.selectChildren,filter:function(e){"function"!=typeof e&&(e=M(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new tT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=Array(r),s=0;s<o;++s)for(var u,l=t[s],c=n[s],d=l.length,f=a[s]=Array(d),h=0;h<d;++h)(u=l[h]||c[h])&&(f[h]=u);for(;s<r;++s)a[s]=t[s];return new tT(a,this._parents,this._name,this._id)},selection:function(){return new t$(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tz,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=eG(a,t);eW(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tT(r,this._parents,e,n)},call:tB.call,nodes:tB.nodes,node:tB.node,size:tB.size,empty:tB.empty,each:tB.each,on:function(e,t){var n,r,i,o,a,s,u=this._id;return arguments.length<2?eG(this.node(),u).on.on(e):this.each((n=u,r=e,i=t,s=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eX:eY,function(){var e=s(this,n),t=e.on;t!==o&&(a=(o=t).copy()).on(r,i),e.on=a}))},attr:function(e,t){var n=B(e),r="transform"===n?e3:tL;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u))}}:function(e,t,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u))}})(n,r,e5(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}:function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=B(e);return this.tween(n,(r.local?function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t){this.setAttributeNS(e.space,e.local,i.call(this,t))}),n}return i._value=t,i}:function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t){this.setAttribute(e,i.call(this,t))}),n}return i._value=t,i})(r,t))},style:function(e,t,n){var r,i,o,a,s,u,l,c,d,f,h,p,g,m,y,v,b,w,x,_,E,k="transform"==(e+="")?e2:tL;return null==t?this.styleTween(e,(r=e,function(){var e=H(this,r),t=(this.style.removeProperty(r),H(this,r));return e===t?null:e===i&&t===o?a:a=k(i=e,o=t)})).on("end.style."+e,tR(e)):"function"==typeof t?this.styleTween(e,(s=e,u=e5(this,"style."+e,t),function(){var e=H(this,s),t=u(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=H(this,s)),e===n?null:e===l&&n===c?d:(c=n,d=k(l=e,t))})).each((f=this._id,b="end."+(v="style."+(h=e)),function(){var e=eY(this,f),t=e.on,n=null==e.value[v]?y||(y=tR(h)):void 0;(t!==p||m!==n)&&(g=(p=t).copy()).on(b,m=n),e.on=g})):this.styleTween(e,(w=e,E=t+"",function(){var e=H(this,w);return e===E?null:e===x?_:_=k(x=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t){this.style.setProperty(e,o.call(this,t),n)}),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=e5(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=eG(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=eY(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}i.tween=r}}:function(e,t,n){var r,i;if("function"!=typeof n)throw Error();return function(){var o=eY(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eX(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eX(this,e).delay=t}})(t,e)):eG(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eY(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eY(this,e).duration=t}})(t,e)):eG(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eY(this,e).ease=t}}(t,e)):eG(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eY(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=eY(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t}),0===i&&o()})},[Symbol.iterator]:tB[Symbol.iterator]};var tF={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};eu.prototype.interrupt=function(e){return this.each(function(){eZ(this,e)})},eu.prototype.transition=function(e){var t,n;e instanceof tT?(t=e._id,e=e._name):(t=++tz,(n=tF).time=e$(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&eW(a,e,t,l,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new tT(r,this._parents,e,t)};var tH=e=>()=>e;function tU(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function tV(e,t,n){this.k=e,this.x=t,this.y=n}tV.prototype={constructor:tV,scale:function(e){return 1===e?this:new tV(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tV(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tq=new tV(1,0,0);function tW(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tq;return e.__zoom}function tX(e){e.stopImmediatePropagation()}function tY(e){e.preventDefault(),e.stopImmediatePropagation()}function tG(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tZ(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tK(){return this.__zoom||tq}function tQ(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function t0(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function t1(){var e,t,n,r=tG,i=tZ,o=t0,a=tQ,s=tJ,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=eO,f=b("start","zoom","end"),h=0,p=10;function g(e){e.property("__zoom",tK).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new tV(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new tV(e.k,r,i)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",function(){x(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,o=x(this,e).event(r),a=i.apply(this,e),s=null==n?v(a):"function"==typeof n?n.apply(this,e):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=this.__zoom,c="function"==typeof t?t.apply(this,e):t,f=d(l.invert(s).concat(u/l.k),c.invert(s).concat(u/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=u/t[2];e=new tV(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}})}function x(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function E(e,...t){if(r.apply(this,arguments)){var n=x(this,t).event(e),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=ec(e);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],eZ(this),n.start()}tY(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",o(y(m(i,s),n.mouse[0],n.mouse[1]),n.extent,l))}}function k(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,a=x(this,t,!0).event(e),s=el(e.view).on("mousemove.zoom",function(e){if(tY(e),!a.moved){var t=e.clientX-c,n=e.clientY-d;a.moved=t*t+n*n>h}a.event(e).zoom("mouse",o(y(a.that.__zoom,a.mouse[0]=ec(e,i),a.mouse[1]),a.extent,l))},!0).on("mouseup.zoom",function(e){s.on("mousemove.zoom mouseup.zoom",null),em(e.view,a.moved),tY(e),a.event(e).end()},!0),u=ec(e,i),c=e.clientX,d=e.clientY;eg(e.view),tX(e),a.mouse=[u,this.__zoom.invert(u)],eZ(this),a.start()}}function S(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=ec(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),u=n.k*(e.shiftKey?.5:2),d=o(y(m(n,u),a,s),i.apply(this,t),l);tY(e),c>0?el(this).transition().duration(c).call(w,d,a,e):el(this).call(g.transform,d,a,e)}}function M(n,...i){if(r.apply(this,arguments)){var o,a,s,u,l=n.touches,c=l.length,d=x(this,i,n.changedTouches.length===c).event(n);for(tX(n),a=0;a<c;++a)u=[u=ec(s=l[a],this),this.__zoom.invert(u),s.identifier],d.touch0?d.touch1||d.touch0[2]===u[2]||(d.touch1=u,d.taps=0):(d.touch0=u,o=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(d.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),eZ(this),d.start())}}function O(e,...t){if(this.__zooming){var n,r,i,a,s=x(this,t).event(e),u=e.changedTouches,c=u.length;for(tY(e),n=0;n<c;++n)i=ec(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],f=s.touch0[1],h=s.touch1[0],p=s.touch1[1],g=(g=h[0]-d[0])*g+(g=h[1]-d[1])*g,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;r=m(r,Math.sqrt(g/v)),i=[(d[0]+h[0])/2,(d[1]+h[1])/2],a=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(y(r,i,a),s.extent,l))}}function C(e,...r){if(this.__zooming){var i,o,a=x(this,r).event(e),s=e.changedTouches,u=s.length;for(tX(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=ec(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<p)){var l=el(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",tK),e!==i?w(e,t,n,r):i.interrupt().each(function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},g.scaleBy=function(e,t,n,r){g.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,a=null==n?v(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return o(y(m(r,u),a,s),e,l)},n,r)},g.translateBy=function(e,t,n,r){g.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)},null,r)},g.translateTo=function(e,t,n,r,a){g.transform(e,function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==r?v(e):"function"==typeof r?r.apply(this,arguments):r;return o(tq.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)},r,a)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=el(this.that).datum();f.call(e,this.that,new tU(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:f}),t)}},g.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:tH(+e),g):a},g.filter=function(e){return arguments.length?(r="function"==typeof e?e:tH(!!e),g):r},g.touchable=function(e){return arguments.length?(s="function"==typeof e?e:tH(!!e),g):s},g.extent=function(e){return arguments.length?(i="function"==typeof e?e:tH([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):i},g.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],g):[u[0],u[1]]},g.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(e){return arguments.length?(o=e,g):o},g.duration=function(e){return arguments.length?(c=+e,g):c},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=f.on.apply(f,arguments);return e===f?g:e},g.clickDistance=function(e){return arguments.length?(h=(e*=1)*e,g):Math.sqrt(h)},g.tapDistance=function(e){return arguments.length?(p=+e,g):p},g}function t2(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?tC(t):("number"===i?eK:"string"===i?(r=td(t))?(t=r,tj):tI:t instanceof td?tj:t instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(n=t)||n instanceof DataView?Array.isArray(t)?function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=Array(i),a=Array(r);for(n=0;n<i;++n)o[n]=t2(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=t2(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}:eK:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}})(e,t)}tW.prototype=tV.prototype;let t3={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},t5=[[-1/0,-1/0],[1/0,1/0]],t4=["Enter"," ","Escape"],t6={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};(r=d||(d={})).Strict="strict",r.Loose="loose",(i=f||(f={})).Free="free",i.Vertical="vertical",i.Horizontal="horizontal",(o=h||(h={})).Partial="partial",o.Full="full";let t8={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};(a=p||(p={})).Bezier="default",a.Straight="straight",a.Step="step",a.SmoothStep="smoothstep",a.SimpleBezier="simplebezier",(s=g||(g={})).Arrow="arrow",s.ArrowClosed="arrowclosed",(u=m||(m={})).Left="left",u.Top="top",u.Right="right",u.Bottom="bottom";let t7={[m.Left]:m.Right,[m.Right]:m.Left,[m.Top]:m.Bottom,[m.Bottom]:m.Top};function t9(e){return null===e?null:e?"valid":"invalid"}let ne=e=>"id"in e&&"source"in e&&"target"in e,nt=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),nn=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nr=(e,t=[0,0])=>{let{width:n,height:r}=nD(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},ni=(e,t={nodeOrigin:[0,0]})=>0===e.length?{x:0,y:0,width:0,height:0}:ny(e.reduce((e,n)=>{let r="string"==typeof n,i=t.nodeLookup||r?void 0:n;return t.nodeLookup&&(i=r?t.nodeLookup.get(n):nn(n)?n:t.nodeLookup.get(n.id)),ng(e,i?nb(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),no=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(e=>{(void 0===t.filter||t.filter(e))&&(n=ng(n,nb(e)),r=!0)}),r?ny(n):{x:0,y:0,width:0,height:0}},na=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{let s={...nM(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;let i=e.width??t.width??t.initialWidth??null,l=e.height??t.height??t.initialHeight??null,c=nx(s,nv(t)),d=(i??0)*(l??0),f=o&&c>0;(!t.internals.handleBounds||f||c>=d||t.dragging)&&u.push(t)}return u};async function ns({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){let s,u;if(0===e.size)return Promise.resolve(!0);let l=nN(no((s=new Map,u=a?.nodes?new Set(a.nodes.map(e=>e.id)):null,e.forEach(e=>{e.measured.width&&e.measured.height&&(a?.includeHiddenNodes||!e.hidden)&&(!u||u.has(e.id))&&s.set(e.id,e)}),s)),t,n,a?.minZoom??i,a?.maxZoom??o,a?.padding??.1);return await r.setViewport(l,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function nu({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){let a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:l}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r,d=a.extent||i;if("parent"!==a.extent||a.expandParent)s&&nA(a.extent)&&(d=[[a.extent[0][0]+u,a.extent[0][1]+l],[a.extent[1][0]+u,a.extent[1][1]+l]]);else if(s){let e=s.measured.width,t=s.measured.height;e&&t&&(d=[[u,l],[u+e,l+t]])}else o?.("005",t3.error005());let f=nA(d)?nd(t,d,a.measured):t;return(void 0===a.measured.width||void 0===a.measured.height)&&o?.("015",t3.error015()),{position:{x:f.x-u+(a.measured.width??0)*c[0],y:f.y-l+(a.measured.height??0)*c[1]},positionAbsolute:f}}async function nl({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){let o,a=new Set(e.map(e=>e.id)),s=[];for(let e of n){if(!1===e.deletable)continue;let t=a.has(e.id),n=!t&&e.parentId&&s.find(t=>t.id===e.parentId);(t||n)&&s.push(e)}let u=new Set(t.map(e=>e.id)),l=r.filter(e=>!1!==e.deletable),c=(o=new Set,s.forEach(e=>{o.add(e.id)}),l.filter(e=>o.has(e.source)||o.has(e.target)));for(let e of l)u.has(e.id)&&!c.find(t=>t.id===e.id)&&c.push(e);if(!i)return{edges:c,nodes:s};let d=await i({nodes:s,edges:c});return"boolean"==typeof d?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}let nc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),nd=(e={x:0,y:0},t,n)=>({x:nc(e.x,t[0][0],t[1][0]-(n?.width??0)),y:nc(e.y,t[0][1],t[1][1]-(n?.height??0))});function nf(e,t,n){let{width:r,height:i}=nD(n),{x:o,y:a}=n.internals.positionAbsolute;return nd(e,[[o,a],[o+r,a+i]],t)}let nh=(e,t,n)=>e<t?nc(Math.abs(e-t),1,t)/t:e>n?-nc(Math.abs(e-n),1,t)/t:0,np=(e,t,n=15,r=40)=>[nh(e.x,r,t.width-r)*n,nh(e.y,r,t.height-r)*n],ng=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),nm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ny=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),nv=(e,t=[0,0])=>{let{x:n,y:r}=nn(e)?e.internals.positionAbsolute:nr(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},nb=(e,t=[0,0])=>{let{x:n,y:r}=nn(e)?e.internals.positionAbsolute:nr(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},nw=(e,t)=>ny(ng(nm(e),nm(t))),nx=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),n_=e=>nE(e.width)&&nE(e.height)&&nE(e.x)&&nE(e.y),nE=e=>!isNaN(e)&&isFinite(e),nk=(e,t)=>{},nS=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),nM=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{let s={x:(e-n)/i,y:(t-r)/i};return o?nS(s,a):s},nO=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function nC(e,t){if("number"==typeof e)return Math.floor((t-t/(1+e))*.5);if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let nN=(e,t,n,r,i,o)=>{let a=function(e,t,n){if("string"==typeof e||"number"==typeof e){let r=nC(e,n),i=nC(e,t);return{top:r,right:i,bottom:r,left:i,x:2*i,y:2*r}}if("object"==typeof e){let r=nC(e.top??e.y??0,n),i=nC(e.bottom??e.y??0,n),o=nC(e.left??e.x??0,t),a=nC(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(o,t,n),s=nc(Math.min((t-a.x)/e.width,(n-a.y)/e.height),r,i),u=e.x+e.width/2,l=e.y+e.height/2,c=t/2-u*s,d=n/2-l*s,f=function(e,t,n,r,i,o){let{x:a,y:s}=nO(e,[t,n,r]),{x:u,y:l}=nO({x:e.x+e.width,y:e.y+e.height},[t,n,r]);return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(i-u),bottom:Math.floor(o-l)}}(e,c,d,s,t,n),h={left:Math.min(f.left-a.left,0),top:Math.min(f.top-a.top,0),right:Math.min(f.right-a.right,0),bottom:Math.min(f.bottom-a.bottom,0)};return{x:c-h.left+h.right,y:d-h.top+h.bottom,zoom:s}},nj=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function nA(e){return null!=e&&"parent"!==e}function nD(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function nP(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function nI(e,t={width:0,height:0},n,r,i){let o={...e},a=r.get(n);if(a){let e=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return o}function nL(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function n$(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function nR(e){return{...t6,...e||{}}}function nz(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){let{x:o,y:a}=nV(e),s=nM({x:o-(i?.left??0),y:a-(i?.top??0)},r),{x:u,y:l}=n?nS(s,t):s;return{xSnapped:u,ySnapped:l,...s}}let nT=e=>({width:e.offsetWidth,height:e.offsetHeight}),nB=e=>e?.getRootNode?.()||window?.document,nF=["INPUT","SELECT","TEXTAREA"];function nH(e){let t=e.composedPath?.()?.[0]||e.target;return t?.nodeType===1&&(nF.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}let nU=e=>"clientX"in e,nV=(e,t)=>{let n=nU(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},nq=(e,t,n,r,i)=>{let o=t.querySelectorAll(`.${e}`);return o&&o.length?Array.from(o).map(t=>{let o=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:i,position:t.getAttribute("data-handlepos"),x:(o.left-n.left)/r,y:(o.top-n.top)/r,...nT(t)}}):null};function nW({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){let u=.125*e+.375*i+.375*a+.125*n,l=.125*t+.375*o+.375*s+.125*r,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}function nX(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nY({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case m.Left:return[t-nX(t-r,o),n];case m.Right:return[t+nX(r-t,o),n];case m.Top:return[t,n-nX(n-i,o)];case m.Bottom:return[t,n+nX(i-n,o)]}}function nG({sourceX:e,sourceY:t,sourcePosition:n=m.Bottom,targetX:r,targetY:i,targetPosition:o=m.Top,curvature:a=.25}){let[s,u]=nY({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[l,c]=nY({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[d,f,h,p]=nW({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${u} ${l},${c} ${r},${i}`,d,f,h,p]}function nZ({sourceX:e,sourceY:t,targetX:n,targetY:r}){let i=Math.abs(n-e)/2,o=Math.abs(r-t)/2;return[n<e?n+i:n-i,r<t?r+o:r-o,i,o]}function nK({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(void 0!==r)return r;let o=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return(i&&n?1e3:0)+o}function nQ({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){let o=ng(nb(e),nb(t));return o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1),nx({x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]},ny(o))>0}let nJ=(e,t)=>{let n,r;return e.source&&e.target?(r=n=ne(e)?{...e}:{...e,id:(({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`)(e)},t.some(e=>e.source===r.source&&e.target===r.target&&(e.sourceHandle===r.sourceHandle||!e.sourceHandle&&!r.sourceHandle)&&(e.targetHandle===r.targetHandle||!e.targetHandle&&!r.targetHandle)))?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n)):(nk("006",t3.error006()),t)};function n0({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[i,o,a,s]=nZ({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}let n1={[m.Left]:{x:-1,y:0},[m.Right]:{x:1,y:0},[m.Top]:{x:0,y:-1},[m.Bottom]:{x:0,y:1}},n2=({source:e,sourcePosition:t=m.Bottom,target:n})=>t===m.Left||t===m.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},n3=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function n5({sourceX:e,sourceY:t,sourcePosition:n=m.Bottom,targetX:r,targetY:i,targetPosition:o=m.Top,borderRadius:a=5,centerX:s,centerY:u,offset:l=20,stepPosition:c=.5}){let[d,f,h,p,g]=function({source:e,sourcePosition:t=m.Bottom,target:n,targetPosition:r=m.Top,center:i,offset:o,stepPosition:a}){let s,u,l=n1[t],c=n1[r],d={x:e.x+l.x*o,y:e.y+l.y*o},f={x:n.x+c.x*o,y:n.y+c.y*o},h=n2({source:d,sourcePosition:t,target:f}),p=0!==h.x?"x":"y",g=h[p],y=[],v={x:0,y:0},b={x:0,y:0},[,,w,x]=nZ({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[p]*c[p]==-1){"x"===p?(s=i.x??d.x+(f.x-d.x)*a,u=i.y??(d.y+f.y)/2):(s=i.x??(d.x+f.x)/2,u=i.y??d.y+(f.y-d.y)*a);let e=[{x:s,y:d.y},{x:s,y:f.y}],t=[{x:d.x,y:u},{x:f.x,y:u}];y=l[p]===g?"x"===p?e:t:"x"===p?t:e}else{let i=[{x:d.x,y:f.y}],a=[{x:f.x,y:d.y}];if(y="x"===p?l.x===g?a:i:l.y===g?i:a,t===r){let t=Math.abs(e[p]-n[p]);if(t<=o){let r=Math.min(o-1,o-t);l[p]===g?v[p]=(d[p]>e[p]?-1:1)*r:b[p]=(f[p]>n[p]?-1:1)*r}}if(t!==r){let e="x"===p?"y":"x",t=l[p]===c[e],n=d[e]>f[e],r=d[e]<f[e];(1===l[p]&&(!t&&n||t&&r)||1!==l[p]&&(!t&&r||t&&n))&&(y="x"===p?i:a)}let h={x:d.x+v.x,y:d.y+v.y},m={x:f.x+b.x,y:f.y+b.y};Math.max(Math.abs(h.x-y[0].x),Math.abs(m.x-y[0].x))>=Math.max(Math.abs(h.y-y[0].y),Math.abs(m.y-y[0].y))?(s=(h.x+m.x)/2,u=y[0].y):(s=y[0].x,u=(h.y+m.y)/2)}return[[e,{x:d.x+v.x,y:d.y+v.y},...y,{x:f.x+b.x,y:f.y+b.y},n],s,u,w,x]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:u},offset:l,stepPosition:c});return[d.reduce((e,t,n)=>e+(n>0&&n<d.length-1?function(e,t,n,r){let i=Math.min(n3(e,t)/2,n3(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${o+i*t},${a}Q ${o},${a} ${o},${a+i*r}`}let s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}(d[n-1],t,d[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),f,h,p,g]}function n4(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function n6(e){let{sourceNode:t,targetNode:n}=e;if(!n4(t)||!n4(n))return null;let r=t.internals.handleBounds||n8(t.handles),i=n.internals.handleBounds||n8(n.handles),o=n9(r?.source??[],e.sourceHandle),a=n9(e.connectionMode===d.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!o||!a)return e.onError?.("008",t3.error008(!o?"source":"target",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let s=o?.position||m.Bottom,u=a?.position||m.Top,l=n7(t,o,s),c=n7(n,a,u);return{sourceX:l.x,sourceY:l.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:u}}function n8(e){if(!e)return null;let t=[],n=[];for(let r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function n7(e,t,n=m.Left,r=!1){let i=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??nD(e);if(r)return{x:i+a/2,y:o+s/2};switch(t?.position??n){case m.Top:return{x:i+a/2,y:o};case m.Right:return{x:i+a,y:o+s/2};case m.Bottom:return{x:i+a/2,y:o+s};case m.Left:return{x:i,y:o+s/2}}}function n9(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function re(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}function rt(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){let o=new Set;return e.reduce((e,a)=>([a.markerStart||r,a.markerEnd||i].forEach(r=>{if(r&&"object"==typeof r){let i=re(r,t);o.has(i)||(e.push({id:i,color:r.color||n,...r}),o.add(i))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}let rn={nodeOrigin:[0,0],nodeExtent:t5,elevateNodesOnSelect:!0,defaults:{}},rr={...rn,checkEquality:!0};function ri(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function ro(e,t,n){let r=ri(rn,n);for(let n of e.values())if(n.parentId)rs(n,e,t,r);else{let e=nd(nr(n,r.nodeOrigin),nA(n.extent)?n.extent:r.nodeExtent,nD(n));n.internals.positionAbsolute=e}}function ra(e,t,n,r){let i=ri(rr,r),o={i:-1},a=e.length>0,s=new Map(t),u=1e3*!!i?.elevateNodesOnSelect;for(let l of(t.clear(),n.clear(),e)){let e=s.get(l.id);if(i.checkEquality&&l===e?.internals.userNode)t.set(l.id,e);else{let n=nd(nr(l,i.nodeOrigin),nA(l.extent)?l.extent:i.nodeExtent,nD(l));e={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:n,handleBounds:function(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;let n=[],r=[];for(let t of e.handles){let i={id:t.id,width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(i):"target"===t.type&&r.push(i)}return{source:n,target:r}}(l,e),z:ru(l,u),userNode:l}},t.set(l.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(a=!1),l.parentId&&rs(e,t,n,r,o)}return a}function rs(e,t,n,r,i){let{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:s}=ri(rn,r),u=e.parentId,l=t.get(u);if(!l)return void console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n),i&&!l.parentId&&void 0===l.internals.rootParentIndex&&(l.internals.rootParentIndex=++i.i,l.internals.z=l.internals.z+10*i.i),i&&void 0!==l.internals.rootParentIndex&&(i.i=l.internals.rootParentIndex);let{x:c,y:d,z:f}=function(e,t,n,r,i){let{x:o,y:a}=t.internals.positionAbsolute,s=nD(e),u=nr(e,n),l=nA(e.extent)?nd(u,e.extent,s):u,c=nd({x:o+l.x,y:a+l.y},r,s);"parent"===e.extent&&(c=nf(c,s,t));let d=ru(e,i),f=t.internals.z??0;return{x:c.x,y:c.y,z:f>=d?f+1:d}}(e,l,a,s,1e3*!!o),{positionAbsolute:h}=e.internals,p=c!==h.x||d!==h.y;(p||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:p?{x:c,y:d}:h,z:f}})}function ru(e,t){return(nE(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function rl(e,t,n,r=[0,0]){let i=[],o=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let r=nw(o.get(n.parentId)?.expandedRect??nv(e),n.rect);o.set(n.parentId,{expandedRect:r,parent:e})}return o.size>0&&o.forEach(({expandedRect:t,parent:o},a)=>{let s=o.internals.positionAbsolute,u=nD(o),l=o.origin??r,c=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,f=Math.max(u.width,Math.round(t.width)),h=Math.max(u.height,Math.round(t.height)),p=(f-u.width)*l[0],g=(h-u.height)*l[1];(c>0||d>0||p||g)&&(i.push({id:a,type:"position",position:{x:o.position.x-c+p,y:o.position.y-d+g}}),n.get(a)?.forEach(t=>{e.some(e=>e.id===t.id)||i.push({id:t.id,type:"position",position:{x:t.position.x+c,y:t.position.y+d}})})),(u.width<t.width||u.height<t.height||c||d)&&i.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:f+(c?l[0]*c-p:0),height:h+(d?l[1]*d-g:0)}})}),i}function rc(e,t,n,r,i,o){let a=r?.querySelector(".xyflow__viewport"),s=!1;if(!a)return{changes:[],updatedInternals:s};let u=[],l=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(l.transform),d=[];for(let r of e.values()){let e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),s=!0;continue}let a=nT(r.nodeElement),l=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(l||!e.internals.handleBounds||r.force)){let f=r.nodeElement.getBoundingClientRect(),h=nA(e.extent)?e.extent:o,{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=nf(p,a,t.get(e.parentId)):h&&(p=nd(p,h,a));let g={...e,measured:a,internals:{...e.internals,positionAbsolute:p,handleBounds:{source:nq("source",r.nodeElement,f,c,e.id),target:nq("target",r.nodeElement,f,c,e.id)}}};t.set(e.id,g),e.parentId&&rs(g,t,n,{nodeOrigin:i}),s=!0,l&&(u.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:nv(g,i)}))}}if(d.length>0){let e=rl(d,t,n,i);u.push(...e)}return{changes:u,updatedInternals:s}}async function rd({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function rf(e,t,n,r,i,o){let a=i,s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;let u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),o){a=`${i}-${e}-${o}`;let s=r.get(a)||new Map;r.set(a,s.set(n,t))}}function rh(e,t,n){for(let r of(e.clear(),t.clear(),n)){let{source:n,target:i,sourceHandle:o=null,targetHandle:a=null}=r,s={edgeId:r.id,source:n,target:i,sourceHandle:o,targetHandle:a},u=`${n}-${o}--${i}-${a}`;rf("source",s,`${i}-${a}--${n}-${o}`,e,n,o),rf("target",s,u,e,i,a),t.set(r.id,r)}}function rp(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)break;r=r?.parentElement}while(r);return!1}function rg({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){let i=[];for(let[e,o]of t){let t=n.get(e)?.internals.userNode;t&&i.push({...t,position:o.position,dragging:r})}if(!e)return[i[0],i];let o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:i[0],i]}function rm({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,u=!1,l={x:0,y:0},c=null,d=!1,f=null,h=!1,p=!1,g=null;return{update:function({noDragClassName:m,handleSelector:y,domNode:v,isSelectable:b,nodeId:w,nodeClickDistance:x=0}){function _({x:e,y:n}){let{nodeLookup:i,nodeExtent:a,snapGrid:u,snapToGrid:l,nodeOrigin:c,onNodeDrag:d,onSelectionDrag:f,onError:h,updateNodePositions:m}=t();o={x:e,y:n};let y=!1,v=s.size>1,b=v&&a?nm(no(s)):null,x=v&&l?function({dragItems:e,snapGrid:t,x:n,y:r}){let i=e.values().next().value;if(!i)return null;let o={x:n-i.distance.x,y:r-i.distance.y},a=nS(o,t);return{x:a.x-o.x,y:a.y-o.y}}({dragItems:s,snapGrid:u,x:e,y:n}):null;for(let[t,r]of s){if(!i.has(t))continue;let o={x:e-r.distance.x,y:n-r.distance.y};l&&(o=x?{x:Math.round(o.x+x.x),y:Math.round(o.y+x.y)}:nS(o,u));let s=null;if(v&&a&&!r.extent&&b){let{positionAbsolute:e}=r.internals,t=e.x-b.x+a[0][0],n=e.x+r.measured.width-b.x2+a[1][0];s=[[t,e.y-b.y+a[0][1]],[n,e.y+r.measured.height-b.y2+a[1][1]]]}let{position:d,positionAbsolute:f}=nu({nodeId:t,nextPosition:o,nodeLookup:i,nodeExtent:s||a,nodeOrigin:c,onError:h});y=y||r.position.x!==d.x||r.position.y!==d.y,r.position=d,r.internals.positionAbsolute=f}if(p=p||y,y&&(m(s,!0),g&&(r||d||!w&&f))){let[e,t]=rg({nodeId:w,dragItems:s,nodeLookup:i});r?.(g,s,e,t),d?.(g,e,t),w||f?.(g,t)}}async function E(){if(!c)return;let{transform:e,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:i}=t();if(!i){u=!1,cancelAnimationFrame(a);return}let[s,d]=np(l,c,r);(0!==s||0!==d)&&(o.x=(o.x??0)-s/e[2],o.y=(o.y??0)-d/e[2],await n({x:s,y:d})&&_(o)),a=requestAnimationFrame(E)}function k(r){let{nodeLookup:i,multiSelectionActive:a,nodesDraggable:u,transform:l,snapGrid:f,snapToGrid:h,selectNodesOnDrag:p,onNodeDragStart:g,onSelectionDragStart:m,unselectNodesAndEdges:y}=t();d=!0,p&&b||a||!w||i.get(w)?.selected||y(),b&&p&&w&&e?.(w);let v=nz(r.sourceEvent,{transform:l,snapGrid:f,snapToGrid:h,containerBounds:c});if(o=v,(s=function(e,t,n,r){let i=new Map;for(let[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!function e(t,n){if(!t.parentId)return!1;let r=n.get(t.parentId);return!!r&&(!!r.selected||e(r,n))}(a,e))&&(a.draggable||t&&void 0===a.draggable)){let t=e.get(o);t&&i.set(o,{id:o,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return i}(i,u,v,w)).size>0&&(n||g||!w&&m)){let[e,t]=rg({nodeId:w,dragItems:s,nodeLookup:i});n?.(r.sourceEvent,s,e,t),g?.(r.sourceEvent,e,t),w||m?.(r.sourceEvent,t)}}f=el(v);let S=eE().clickDistance(x).on("start",e=>{let{domNode:n,nodeDragThreshold:r,transform:i,snapGrid:a,snapToGrid:s}=t();c=n?.getBoundingClientRect()||null,h=!1,p=!1,g=e.sourceEvent,0===r&&k(e),o=nz(e.sourceEvent,{transform:i,snapGrid:a,snapToGrid:s,containerBounds:c}),l=nV(e.sourceEvent,c)}).on("drag",e=>{let{autoPanOnNodeDrag:n,transform:r,snapGrid:i,snapToGrid:a,nodeDragThreshold:f,nodeLookup:p}=t(),m=nz(e.sourceEvent,{transform:r,snapGrid:i,snapToGrid:a,containerBounds:c});if(g=e.sourceEvent,("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||w&&!p.has(w))&&(h=!0),!h){if(!u&&n&&d&&(u=!0,E()),!d){let t=nV(e.sourceEvent,c),n=t.x-l.x,r=t.y-l.y;Math.sqrt(n*n+r*r)>f&&k(e)}(o.x!==m.xSnapped||o.y!==m.ySnapped)&&s&&d&&(l=nV(e.sourceEvent,c),_(m))}}).on("end",e=>{if(d&&!h&&(u=!1,d=!1,cancelAnimationFrame(a),s.size>0)){let{nodeLookup:n,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:a}=t();if(p&&(r(s,!1),p=!1),i||o||!w&&a){let[t,r]=rg({nodeId:w,dragItems:s,nodeLookup:n,dragging:!1});i?.(e.sourceEvent,s,t,r),o?.(e.sourceEvent,t,r),w||a?.(e.sourceEvent,r)}}}).filter(e=>{let t=e.target;return!e.button&&(!m||!rp(t,`.${m}`,v))&&(!y||rp(t,y,v))});f.call(S)},destroy:function(){f?.on(".drag",null)}}}function ry(e,t,n,r,i,o=!1){let a=r.get(e);if(!a)return null;let s="strict"===i?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find(e=>e.id===n):s?.[0])??null;return u&&o?{...u,...n7(a,u,u.position,!0)}:u}function rv(e,t){return e?e:t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null}let rb=()=>!0;function rw(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:l=rb,nodeLookup:c}){let f="target"===o,h=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=nV(e),m=a.elementFromPoint(p,g),y=m?.classList.contains(`${s}-flow__handle`)?m:h,v={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){let e=rv(void 0,y),t=y.getAttribute("data-nodeid"),o=y.getAttribute("data-handleid"),a=y.classList.contains("connectable"),s=y.classList.contains("connectableend");if(!t||!e)return v;let u={source:f?t:r,sourceHandle:f?o:i,target:f?r:t,targetHandle:f?i:o};v.connection=u,v.isValid=a&&s&&(n===d.Strict?f&&"source"===e||!f&&"target"===e:t!==r||o!==i)&&l(u),v.toHandle=ry(t,e,o,c,n,!0)}return v}let rx={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:u,lib:l,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:h,onConnectStart:p,onConnect:g,onConnectEnd:y,isValidConnection:v=rb,onReconnectEnd:b,updateConnection:w,getTransform:x,getFromHandle:_,autoPanSpeed:E,dragThreshold:k=1,handleDomNode:S}){let M,O=nB(e.target),C=0,{x:N,y:j}=nV(e),A=rv(o,S),D=s?.getBoundingClientRect(),P=!1;if(!D||!A)return;let I=ry(i,A,r,u,t);if(!I)return;let L=nV(e,D),$=!1,R=null,z=!1,T=null,B={...I,nodeId:i,type:A,position:I.position},F=u.get(i),H={inProgress:!0,isValid:null,from:n7(F,B,m.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:F,to:L,toHandle:null,toPosition:t7[B.position],toNode:null};function U(){P=!0,w(H),p?.(e,{nodeId:i,handleId:r,handleType:A})}function V(e){var o,s;let h;if(!P){let{x:t,y:n}=nV(e),r=t-N,i=n-j;if(!(r*r+i*i>k*k))return;U()}if(!_()||!B)return void q(e);let p=x();M=function(e,t,n,r){let i=[],o=1/0;for(let a of function(e,t,n){let r=[],i={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())nx(i,nv(e))>0&&r.push(e);return r}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:s,y:u}=n7(a,n,n.position,!0),l=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(u-e.y,2));l>t||(l<o?(i=[{...n,x:s,y:u}],o=l):l===o&&i.push({...n,x:s,y:u}))}if(!i.length)return null;if(i.length>1){let e="source"===r.type?"target":"source";return i.find(t=>t.type===e)??i[0]}return i[0]}(nM(L=nV(e,D),p,!1,[1,1]),n,u,B),$||(!function e(){if(!c||!D)return;let[t,n]=np(L,D,E);f({x:t,y:n}),C=requestAnimationFrame(e)}(),$=!0);let g=rw(e,{handle:M,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:v,doc:O,lib:l,flowId:d,nodeLookup:u});T=g.handleDomNode,R=g.connection,o=!!M,s=g.isValid,h=null,s?h=!0:o&&!s&&(h=!1),z=h;let m={...H,isValid:z,to:g.toHandle&&z?nO({x:g.toHandle.x,y:g.toHandle.y},p):L,toHandle:g.toHandle,toPosition:z&&g.toHandle?g.toHandle.position:t7[B.position],toNode:g.toHandle?u.get(g.toHandle.nodeId):null};z&&M&&H.toHandle&&m.toHandle&&H.toHandle.type===m.toHandle.type&&H.toHandle.nodeId===m.toHandle.nodeId&&H.toHandle.id===m.toHandle.id&&H.to.x===m.to.x&&H.to.y===m.to.y||(w(m),H=m)}function q(e){if(!("touches"in e)||!(e.touches.length>0)){if(P){(M||T)&&R&&z&&g?.(R);let{inProgress:t,...n}=H,r={...n,toPosition:H.toHandle?H.toPosition:null};y?.(e,r),o&&b?.(e,r)}h(),cancelAnimationFrame(C),$=!1,z=!1,R=null,T=null,O.removeEventListener("mousemove",V),O.removeEventListener("mouseup",q),O.removeEventListener("touchmove",V),O.removeEventListener("touchend",q)}}0===k&&U(),O.addEventListener("mousemove",V),O.addEventListener("mouseup",q),O.addEventListener("touchmove",V),O.addEventListener("touchend",q)},isValid:rw};function r_({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){let i=el(e);return{update:function({translateExtent:e,width:o,height:a,zoomStep:s=1,pannable:u=!0,zoomable:l=!0,inversePan:c=!1}){let d=[0,0],f=t1().on("start",e=>{("mousedown"===e.sourceEvent.type||"touchstart"===e.sourceEvent.type)&&(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",u?i=>{let s=n();if("mousemove"!==i.sourceEvent.type&&"touchmove"!==i.sourceEvent.type||!t)return;let u=[i.sourceEvent.clientX??i.sourceEvent.touches[0].clientX,i.sourceEvent.clientY??i.sourceEvent.touches[0].clientY],l=[u[0]-d[0],u[1]-d[1]];d=u;let f=r()*Math.max(s[2],Math.log(s[2]))*(c?-1:1),h={x:s[0]-l[0]*f,y:s[1]-l[1]*f};t.setViewportConstrained({x:h.x,y:h.y,zoom:s[2]},[[0,0],[o,a]],e)}:null).on("zoom.wheel",l?e=>{if("wheel"!==e.sourceEvent.type||!t)return;let r=n(),i=e.sourceEvent.ctrlKey&&nj()?10:1,o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,a=r[2]*Math.pow(2,o*i);t.scaleTo(a)}:null);i.call(f,{})},destroy:function(){i.on("zoom",null)},pointer:ec}}let rE=e=>({x:e.x,y:e.y,zoom:e.k}),rk=({x:e,y:t,zoom:n})=>tq.translate(e,t).scale(n),rS=(e,t)=>e.target.closest(`.${t}`),rM=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),rO=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,rC=(e,t=0,n=rO,r=()=>{})=>{let i="number"==typeof t&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},rN=e=>{let t=e.ctrlKey&&nj()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function rj({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:u}){let l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),d=t1().scaleExtent([t,n]).translateExtent(r),h=el(e).call(d);v({x:i.x,y:i.y,zoom:nc(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);let p=h.on("wheel.zoom"),g=h.on("dblclick.zoom");function m(e,t){return h?new Promise(n=>{d?.interpolate(t?.interpolate==="linear"?t2:eO).transform(rC(h,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)}function y(){d.on("zoom",null)}async function v(e,t,n){let r=rk(e),i=d?.constrain()(r,t,n);return i&&await m(i),new Promise(e=>e(i))}return d.wheelDelta(rN),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:i,panOnDrag:c,panOnScrollMode:m,panOnScrollSpeed:v,preventScrolling:b,zoomOnPinch:w,zoomOnScroll:x,zoomOnDoubleClick:_,zoomActivationKeyPressed:E,lib:k,onTransformChange:S,connectionInProgress:M,paneClickDistance:O,selectionOnDrag:C}){r&&!l.isZoomingOrPanning&&y();let N=i&&!E&&!r;d.clickDistance(C?1/0:!nE(O)||O<0?0:O);let j=N?function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:l}){return c=>{if(rS(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();let d=n.property("__zoom").k||1;if(c.ctrlKey&&a){let e=ec(c),t=d*Math.pow(2,rN(c));r.scaleTo(n,t,e,c);return}let h=1===c.deltaMode?20:1,p=i===f.Vertical?0:c.deltaX*h,g=i===f.Horizontal?0:c.deltaY*h;!nj()&&c.shiftKey&&i!==f.Vertical&&(p=c.deltaY*h,g=0),r.translateBy(n,-(p/d)*o,-(g/d)*o,{internal:!0});let m=rE(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u?.(c,m),e.panScrollTimeout=setTimeout(()=>{l?.(c,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s?.(c,m))}}({zoomPanValues:l,noWheelClassName:e,d3Selection:h,d3Zoom:d,panOnScrollMode:m,panOnScrollSpeed:v,zoomOnPinch:w,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:s}):function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){let o="wheel"===r.type,a=!t&&o&&!r.ctrlKey,s=rS(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}({noWheelClassName:e,preventScrolling:b,d3ZoomHandler:p});if(h.on("wheel.zoom",j,{passive:!1}),!r){let e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;let i=rE(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}({zoomPanValues:l,onDraggingChange:u,onPanZoomStart:a});d.on("start",e);let t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{e.usedRightMouseButton=!!(n&&rM(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,rE(o.transform))}}({zoomPanValues:l,panOnDrag:c,onPaneContextMenu:!!n,onPanZoom:o,onTransformChange:S});d.on("zoom",t);let r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&rM(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){let t=rE(a.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(a.sourceEvent,t)},150*!!n)}}}({zoomPanValues:l,panOnDrag:c,panOnScroll:i,onPaneContextMenu:n,onPanZoomEnd:s,onDraggingChange:u});d.on("end",r)}let A=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:l,connectionInProgress:c}){return d=>{let f=e||t,h=n&&d.ctrlKey,p="wheel"===d.type;if(1===d.button&&"mousedown"===d.type&&(rS(d,`${l}-flow__node`)||rS(d,`${l}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||a||c&&!p||rS(d,s)&&p||rS(d,u)&&(!p||i&&p&&!e)||!n&&d.ctrlKey&&p)return!1;if(!n&&"touchstart"===d.type&&d.touches?.length>1)return d.preventDefault(),!1;if(!f&&!i&&!h&&p||!r&&("mousedown"===d.type||"touchstart"===d.type)||Array.isArray(r)&&!r.includes(d.button)&&"mousedown"===d.type)return!1;let g=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||p)&&g}}({zoomActivationKeyPressed:E,panOnDrag:c,zoomOnScroll:x,panOnScroll:i,zoomOnDoubleClick:_,zoomOnPinch:w,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:k,connectionInProgress:M});d.filter(A),_?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)},destroy:y,setViewport:async function e(e,t){let n=rk(e);return await m(n,t),new Promise(e=>e(n))},setViewportConstrained:v,getViewport:function(){let e=h?tW(h.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return h?new Promise(n=>{d?.interpolate(t?.interpolate==="linear"?t2:eO).scaleTo(rC(h,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return h?new Promise(n=>{d?.interpolate(t?.interpolate==="linear"?t2:eO).scaleBy(rC(h,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){d?.scaleExtent(e)},setTranslateExtent:function(e){d?.translateExtent(e)},syncViewport:function(e){if(h){let t=rk(e),n=h.property("__zoom");(n.k!==e.zoom||n.x!==e.x||n.y!==e.y)&&d?.transform(h,t,null,{sync:!0})}},setClickDistance:function(e){let t=!nE(e)||e<0?0:e;d?.clickDistance(t)}}}function rA(e){let t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:e.includes("left"),affectsY:e.includes("top")}}function rD(e,t){return Math.max(0,t-e)}function rP(e,t){return Math.max(0,e-t)}function rI(e,t,n){return Math.max(0,t-e,e-n)}(l=y||(y={})).Line="line",l.Handle="handle";let rL={width:0,height:0,x:0,y:0},r$={...rL,pointerX:0,pointerY:0,aspectRatio:1};function rR({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){let o=el(e),a={controlDirection:rA("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};return{update:function({controlPosition:e,boundaries:s,keepAspectRatio:u,resizeDirection:l,onResizeStart:c,onResize:d,onResizeEnd:f,shouldResize:h}){let p,g,m,y,v={...rL},b={...r$};a={boundaries:s,resizeDirection:l,keepAspectRatio:u,controlDirection:rA(e)};let w=null,x=[],_=!1,E=eE().on("start",e=>{let{nodeLookup:r,transform:i,snapGrid:o,snapToGrid:a,nodeOrigin:s,paneDomNode:u}=n();if(!(p=r.get(t)))return;w=u?.getBoundingClientRect()??null;let{xSnapped:l,ySnapped:d}=nz(e.sourceEvent,{transform:i,snapGrid:o,snapToGrid:a,containerBounds:w});if(b={...v={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},pointerX:l,pointerY:d,aspectRatio:v.width/v.height},g=void 0,p.parentId&&("parent"===p.extent||p.expandParent)){var f;m=(g=r.get(p.parentId))&&"parent"===p.extent?[[0,0],[(f=g).measured.width,f.measured.height]]:void 0}for(let[e,n]of(x=[],y=void 0,r))if(n.parentId===t&&(x.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){let e=function(e,t,n){let r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,u=n[1]*a;return[[r-s,i-u],[r+o-s,i+a-u]]}(n,p,n.origin??s);y=y?[[Math.min(e[0][0],y[0][0]),Math.min(e[0][1],y[0][1])],[Math.max(e[1][0],y[1][0]),Math.max(e[1][1],y[1][1])]]:e}c?.(e,{...v})}).on("drag",e=>{let{transform:t,snapGrid:i,snapToGrid:o,nodeOrigin:s}=n(),u=nz(e.sourceEvent,{transform:t,snapGrid:i,snapToGrid:o,containerBounds:w}),l=[];if(!p)return;let{x:c,y:f,width:E,height:k}=v,S={},M=p.origin??s,{width:O,height:C,x:N,y:j}=function(e,t,n,r,i,o,a,s){var u,l,c,d;let{affectsX:f,affectsY:h}=t,{isHorizontal:p,isVertical:g}=t,m=p&&g,{xSnapped:y,ySnapped:v}=n,{minWidth:b,maxWidth:w,minHeight:x,maxHeight:_}=r,{x:E,y:k,width:S,height:M,aspectRatio:O}=e,C=Math.floor(p?y-e.pointerX:0),N=Math.floor(g?v-e.pointerY:0),j=S+(f?-C:C),A=M+(h?-N:N),D=-o[0]*S,P=-o[1]*M,I=rI(j,b,w),L=rI(A,x,_);if(a){let e=0,t=0;f&&C<0?e=rD(E+C+D,a[0][0]):!f&&C>0&&(e=rP(E+j+D,a[1][0])),h&&N<0?t=rD(k+N+P,a[0][1]):!h&&N>0&&(t=rP(k+A+P,a[1][1])),I=Math.max(I,e),L=Math.max(L,t)}if(s){let e=0,t=0;f&&C>0?e=rP(E+C,s[0][0]):!f&&C<0&&(e=rD(E+j,s[1][0])),h&&N>0?t=rP(k+N,s[0][1]):!h&&N<0&&(t=rD(k+A,s[1][1])),I=Math.max(I,e),L=Math.max(L,t)}if(i){if(p){(I=Math.max(I,rI(j/O,x,_)*O),a)&&(I=Math.max(I,(f||h)&&(!f||h||!m)?rD(k+P+(f?C:-C)/O,a[0][1])*O:rP(k+P+j/O,a[1][1])*O));s&&(I=Math.max(I,(f||h)&&(!f||h||!m)?rP(k+(f?C:-C)/O,s[0][1])*O:rD(k+j/O,s[1][1])*O))}if(g){(L=Math.max(L,rI(A*O,b,w)/O),a)&&(L=Math.max(L,(f||h)&&(!h||f||!m)?rD(E+(h?N:-N)*O+D,a[0][0])/O:rP(E+A*O+D,a[1][0])/O));s&&(L=Math.max(L,(f||h)&&(!h||f||!m)?rP(E+(h?N:-N)*O,s[0][0])/O:rD(E+A*O,s[1][0])/O))}}N+=N<0?L:-L,C+=C<0?I:-I,i&&(m?j>A*O?N=((u=f,l=h,u?!l:l)?-C:C)/O:C=((c=f,d=h,c?!d:d)?-N:N)*O:p?(N=C/O,h=f):(C=N*O,f=h));let $=f?E+C:E,R=h?k+N:k;return{width:S+(f?-C:C),height:M+(h?-N:N),x:o[0]*C*(f?-1:1)+$,y:o[1]*N*(h?-1:1)+R}}(b,a.controlDirection,u,a.boundaries,a.keepAspectRatio,M,m,y),A=O!==E,D=C!==k,P=N!==c&&A,I=j!==f&&D;if(!P&&!I&&!A&&!D)return;if((P||I||1===M[0]||1===M[1])&&(S.x=P?N:v.x,S.y=I?j:v.y,v.x=S.x,v.y=S.y,x.length>0)){let e=N-c,t=j-f;for(let n of x)n.position={x:n.position.x-e+M[0]*(O-E),y:n.position.y-t+M[1]*(C-k)},l.push(n)}if((A||D)&&(S.width=A&&(!a.resizeDirection||"horizontal"===a.resizeDirection)?O:v.width,S.height=D&&(!a.resizeDirection||"vertical"===a.resizeDirection)?C:v.height,v.width=S.width,v.height=S.height),g&&p.expandParent){let e=M[0]*(S.width??0);S.x&&S.x<e&&(v.x=e,b.x=b.x-(S.x-e));let t=M[1]*(S.height??0);S.y&&S.y<t&&(v.y=t,b.y=b.y-(S.y-t))}let L=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){let a=e-t,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(u[0]=-1*u[0]),s&&o&&(u[1]=-1*u[1]),u}({width:v.width,prevWidth:E,height:v.height,prevHeight:k,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),$={...v,direction:L};!1!==h?.(e,$)&&(_=!0,d?.(e,$),r(S,l))}).on("end",e=>{_&&(f?.(e,{...v}),i?.({...v}),_=!1)});o.call(E)},destroy:function(){o.on(".drag",null)}}}},2983:function(e,t,n){e.exports=n(2310)(n(8453),"DataView")},581:function(e,t,n){var r=n(7384),i=n(4238),o=n(2329),a=n(4037),s=n(3613);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},2839:function(e,t,n){var r=n(3614),i=n(2008),o=n(2715),a=n(5655),s=n(8383);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},6615:function(e,t,n){e.exports=n(2310)(n(8453),"Map")},2229:function(e,t,n){var r=n(3752),i=n(9886),o=n(6969),a=n(5989),s=n(3485);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},3676:function(e,t,n){e.exports=n(2310)(n(8453),"Promise")},2489:function(e,t,n){e.exports=n(2310)(n(8453),"Set")},7667:function(e,t,n){var r=n(2229),i=n(5340),o=n(1387);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8089:function(e,t,n){var r=n(2839),i=n(7380),o=n(8354),a=n(2413),s=n(7073),u=n(1241);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},4073:function(e,t,n){e.exports=n(8453).Symbol},7084:function(e,t,n){e.exports=n(8453).Uint8Array},2039:function(e,t,n){e.exports=n(2310)(n(8453),"WeakMap")},7714:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},8079:function(e,t,n){var r=n(7e3),i=n(6356),o=n(6521),a=n(9232),s=n(2753),u=n(4167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&u(e),h=n||c||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)(t||l.call(e,m))&&!(h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g)))&&p.push(m);return p}},764:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},9512:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},714:function(e){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},1600:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5690:function(e){e.exports=function(e){return e.split("")}},4333:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},2961:function(e,t,n){var r=n(2864);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},6431:function(e,t,n){var r=n(9512),i=n(6521);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6624:function(e,t,n){var r=n(4073),i=n(7915),o=n(4478),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7382:function(e,t,n){var r=n(6624),i=n(2050);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},2118:function(e,t,n){var r=n(8196),i=n(2050);e.exports=function e(t,n,o,a,s){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,o,a,e,s):t!=t&&n!=n)}},8196:function(e,t,n){var r=n(8089),i=n(4415),o=n(9306),a=n(2473),s=n(77),u=n(6521),l=n(9232),c=n(4167),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=u(e),b=u(t),w=v?f:s(e),x=b?f:s(t);w=w==d?h:w,x=x==d?h:x;var _=w==h,E=x==h,k=w==x;if(k&&l(e)){if(!l(t))return!1;v=!0,_=!1}if(k&&!_)return y||(y=new r),v||c(e)?i(e,t,n,g,m,y):o(e,t,w,n,g,m,y);if(!(1&n)){var S=_&&p.call(e,"__wrapped__"),M=E&&p.call(t,"__wrapped__");if(S||M){var O=S?e.value():e,C=M?t.value():t;return y||(y=new r),m(O,C,n,g,y)}}return!!k&&(y||(y=new r),a(e,t,n,g,m,y))}},1187:function(e,t,n){var r=n(1330),i=n(1992),o=n(7717),a=n(1513),s=/^\[object .+?Constructor\]$/,u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,d=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},4061:function(e,t,n){var r=n(6624),i=n(9358),o=n(2050),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5152:function(e,t,n){var r=n(1327),i=n(5450),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},16:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},1440:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},7e3:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},9020:function(e,t,n){var r=n(4073),i=n(764),o=n(6521),a=n(6770),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},8877:function(e){e.exports=function(e){return function(t){return e(t)}}},9707:function(e){e.exports=function(e,t){return e.has(t)}},3978:function(e,t,n){var r=n(1440);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},2353:function(e,t,n){e.exports=n(8453)["__core-js_shared__"]},7075:function(e,t,n){var r=n(3978),i=n(8138),o=n(8752),a=n(8382);e.exports=function(e){return function(t){var n=i(t=a(t))?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},5467:function(e,t,n){var r=n(714),i=n(6068),o=n(3117),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(o(i(t).replace(a,"")),e,"")}}},7167:function(e,t,n){e.exports=n(16)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"})},4415:function(e,t,n){var r=n(7667),i=n(1600),o=n(9707);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var f=u.get(e),h=u.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var y=e[p],v=t[p];if(a)var b=l?a(v,y,p,t,e,u):a(y,v,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,function(e,t){if(!o(m,t)&&(y===e||s(y,e,n,a,u)))return m.push(t)})){g=!1;break}}else if(!(y===v||s(y,v,n,a,u))){g=!1;break}}return u.delete(e),u.delete(t),g}},9306:function(e,t,n){var r=n(4073),i=n(7084),o=n(2864),a=n(4415),s=n(4533),u=n(943),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)break;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,l,d,f);return f.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},2473:function(e,t,n){var r=n(7162),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var d=c;d--;){var f=l[d];if(!(u?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=u;++d<c;){var y=e[f=l[d]],v=t[f];if(o)var b=u?o(v,y,f,t,e,s):o(y,v,f,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(g=!1)}return s.delete(e),s.delete(t),g}},8928:function(e,t,n){e.exports="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g},7162:function(e,t,n){var r=n(6431),i=n(7328),o=n(4630);e.exports=function(e){return r(e,o,i)}},1379:function(e,t,n){var r=n(8802);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2310:function(e,t,n){var r=n(1187),i=n(3584);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7915:function(e,t,n){var r=n(4073),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},7328:function(e,t,n){var r=n(7714),i=n(617),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:r(a(e=Object(e)),function(t){return o.call(e,t)})}:i},77:function(e,t,n){var r=n(2983),i=n(6615),o=n(3676),a=n(2489),s=n(2039),u=n(6624),l=n(1513),c="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),y=l(o),v=l(a),b=l(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=c||o&&w(o.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=h)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return c;case y:return d;case v:return f;case b:return h}return t}),e.exports=w},3584:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},8138:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},2674:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},7384:function(e,t,n){var r=n(7946);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},4238:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},2329:function(e,t,n){var r=n(7946),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4037:function(e,t,n){var r=n(7946),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},3613:function(e,t,n){var r=n(7946);e.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2753:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?0x1fffffffffffff:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},8802:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1992:function(e,t,n){var r,i=n(2353),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},1327:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3614:function(e){e.exports=function(){this.__data__=[],this.size=0}},2008:function(e,t,n){var r=n(2961),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},2715:function(e,t,n){var r=n(2961);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},5655:function(e,t,n){var r=n(2961);e.exports=function(e){return r(this.__data__,e)>-1}},8383:function(e,t,n){var r=n(2961);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},3752:function(e,t,n){var r=n(581),i=n(2839),o=n(6615);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9886:function(e,t,n){var r=n(1379);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},6969:function(e,t,n){var r=n(1379);e.exports=function(e){return r(this,e).get(e)}},5989:function(e,t,n){var r=n(1379);e.exports=function(e){return r(this,e).has(e)}},3485:function(e,t,n){var r=n(1379);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=+(n.size!=i),this}},4533:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},7946:function(e,t,n){e.exports=n(2310)(Object,"create")},5450:function(e,t,n){e.exports=n(951)(Object.keys,Object)},6273:function(e,t,n){e=n.nmd(e);var r=n(8928),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},4478:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},951:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},8453:function(e,t,n){var r=n(8928),i="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||i||Function("return this")()},5340:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1387:function(e){e.exports=function(e){return this.__data__.has(e)}},943:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},7380:function(e,t,n){var r=n(2839);e.exports=function(){this.__data__=new r,this.size=0}},8354:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2413:function(e){e.exports=function(e){return this.__data__.get(e)}},7073:function(e){e.exports=function(e){return this.__data__.has(e)}},1241:function(e,t,n){var r=n(2839),i=n(6615),o=n(2229);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},8752:function(e,t,n){var r=n(5690),i=n(8138),o=n(5518);e.exports=function(e){return i(e)?o(e):r(e)}},1513:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},5518:function(e){var t="\\ud800-\\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?",l="(?:\\u200d(?:"+[i,o,a].join("|")+")"+u+s+")*",c=RegExp(r+"(?="+r+")|"+("(?:"+[i+n+"?",n,o,a,"["+t+"]"].join("|"))+")"+(u+s+l),"g");e.exports=function(e){return e.match(c)||[]}},5369:function(e){var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="[']",s="["+o+"]",u="["+r+"]",l="[^"+t+o+"\\d+"+n+r+i+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",f="["+i+"]",h="(?:"+u+"|"+l+")",p="(?:"+f+"|"+l+")",g="(?:"+a+"(?:d|ll|m|re|s|t|ve))?",m="(?:"+a+"(?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",b="(?:\\u200d(?:"+["[^"+t+"]",c,d].join("|")+")"+v+y+")*",w="(?:"+["["+n+"]",c,d].join("|")+")"+(v+y+b),x=RegExp([f+"?"+u+"+"+g+"(?="+[s,f,"$"].join("|")+")",p+"+"+m+"(?="+[s,f+h,"$"].join("|")+")",f+"?"+h+"+"+g,f+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",w].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},8002:function(e,t,n){var r=n(4064);e.exports=n(5467)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)})},4064:function(e,t,n){var r=n(8382),i=n(7096);e.exports=function(e){return i(r(e).toLowerCase())}},6068:function(e,t,n){var r=n(7167),i=n(8382),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},2864:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},6356:function(e,t,n){var r=n(7382),i=n(2050),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;e.exports=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")}},6521:function(e){e.exports=Array.isArray},8710:function(e,t,n){var r=n(1330),i=n(9358);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},9232:function(e,t,n){e=n.nmd(e);var r=n(8453),i=n(2055),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=s?s.isBuffer:void 0;e.exports=u||i},7468:function(e,t,n){var r=n(2118);e.exports=function(e,t){return r(e,t)}},1330:function(e,t,n){var r=n(6624),i=n(7717);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9358:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},7717:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2050:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},6770:function(e,t,n){var r=n(6624),i=n(2050);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},4167:function(e,t,n){var r=n(4061),i=n(8877),o=n(6273),a=o&&o.isTypedArray;e.exports=a?i(a):r},4630:function(e,t,n){var r=n(8079),i=n(5152),o=n(8710);e.exports=function(e){return o(e)?r(e):i(e)}},617:function(e){e.exports=function(){return[]}},2055:function(e){e.exports=function(){return!1}},8382:function(e,t,n){var r=n(9020);e.exports=function(e){return null==e?"":r(e)}},7096:function(e,t,n){e.exports=n(7075)("toUpperCase")},3117:function(e,t,n){var r=n(4333),i=n(2674),o=n(8382),a=n(5369);e.exports=function(e,t,n){return(e=o(e),void 0===(t=n?void 0:t))?i(e)?a(e):r(e):e.match(t)||[]}},1245:function(e,t,n){"use strict";n.d(t,{A:function(){return F}});var r,i,o,a,s,u,l,c,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function f(){if(a)return o;a=1;let e=[{key:"ZiB",factor:11805916207174113e5},{key:"ZB",factor:1e21},{key:"YiB",factor:12089258196146292e8},{key:"YB",factor:1e24},{key:"TiB",factor:0x10000000000},{key:"TB",factor:1e12},{key:"PiB",factor:0x4000000000000},{key:"PB",factor:1e15},{key:"MiB",factor:1048576},{key:"MB",factor:1e6},{key:"KiB",factor:1024},{key:"KB",factor:1e3},{key:"GiB",factor:0x40000000},{key:"GB",factor:1e9},{key:"EiB",factor:0x1000000000000000},{key:"EB",factor:1e18},{key:"B",factor:1}];function t(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}return o={unformat:function(n,r){let i,o=g(),a=o.currentDelimiters(),s=o.currentCurrency().symbol,u=o.currentOrdinal(),l=o.getZeroFormat(),c=o.currentAbbreviations();if("string"==typeof n)if(function(e,t){if(!(e.indexOf(":")&&":"!==t.thousands))return!1;let n=e.split(":");if(3!==n.length)return!1;let r=+n[0],i=+n[1],o=+n[2];return!isNaN(r)&&!isNaN(i)&&!isNaN(o)}(n,a)){let e,t,r;t=+(e=n.split(":"))[0],r=+e[1],i=+e[2]+60*r+3600*t}else i=function(n,r,i="",o,a,s,u){if(""!==n)return n===a?0:function n(r,i,o,a,s,u,l){if(!isNaN(+r))return+r;let c="",d=r.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(d!==r)return -1*n(d,i,o,a,s,u);for(let t=0;t<e.length;t++){let l=e[t];if((c=r.replace(RegExp(`([0-9 ])(${l.key})$`),"$1"))!==r)return n(c,i,o,a,s,u)*l.factor}if((c=r.replace("%",""))!==r)return n(c,i,o,a,s,u)/100;let f=parseFloat(r);if(isNaN(f))return;let h=a(f);if(h&&"."!==h&&(c=r.replace(RegExp(`${t(h)}$`),""))!==r)return n(c,i,o,a,s,u);let p={};Object.keys(u).forEach(e=>{p[u[e]]=e});let g=Object.keys(p).sort().reverse(),m=g.length;for(let e=0;e<m;e++){let t=g[e],l=p[t];if((c=r.replace(t,""))!==r){let e;switch(l){case"thousand":e=1e3;break;case"million":e=1e6;break;case"billion":e=1e9;break;case"trillion":e=1e12}return n(c,i,o,a,s,u)*e}}}(n.replace(i,"").replace(RegExp(`([0-9])${t(r.thousands)}([0-9])`,"g"),"$1$2").replace(r.decimal,"."),r,i,o,a,s)}(n,a,s,u,l,c);else{if("number"!=typeof n)return;i=n}if(void 0!==i)return i}}}function h(){if(u)return s;u=1;let e=f(),t=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,n={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:(e,t)=>"byte"===t.output,message:"`base` must be provided only when the output is `byte`",mandatory:e=>"byte"===e.output},characteristic:{type:"number",restriction:e=>e>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:(e,t)=>!0===t.average,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:e=>e>=0,message:"value must be positive"},{restriction:(e,t)=>!t.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:e=>e>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(e,t)=>"percent"===t.output,message:"`prefixSymbol` can be provided only when the output is `percent`"}},r={languageTag:{type:"string",mandatory:!0,restriction:e=>e.match(t),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function i(t){return void 0!==e.unformat(t)}function o(e,t,r,i=!1){let a=Object.keys(e).map(i=>{if(!t[i])return console.error(`${r} Invalid key: ${i}`),!1;let a=e[i],s=t[i];if("string"==typeof s&&(s={type:s}),"format"===s.type){if(!o(a,n,`[Validate ${i}]`,!0))return!1}else if(typeof a!==s.type)return console.error(`${r} ${i} type mismatched: "${s.type}" expected, "${typeof a}" provided`),!1;if(s.restrictions&&s.restrictions.length){let t=s.restrictions.length;for(let n=0;n<t;n++){let{restriction:t,message:o}=s.restrictions[n];if(!t(a,e))return console.error(`${r} ${i} invalid value: ${o}`),!1}}return s.restriction&&!s.restriction(a,e)?(console.error(`${r} ${i} invalid value: ${s.message}`),!1):s.validValues&&-1===s.validValues.indexOf(a)?(console.error(`${r} ${i} invalid value: must be among ${JSON.stringify(s.validValues)}, "${a}" provided`),!1):(!s.children||!!o(a,s.children,`[Validate ${i}]`))&&!0});return i||a.push(...Object.keys(t).map(n=>{let i=t[n];if("string"==typeof i&&(i={type:i}),i.mandatory){let t=i.mandatory;if("function"==typeof t&&(t=t(e)),t&&void 0===e[n])return console.error(`${r} Missing mandatory key "${n}"`),!1}return!0})),a.reduce((e,t)=>e&&t,!0)}function a(e){return o(e,n,"[Validate format]")}return s={validate:function(e,t){let n=i(e),r=a(t);return n&&r},validateFormat:a,validateInput:i,validateLanguage:function(e){return o(e,r,"[Validate language]")}}}var p=function(e,t={}){var n,r,i,o,a,s;let u,l,c,d,f;if("string"!=typeof e)return e;r=e=(u=(n=e).match(/^{([^}]*)}/))?(t.prefix=u[1],n.slice(u[0].length)):n,function(e,t){if(-1!==e.indexOf("$")){t.output="currency";return}if(-1!==e.indexOf("%")){t.output="percent";return}if(-1!==e.indexOf("bd")){t.output="byte",t.base="general";return}if(-1!==e.indexOf("b")){t.output="byte",t.base="binary";return}if(-1!==e.indexOf("d")){t.output="byte",t.base="decimal";return}if(-1!==e.indexOf(":")){t.output="time";return}-1!==e.indexOf("o")&&(t.output="ordinal")}(e=(l=r.match(/{([^}]*)}$/))?(t.postfix=l[1],r.slice(0,-l[0].length)):r,t),(c=e.match(/[1-9]+[0-9]*/))&&(t.totalLength=+c[0]),(d=e.split(".")[0].match(/0+/))&&(t.characteristic=d[0].length),-1!==(i=e).indexOf(".")&&(t.optionalCharacteristic=-1===i.split(".")[0].indexOf("0")),-1!==e.indexOf("a")&&(t.average=!0),-1!==(o=e).indexOf("K")?t.forceAverage="thousand":-1!==o.indexOf("M")?t.forceAverage="million":-1!==o.indexOf("B")?t.forceAverage="billion":-1!==o.indexOf("T")&&(t.forceAverage="trillion");let h=e.split(".")[1];if(h){let e=h.match(/0+/);e&&(t.mantissa=e[0].length)}return(a=e).match(/\[\.]/)?t.optionalMantissa=!0:a.match(/\./)&&(t.optionalMantissa=!1),(f=e.split(".")[1])&&(t.trimMantissa=-1!==f.indexOf("[")),-1!==e.indexOf(",")&&(t.thousandSeparated=!0),-1!==e.indexOf(" ")&&(t.spaceSeparated=!0,t.spaceSeparatedCurrency=!0,(t.average||t.forceAverage)&&(t.spaceSeparatedAbbreviation=!0)),(s=e).match(/^\+?\([^)]*\)$/)&&(t.negative="parenthesis"),s.match(/^\+?-/)&&(t.negative="sign"),e.match(/^\+/)&&(t.forceSign=!0),t};function g(){let e;if(c)return l;c=1;let t=i?r:(i=1,r={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){let t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),n=h(),o={},a={},s=null,u={};function d(){return a[e]}return o.languages=()=>Object.assign({},a),o.currentLanguage=()=>e,o.currentBytes=()=>d().bytes||{},o.currentCurrency=()=>d().currency,o.currentAbbreviations=()=>d().abbreviations,o.currentDelimiters=()=>d().delimiters,o.currentOrdinal=()=>d().ordinal,o.currentDefaults=()=>Object.assign({},d().defaults,u),o.currentOrdinalDefaultFormat=()=>Object.assign({},o.currentDefaults(),d().ordinalFormat),o.currentByteDefaultFormat=()=>Object.assign({},o.currentDefaults(),d().byteFormat),o.currentPercentageDefaultFormat=()=>Object.assign({},o.currentDefaults(),d().percentageFormat),o.currentCurrencyDefaultFormat=()=>Object.assign({},o.currentDefaults(),d().currencyFormat),o.currentTimeDefaultFormat=()=>Object.assign({},o.currentDefaults(),d().timeFormat),o.setDefaults=e=>{e=p(e),n.validateFormat(e)&&(u=e)},o.getZeroFormat=()=>s,o.setZeroFormat=e=>s="string"==typeof e?e:null,o.hasZeroFormat=()=>null!==s,o.languageData=e=>{if(e){if(a[e])return a[e];throw Error(`Unknown tag "${e}"`)}return d()},o.registerLanguage=(t,r=!1)=>{if(!n.validateLanguage(t))throw Error("Invalid language data");a[t.languageTag]=t,r&&(e=t.languageTag)},o.setLanguage=(n,r=t.languageTag)=>{if(!a[n]){let t=n.split("-")[0],i=Object.keys(a).find(e=>e.split("-")[0]===t);return a[i]?void(e=i):void(e=r)}e=n},o.registerLanguage(t),e=t.languageTag,l=o}var m={exports:{}};(function(e){var t,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,i=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function u(e){var t=0|e;return e>0||e===t?t:t-1}function l(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function c(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,u=e.e,l=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(a=0,s=(u=i.length)<(l=o.length)?u:l;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return u==l?0:u>l^n?1:-1}function d(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(o+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function f(e){var t=e.c.length-1;return u(e.e/14)==t&&e.c[t]%2!=0}function h(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function p(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(r=e.length,++t>r){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(t=function e(t){var g,m,y,v,b,w,x,_,E,k=z.prototype={constructor:z,toString:null,valueOf:null},S=new z(1),M=20,O=4,C=-7,N=21,j=-1e7,A=1e7,D=!1,P=1,I=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",R=!0;function z(e,t){var r,o,s,u,l,c,f,h,p=this;if(!(p instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>A?p.c=p.e=null:e.e<j?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);u>A?p.c=p.e=null:(p.e=u,p.c=[e]);return}h=String(e)}else{if(!n.test(h=String(e)))return E(p,h,c);p.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(u=h.indexOf("."))>-1&&(h=h.replace(".","")),(l=h.search(/e/i))>0?(u<0&&(u=l),u+=+h.slice(l+1),h=h.substring(0,l)):u<0&&(u=h.length)}else{if(d(t,2,$.length,"Base"),10==t&&R)return H(p=new z(e),M+p.e+1,O);if(h=String(e),c="number"==typeof e){if(0*e!=0)return E(p,h,c,t);if(p.s=1/e<0?(h=h.slice(1),-1):1,z.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else p.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=$.slice(0,t),u=l=0,f=h.length;l<f;l++)if(0>r.indexOf(o=h.charAt(l))){if("."==o){if(l>u){u=f;continue}}else if(!s&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){s=!0,l=-1,u=0;continue}return E(p,String(e),c,t)}c=!1,(u=(h=_(h,t,10,p.s)).indexOf("."))>-1?h=h.replace(".",""):u=h.length}for(l=0;48===h.charCodeAt(l);l++);for(f=h.length;48===h.charCodeAt(--f););if(h=h.slice(l,++f)){if(f-=l,c&&z.DEBUG&&f>15&&(e>0x1fffffffffffff||e!==i(e)))throw Error(a+p.s*e);if((u=u-l-1)>A)p.c=p.e=null;else if(u<j)p.c=[p.e=0];else{if(p.e=u,p.c=[],l=(u+1)%14,u<0&&(l+=14),l<f){for(l&&p.c.push(+h.slice(0,l)),f-=14;l<f;)p.c.push(+h.slice(l,l+=14));l=14-(h=h.slice(l)).length}else l-=f;for(;l--;h+="0");p.c.push(+h)}}else p.c=[p.e=0]}function T(e,t,n,r){var i,o,a,s,u;if(null==n?n=O:d(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)u=l(e.c),u=1==r||2==r&&(a<=C||a>=N)?h(u,a):p(u,a,"0");else if(o=(e=H(new z(e),t,n)).e,s=(u=l(e.c)).length,1==r||2==r&&(t<=o||o<=C)){for(;s<t;u+="0",s++);u=h(u,o)}else if(t-=a,u=p(u,o,"0"),o+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-s)>0)for(o+1==s&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function B(e,t){for(var n,r,i=1,o=new z(e[0]);i<e.length;i++)(r=new z(e[i])).s&&(n=c(o,r))!==t&&(0!==n||o.s!==t)||(o=r);return o}function F(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+14*n-1)>A?e.c=e.e=null:n<j?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,t,n,o){var a,u,l,c,d,f,h,p=e.c;if(p){e:{for(a=1,c=p[0];c>=10;c/=10,a++);if((u=t-a)<0)u+=14,l=t,h=i((d=p[f=0])/s[a-l-1]%10);else if((f=r((u+1)/14))>=p.length)if(o){for(;p.length<=f;p.push(0));d=h=0,a=1,u%=14,l=u-14+1}else break e;else{for(a=1,d=c=p[f];c>=10;c/=10,a++);u%=14,h=(l=u-14+a)<0?0:i(d/s[a-l-1]%10)}if(o=o||t<0||null!=p[f+1]||(l<0?d:d%s[a-l-1]),o=n<4?(h||o)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||o||6==n&&(u>0?l>0?d/s[a-l]:0:p[f-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,o?(t-=e.e+1,p[0]=s[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==u?(p.length=f,c=1,f--):(p.length=f+1,c=s[14-u],p[f]=l>0?i(d/s[a-l]%s[l])*c:0),o)for(;;)if(0==f){for(u=1,l=p[0];l>=10;l/=10,u++);for(l=p[0]+=c,c=1;l>=10;l/=10,c++);u!=c&&(e.e++,1e14==p[0]&&(p[0]=1));break}else{if(p[f]+=c,1e14!=p[f])break;p[f--]=0,c=1}for(u=p.length;0===p[--u];p.pop());}e.e>A?e.c=e.e=null:e.e<j&&(e.c=[e.e=0])}return e}function U(e){var t,n=e.e;return null===n?e.toString():(t=l(e.c),t=n<=C||n>=N?h(t,n):p(t,n,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,n;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(d(n=e[t],0,1e9,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(d(n=e[t],0,8,t),O=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(d(n[0],-1e9,0,t),d(n[1],0,1e9,t),C=n[0],N=n[1]):(d(n,-1e9,1e9,t),C=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)d(n[0],-1e9,-1,t),d(n[1],1,1e9,t),j=n[0],A=n[1];else if(d(n,-1e9,1e9,t),n)j=-(A=n<0?-n:n);else throw Error(o+t+" cannot be zero: "+n);if(e.hasOwnProperty(t="CRYPTO"))if(!!(n=e[t])===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))D=n;else throw D=!n,Error(o+"crypto unavailable");else D=n;else throw Error(o+t+" not true or false: "+n);if(e.hasOwnProperty(t="MODULO_MODE")&&(d(n=e[t],0,9,t),P=n),e.hasOwnProperty(t="POW_PRECISION")&&(d(n=e[t],0,1e9,t),I=n),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(n=e[t]))L=n;else throw Error(o+t+" not an object: "+n);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(o+t+" invalid: "+n);R="0123456789"==n.slice(0,10),$=n}}else throw Error(o+"Object expected: "+e);return{DECIMAL_PLACES:M,ROUNDING_MODE:O,EXPONENTIAL_AT:[C,N],RANGE:[j,A],CRYPTO:D,MODULO_MODE:P,POW_PRECISION:I,FORMAT:L,ALPHABET:$}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,n,r=e.c,a=e.e,s=e.s;e:if("[object Array]"==({}).toString.call(r)){if((1===s||-1===s)&&a>=-1e9&&a<=1e9&&a===i(a)){if(0===r[0]){if(0===a&&1===r.length)return!0;break e}if((t=(a+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=1e14||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===a&&(null===s||1===s||-1===s))return!0;throw Error(o+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return B(arguments,-1)},z.minimum=z.min=function(){return B(arguments,1)},g=0x20000000000000*Math.random()&2097151?function(){return i(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},z.random=function(e){var t,n,a,u,l,c=0,f=[],h=new z(S);if(null==e?e=M:d(e,0,1e9),u=r(e/14),D)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));c<u;)(l=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(f.push(l%1e14),c+=2);c=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);c<u;)(l=(31&t[c])*0x1000000000000+0x10000000000*t[c+1]+0x100000000*t[c+2]+0x1000000*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(f.push(l%1e14),c+=7);c=u/7}else throw D=!1,Error(o+"crypto unavailable");if(!D)for(;c<u;)(l=g())<9e15&&(f[c++]=l%1e14);for(u=f[--c],e%=14,u&&e&&(l=s[14-e],f[c]=i(u/l)*l);0===f[c];f.pop(),c--);if(c<0)f=[a=0];else{for(a=-1;0===f[0];f.splice(0,1),a-=14);for(c=1,l=f[0];l>=10;l/=10,c++);c<14&&(a-=14-c)}return h.e=a,h.c=f,h},z.sum=function(){for(var e=1,t=arguments,n=new z(t[0]);e<t.length;)n=n.plus(t[e++]);return n},_=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,a=[0],s=0,u=e.length;s<u;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(n,r,i,o,a){var s,u,c,d,f,h,g,m,y=n.indexOf("."),v=M,b=O;for(y>=0&&(d=I,I=0,n=n.replace(".",""),h=(m=new z(r)).pow(n.length-y),I=d,m.c=t(p(l(h.c),h.e,"0"),10,i,e),m.e=m.c.length),c=d=(g=t(n,r,i,a?(s=$,e):(s=e,$))).length;0==g[--d];g.pop());if(!g[0])return s.charAt(0);if(y<0?--c:(h.c=g,h.e=c,h.s=o,g=(h=x(h,m,v,b,i)).c,f=h.r,c=h.e),y=g[u=c+v+1],d=i/2,f=f||u<0||null!=g[u+1],f=b<4?(null!=y||f)&&(0==b||b==(h.s<0?3:2)):y>d||y==d&&(4==b||f||6==b&&1&g[u-1]||b==(h.s<0?8:7)),u<1||!g[0])n=f?p(s.charAt(1),-v,s.charAt(0)):s.charAt(0);else{if(g.length=u,f)for(--i;++g[--u]>i;)g[u]=0,u||(++c,g=[1].concat(g));for(d=g.length;!g[--d];);for(y=0,n="";y<=d;n+=s.charAt(g[y++]));n=p(n,c,s.charAt(0))}return n}}(),x=function(){function e(e,t,n){var r,i,o,a,s=0,u=e.length,l=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)r=c*(o=e[u]%1e7)+(a=e[u]/1e7|0)*l,s=((i=l*o+r%1e7*1e7+s)/n|0)+(r/1e7|0)+c*a,e[u]=i%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=+(e[n]<t[n]),e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,a,s,l){var c,d,f,h,p,g,m,y,v,b,w,x,_,E,k,S,M,O=r.s==o.s?1:-1,C=r.c,N=o.c;if(!C||!C[0]||!N||!N[0])return new z(!r.s||!o.s||(C?N&&C[0]==N[0]:!N)?NaN:C&&0==C[0]||!N?0*O:O/0);for(v=(y=new z(O)).c=[],O=a+(d=r.e-o.e)+1,l||(l=1e14,d=u(r.e/14)-u(o.e/14),O=O/14|0),f=0;N[f]==(C[f]||0);f++);if(N[f]>(C[f]||0)&&d--,O<0)v.push(1),h=!0;else{for(E=C.length,S=N.length,f=0,O+=2,(p=i(l/(N[0]+1)))>1&&(N=e(N,p,l),C=e(C,p,l),S=N.length,E=C.length),_=S,w=(b=C.slice(0,S)).length;w<S;b[w++]=0);M=[0].concat(M=N.slice()),k=N[0],N[1]>=l/2&&k++;do{if(p=0,(c=t(N,b,S,w))<0){if(x=b[0],S!=w&&(x=x*l+(b[1]||0)),(p=i(x/k))>1)for(p>=l&&(p=l-1),m=(g=e(N,p,l)).length,w=b.length;1==t(g,b,m,w);)p--,n(g,S<m?M:N,m,l),m=g.length,c=1;else 0==p&&(c=p=1),m=(g=N.slice()).length;if(m<w&&(g=[0].concat(g)),n(b,g,w,l),w=b.length,-1==c)for(;1>t(N,b,S,w);)p++,n(b,S<w?M:N,w,l),w=b.length}else 0===c&&(p++,b=[0]);v[f++]=p,b[0]?b[w++]=C[_]||0:(b=[C[_]],w=1)}while((_++<E||null!=b[0])&&O--);h=null!=b[0],v[0]||v.splice(0,1)}if(1e14==l){for(f=1,O=v[0];O>=10;O/=10,f++);H(y,a+(y.e=f+14*d-1)+1,s,h)}else y.e=d,y.r=+h;return y}}(),m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,v=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,w=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(e,t,n,r){var i,a=n?t:t.replace(w,"");if(b.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!n&&(a=a.replace(m,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,a=a.replace(y,"$1").replace(v,"0.$1")),t!=a))return new z(a,i);if(z.DEBUG)throw Error(o+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return c(this,new z(e,t))},k.decimalPlaces=k.dp=function(e,t){var n,r,i;if(null!=e)return d(e,0,1e9),null==t?t=O:d(t,0,8),H(new z(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-u(this.e/14))*14,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},k.dividedBy=k.div=function(e,t){return x(this,new z(e,t),M,O)},k.dividedToIntegerBy=k.idiv=function(e,t){return x(this,new z(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var n,a,s,u,l,c,d,h,p,g=this;if((e=new z(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+U(e));if(null!=t&&(t=new z(t)),c=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return p=new z(Math.pow(+U(g),c?e.s*(2-f(e)):+U(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(a=!d&&g.isInteger()&&t.isInteger())&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||c&&g.c[1]>=24e7:g.c[0]<8e13||c&&g.c[0]<=9999975e7)))return u=g.s<0&&f(e)?-0:0,g.e>-1&&(u=1/u),new z(d?1/u:u);I&&(u=r(I/14+2))}for(c?(n=new z(.5),d&&(e.s=1),h=f(e)):h=(s=Math.abs(+U(e)))%2,p=new z(S);;){if(h){if(!(p=p.times(g)).c)break;u?p.c.length>u&&(p.c.length=u):a&&(p=p.mod(t))}if(s){if(0===(s=i(s/2)))break;h=s%2}else if(H(e=e.times(n),e.e+1,1),e.e>14)h=f(e);else{if(0==(s=+U(e)))break;h=s%2}g=g.times(g),u?g.c&&g.c.length>u&&(g.c.length=u):a&&(g=g.mod(t))}return a?p:(d&&(p=S.div(p)),t?p.mod(t):u?H(p,I,O,l):p)},k.integerValue=function(e){var t=new z(this);return null==e?e=O:d(e,0,8),H(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===c(this,new z(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return c(this,new z(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=c(this,new z(e,t)))||0===t},k.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return 0>c(this,new z(e,t))},k.isLessThanOrEqualTo=k.lte=function(e,t){return -1===(t=c(this,new z(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var n,r,i,o,a=this.s;if(t=(e=new z(e,t)).s,!a||!t)return new z(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,c=this.c,d=e.c;if(!s||!l){if(!c||!d)return c?(e.s=-t,e):new z(d?this:NaN);if(!c[0]||!d[0])return d[0]?(e.s=-t,e):new z(c[0]?this:3==O?-0:0)}if(s=u(s),l=u(l),c=c.slice(),a=s-l){for((o=a<0)?(a=-a,i=c):(l=s,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=c.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(c[t]!=d[t]){o=c[t]<d[t];break}if(o&&(i=c,c=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=c.length))>0)for(;t--;c[n++]=0);for(t=1e14-1;r>a;){if(c[--r]<d[r]){for(n=r;n&&!c[--n];c[n]=t);--c[n],c[r]+=1e14}c[r]-=d[r]}for(;0==c[0];c.splice(0,1),--l);return c[0]?F(e,c,l):(e.s=3==O?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var n,r;return(e=new z(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==P?(r=e.s,e.s=1,n=x(this,e,0,3),e.s=r,n.s*=r):n=x(this,e,0,P),(e=this.minus(n.times(e))).c[0]||1!=P||(e.s=this.s),e):new z(this):new z(NaN)},k.multipliedBy=k.times=function(e,t){var n,r,i,o,a,s,l,c,d,f,h,p,g,m=this.c,y=(e=new z(e,t)).c;if(!m||!y||!m[0]||!y[0])return this.s&&e.s&&(!m||m[0]||y)&&(!y||y[0]||m)?(e.s*=this.s,m&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(r=u(this.e/14)+u(e.e/14),e.s*=this.s,(l=m.length)<(f=y.length)&&(g=m,m=y,y=g,i=l,l=f,f=i),i=l+f,g=[];i--;g.push(0));for(i=f;--i>=0;){for(n=0,h=y[i]%1e7,p=y[i]/1e7|0,o=i+(a=l);o>i;)s=p*(c=m[--a]%1e7)+(d=m[a]/1e7|0)*h,n=((c=h*c+s%1e7*1e7+g[o]+n)/1e14|0)+(s/1e7|0)+p*d,g[o--]=c%1e14;g[o]=n}return n?++r:g.splice(0,1),F(e,g,r)},k.negated=function(){var e=new z(this);return e.s=-e.s||null,e},k.plus=function(e,t){var n,r=this.s;if(t=(e=new z(e,t)).s,!r||!t)return new z(NaN);if(r!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new z(r/0);if(!a[0]||!s[0])return s[0]?e:new z(a[0]?this:0*r)}if(i=u(i),o=u(o),a=a.slice(),r=i-o){for(r>0?(o=i,n=s):(r=-r,n=a),n.reverse();r--;n.push(0));n.reverse()}for((r=a.length)-(t=s.length)<0&&(n=s,s=a,a=n,t=r),r=0;t;)r=(a[--t]=a[t]+s[t]+r)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return r&&(a=[r].concat(a),++o),F(e,a,o)},k.precision=k.sd=function(e,t){var n,r,i;if(null!=e&&!!e!==e)return d(e,1,1e9),null==t?t=O:d(t,0,8),H(new z(this),e,t);if(!(n=this.c))return null;if(r=14*(i=n.length-1)+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},k.shiftedBy=function(e){return d(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,n,r,i,o=this.c,a=this.s,s=this.e,c=M+4,d=new z("0.5");if(1!==a||!o||!o[0])return new z(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+U(this)))||a==1/0?(((t=l(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=u((s+1)/2)-(s<0||s%2),n=new z(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new z(a+""),n.c[0]){for((a=(s=n.e)+c)<3&&(a=0);;)if(i=n,n=d.times(i.plus(x(this,i,c,1))),l(i.c).slice(0,a)===(t=l(n.c)).slice(0,a)){if(n.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(n,n.e+M+2,1),e=!n.times(n).eq(this));break}if(!r&&(H(i,i.e+M+2,0),i.times(i).eq(this))){n=i;break}c+=4,a+=4,r=1}}return H(n,n.e+M+1,O,e)},k.toExponential=function(e,t){return null!=e&&(d(e,0,1e9),e++),T(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(d(e,0,1e9),e=e+this.e+1),T(this,e,t)},k.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=L;else if("object"!=typeof n)throw Error(o+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,a=r.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",c=a[0],d=a[1],f=this.s<0,h=f?c.slice(1):c,p=h.length;if(u&&(i=s,s=u,u=i,p-=i),s>0&&p>0){for(i=p%s||s,c=h.substr(0,i);i<p;i+=s)c+=l+h.substr(i,s);u>0&&(c+=l+h.slice(i)),f&&(c="-"+c)}r=d?c+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?d.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):c}return(n.prefix||"")+r+(n.suffix||"")},k.toFraction=function(e){var t,n,r,i,a,u,c,d,f,h,p,g,m=this.c;if(null!=e&&(!(c=new z(e)).isInteger()&&(c.c||1!==c.s)||c.lt(S)))throw Error(o+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+U(c));if(!m)return new z(this);for(t=new z(S),f=n=new z(S),r=d=new z(S),g=l(m),a=t.e=g.length-this.e-1,t.c[0]=s[(u=a%14)<0?14+u:u],e=!e||c.comparedTo(t)>0?a>0?t:f:c,u=A,A=1/0,c=new z(g),d.c[0]=0;h=x(c,t,0,1),1!=(i=n.plus(h.times(r))).comparedTo(e);)n=r,r=i,f=d.plus(h.times(i=f)),d=i,t=c.minus(h.times(i=t)),c=i;return i=x(e.minus(n),r,0,1),d=d.plus(i.times(f)),n=n.plus(i.times(r)),d.s=f.s=this.s,a*=2,p=1>x(f,r,a,O).minus(this).abs().comparedTo(x(d,n,a,O).minus(this).abs())?[f,r]:[d,n],A=u,p},k.toNumber=function(){return+U(this)},k.toPrecision=function(e,t){return null!=e&&d(e,1,1e9),T(this,e,t,2)},k.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=C||i>=N?h(l(n.c),i):p(l(n.c),i,"0"):10===e&&R?t=p(l((n=H(new z(n),M+i+1,O)).c),n.e,"0"):(d(e,2,$.length,"Base"),t=_(p(l(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return U(this)},k._isBigNumber=!0,null!=t&&z.set(t),z}()).default=t.BigNumber=t,m.exports?m.exports=t:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=t)})(d);var y=m.exports;let v=g(),b=h(),w={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},x={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes:_,decimalSuffixes:E}=v.currentBytes(),k={scale:1024,suffixes:E,marker:"bd"},S={scale:1024,suffixes:_,marker:"b"},M={scale:1e3,suffixes:E,marker:"d"};function O(e,t,n){let r=t[0],i=Math.abs(e);if(i>=n){for(let o=1;o<t.length;++o){let a=Math.pow(n,o),s=Math.pow(n,o+1);if(i>=a&&i<s){r=t[o],e/=a;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function C(e){let t="";for(let n=0;n<e;n++)t+="0";return t}function N({instance:e,providedFormat:t,state:n=v,decimalSeparator:r,defaults:i=n.currentDefaults()}){var o,a,s,u,l;let c,d,f,h,p,g,m,b=e._value;if(0===b&&n.hasZeroFormat())return n.getZeroFormat();if(!isFinite(b))return b.toString();let _=Object.assign({},x,i,t),E=_.totalLength,k=E?0:_.characteristic,S=_.optionalCharacteristic,M=_.forceAverage,O=_.lowPrecision,N=!!E||!!M||_.average,j=E?-1:N&&void 0===t.mantissa?0:_.mantissa,A=!E&&(void 0===t.optionalMantissa?-1===j:_.optionalMantissa),D=_.trimMantissa,P=_.thousandSeparated,I=_.spaceSeparated,L=_.negative,$=_.forceSign,R=_.exponential,z=_.roundingFunction,T="";if(N){let e=function({value:e,forceAverage:t,lowPrecision:n=!0,abbreviations:r,spaceSeparated:i=!1,totalLength:o=0,roundingFunction:a=Math.round}){let s="",u=Math.abs(e),l=-1;if(t&&r[t]&&w[t]?(s=r[t],e/=w[t]):u>=w.trillion||n&&1===a(u/w.trillion)?(s=r.trillion,e/=w.trillion):u<w.trillion&&u>=w.billion||n&&1===a(u/w.billion)?(s=r.billion,e/=w.billion):u<w.billion&&u>=w.million||n&&1===a(u/w.million)?(s=r.million,e/=w.million):(u<w.million&&u>=w.thousand||n&&1===a(u/w.thousand))&&(s=r.thousand,e/=w.thousand),s&&(s=(i?" ":"")+s),o){let t=e<0,n=e.toString().split(".")[0];l=Math.max(o-(t?n.length-1:n.length),0)}return{value:e,abbreviation:s,mantissaPrecision:l}}({value:b,forceAverage:M,lowPrecision:O,abbreviations:n.currentAbbreviations(),spaceSeparated:I,roundingFunction:z,totalLength:E});b=e.value,T+=e.abbreviation,E&&(j=e.mantissaPrecision)}if(R){let e=function({value:e,characteristicPrecision:t}){let[n,r]=e.toExponential().split("e"),i=+n;return t&&1<t&&(i*=Math.pow(10,t-1),r-=t-1,r=r>=0?`+${r}`:r),{value:i,abbreviation:`e${r}`}}({value:b,characteristicPrecision:k});b=e.value,T=e.abbreviation+T}let B=function(e,t,n,r,i,o){if(-1===r)return e;let a=function(e,t,n=Math.round){return -1!==e.toString().indexOf("e")?function(e,t){let n=e.toString(),[r,i]=n.split("e"),[o,a=""]=r.split(".");if(+i>0)n=o+a+C(i-a.length);else{let e=".";e=0>+o?`-0${e}`:`0${e}`;let r=(C(-i-1)+Math.abs(o)+a).substr(0,t);r.length<t&&(r+=C(t-r.length)),n=e+r}return+i>0&&t>0&&(n+=`.${C(t)}`),n}(e,t):new y(n(+`${e}e+${t}`)/Math.pow(10,t)).toFixed(t)}(t,r,o),[s,u=""]=a.toString().split(".");if(u.match(/^0+$/)&&(n||i))return s;let l=u.match(/0+$/);return i&&l?`${s}.${u.toString().slice(0,l.index)}`:a.toString()}(b.toString(),b,A,j,D,z);return o=B=function(e,t,n,r){let i=e,[o,a]=i.toString().split(".");if(o.match(/^-?0$/)&&n)return a?`${o.replace("0","")}.${a}`:o.replace("0","");let s=t<0&&0===o.indexOf("-");if(s&&(o=o.slice(1),i=i.slice(1)),o.length<r){let e=r-o.length;for(let t=0;t<e;t++)i=`0${i}`}return s&&(i=`-${i}`),i.toString()}(B,b,S,k),a=b,s=r,d=(c=n.currentDelimiters()).thousands,s=s||c.decimal,f=c.thousandsSize||3,p=(h=o.toString()).split(".")[0],g=h.split(".")[1],m=a<0&&0===p.indexOf("-"),P&&(m&&(p=p.slice(1)),(function(e,t){let n=[],r=0;for(let i=e;i>0;i--)r===t&&(n.unshift(i),r=0),r++;return n})(p.length,f).forEach((e,t)=>{p=p.slice(0,e+t)+d+p.slice(e+t)}),m&&(p=`-${p}`)),B=h=g?p+s+g:p,(N||R)&&(B+=T),($||b<0)&&(u=B,B=0===(l=b)?u:0==+u?u.replace("-",""):l>0?`+${u}`:"sign"===L?u:`(${u.replace("-","")})`),B}function j(e,t){if(!e)return t;let n=Object.keys(e);return 1===n.length&&"output"===n[0]?t:e}function A(e,t,n){let r=new y(e._value),i=t;return n.isNumbro(t)&&(i=t._value),i=new y(i),e._value=r.minus(i).toNumber(),e}let D=g(),P=h(),I={loadLanguagesInNode:e=>{e.forEach(e=>{let t;try{t=function(e){throw Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(`../languages/${e}`)}catch(t){console.error(`Unable to load "${e}". No matching language file found.`)}t&&B.registerLanguage(t)})}},L=f(),$={format:(...e)=>(function(e,t={},n){if("string"==typeof t&&(t=p(t)),!b.validateFormat(t))return"ERROR: invalid format";let r=t.prefix||"",i=t.postfix||"",o=function(e,t,n){var r,i,o;switch(t.output){case"currency":let a,s,u,l,c,d,f,h,p,g;return r=t=j(t,v.currentCurrencyDefaultFormat()),a=v.currentCurrency(),u=Object.assign({},x,s=Object.assign({},r)),c="",d=!!u.totalLength||!!u.forceAverage||u.average,f=s.currencyPosition||a.position,h=s.currencySymbol||a.symbol,p=void 0!==u.spaceSeparatedCurrency?u.spaceSeparatedCurrency:u.spaceSeparated,void 0===s.lowPrecision&&(s.lowPrecision=!1),p&&(c=" "),"infix"===f&&(l=c+h+c),g=N({instance:e,providedFormat:s,state:v,decimalSeparator:l}),"prefix"===f&&(g=e._value<0&&"sign"===u.negative?`-${c}${h}${g.slice(1)}`:e._value>0&&u.forceSign?`+${c}${h}${g.slice(1)}`:h+c+g),f&&"postfix"!==f||(g=g+(c=!u.spaceSeparatedAbbreviation&&d?"":c)+h),g;case"percent":let m,y,b;return i=t=j(t,v.currentPercentageDefaultFormat()),m=i.prefixSymbol,y=N({instance:n(100*e._value),providedFormat:i,state:v}),b=Object.assign({},x,i),m?`%${b.spaceSeparated?" ":""}${y}`:`${y}${b.spaceSeparated?" ":""}%`;case"byte":return function(e,t,n,r){let i=t.base||"binary",o=Object.assign({},x,t),{binarySuffixes:a,decimalSuffixes:s}=n.currentBytes(),u={general:{scale:1024,suffixes:s||E,marker:"bd"},binary:{scale:1024,suffixes:a||_,marker:"b"},decimal:{scale:1e3,suffixes:s||E,marker:"d"}}[i],{value:l,suffix:c}=O(e._value,u.suffixes,u.scale),d=N({instance:r(l),providedFormat:t,state:n,defaults:n.currentByteDefaultFormat()});return`${d}${o.spaceSeparated?" ":""}${c}`}(e,t=j(t,v.currentByteDefaultFormat()),v,n);case"time":let w,k,S;return t=j(t,v.currentTimeDefaultFormat()),w=Math.floor(e._value/60/60),k=Math.floor((e._value-60*w*60)/60),S=Math.round(e._value-60*w*60-60*k),`${w}:${k<10?"0":""}${k}:${S<10?"0":""}${S}`;case"ordinal":let M,C,A,D;return o=t=j(t,v.currentOrdinalDefaultFormat()),M=v.currentOrdinal(),C=Object.assign({},x,o),A=N({instance:e,providedFormat:o,state:v}),D=M(e._value),`${A}${C.spaceSeparated?" ":""}${D}`;default:return N({instance:e,providedFormat:t,numbro:n})}}(e,t,n);return(o=r+o)+i})(...e,B),getByteUnit:(...e)=>(function(e){return O(e._value,k.suffixes,k.scale).suffix})(...e,B),getBinaryByteUnit:(...e)=>(function(e){return O(e._value,S.suffixes,S.scale).suffix})(...e,B),getDecimalByteUnit:(...e)=>(function(e){return O(e._value,M.suffixes,M.scale).suffix})(...e,B),formatOrDefault:j},R={add:(e,t)=>{let n,r;return n=new y(e._value),r=t,B.isNumbro(t)&&(r=t._value),r=new y(r),e._value=n.plus(r).toNumber(),e},subtract:(e,t)=>A(e,t,B),multiply:(e,t)=>{let n,r;return n=new y(e._value),r=t,B.isNumbro(t)&&(r=t._value),r=new y(r),e._value=n.times(r).toNumber(),e},divide:(e,t)=>{let n,r;return n=new y(e._value),r=t,B.isNumbro(t)&&(r=t._value),r=new y(r),e._value=n.dividedBy(r).toNumber(),e},set:(e,t)=>{let n;return n=t,B.isNumbro(t)&&(n=t._value),e._value=n,e},difference:(e,t)=>{let n;return A(n=B(e._value),t,B),Math.abs(n._value)},BigNumber:y};class z{constructor(e){this._value=e}clone(){return B(this._value)}format(e={}){return $.format(this,e)}formatCurrency(e){return"string"==typeof e&&(e=p(e)),(e=$.formatOrDefault(e,D.currentCurrencyDefaultFormat())).output="currency",$.format(this,e)}formatTime(e={}){return e.output="time",$.format(this,e)}binaryByteUnits(){return $.getBinaryByteUnit(this)}decimalByteUnits(){return $.getDecimalByteUnit(this)}byteUnits(){return $.getByteUnit(this)}difference(e){return R.difference(this,e)}add(e){return R.add(this,e)}subtract(e){return R.subtract(this,e)}multiply(e){return R.multiply(this,e)}divide(e){return R.divide(this,e)}set(e){return R.set(this,T(e))}value(){return this._value}valueOf(){return this._value}}function T(e){let t=e;return B.isNumbro(e)?t=e._value:"string"==typeof e?t=B.unformat(e):isNaN(e)&&(t=NaN),t}function B(e){return new z(T(e))}B.version="2.5.0",B.isNumbro=function(e){return e instanceof z},B.language=D.currentLanguage,B.registerLanguage=D.registerLanguage,B.setLanguage=D.setLanguage,B.languages=D.languages,B.languageData=D.languageData,B.zeroFormat=D.setZeroFormat,B.defaultFormat=D.currentDefaults,B.setDefaults=D.setDefaults,B.defaultCurrencyFormat=D.currentCurrencyDefaultFormat,B.validate=P.validate,B.loadLanguagesInNode=I.loadLanguagesInNode,B.unformat=L.unformat,B.BigNumber=R.BigNumber;var F=B&&B.__esModule&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B},9277:function(e){var t;t=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},a=0,s={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(o=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,o)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&void 0!==(o=this._config.beforeFirstChunk(e))&&(e=o),this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e,o=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=o.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),o&&o.data&&(this._rowCount+=o.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:o,workerId:s.WORKER_ID,finished:r});else if(x(this._config.chunk)&&!t){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=o=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!r||!x(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),u.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n,i=this._config.downloadRequestHeaders;for(n in i)t.setRequestHeader(n,i[n])}this._config.chunkSize&&(e=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+e));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){let e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(Error(e))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),u.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return t=(e=this._config.chunkSize)?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function f(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=w(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=w(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,n,r,i,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,a=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,l=0,c=0,d=!1,f=!1,h=[],m={data:[],errors:[],meta:{}};function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function v(){if(m&&r&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(m.data=m.data.filter(function(e){return!y(e)})),w()){if(m)if(Array.isArray(m.data[0])){for(var t,n=0;w()&&n<m.data.length;n++)m.data[n].forEach(i);m.data.splice(0,1)}else m.data.forEach(i);function i(t,n){x(e.transformHeader)&&(t=e.transformHeader(t,n)),h.push(t)}}function u(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var s=i,u=t[i],u=((t,n)=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping))?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(o.test(e)&&-0x20000000000000<(e=parseFloat(e))&&e<0x20000000000000)return 1})(n)?parseFloat(n):a.test(n)?new Date(n):""===n?null:n):n)(s=e.header?i>=h.length?"__parsed_extra":h[i]:s,u=e.transform?e.transform(u,s):u);"__parsed_extra"===s?(r[s]=r[s]||[],r[s].push(u)):r[s]=u}return e.header&&(i>h.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+i,c+n):i<h.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+i,c+n)),r}m&&(e.header||e.dynamicTyping||e.transform)&&(t=1,!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(u),t=m.data.length):m.data=u(m.data,0),e.header&&m.meta&&(m.meta.fields=h),c+=t)}function w(){return e.header&&0===h.length}function _(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),m.errors.push(e)}x(e.step)&&(i=e.step,e.step=function(t){m=t,w()?v():(v(),0!==m.data.length&&(l+=t.data.length,e.preview&&l>e.preview?n.abort():(m.data=m.data[0],i(m,u))))}),this.parse=function(i,o,a){var u=e.quoteChar||'"',u=(e.newline||(e.newline=this.guessLineEndings(i,u)),r=!1,e.delimiter?x(e.delimiter)&&(e.delimiter=e.delimiter(i),m.meta.delimiter=e.delimiter):((u=((t,n,r,i,o)=>{var a,u,l,c;o=o||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<o.length;d++){for(var f,h=o[d],p=0,m=0,v=0,b=(l=void 0,new g({comments:i,delimiter:h,newline:n,preview:10}).parse(t)),w=0;w<b.data.length;w++)r&&y(b.data[w])?v++:(m+=f=b.data[w].length,void 0===l?l=f:0<f&&(p+=Math.abs(f-l),l=f));0<b.data.length&&(m/=b.data.length-v),(void 0===u||p<=u)&&(void 0===c||c<m)&&1.99<m&&(u=p,a=h,c=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),m.meta.delimiter=e.delimiter),b(e));return e.preview&&e.header&&u.preview++,t=i,m=(n=new g(u)).parse(t,o,a),v(),d?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=x(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),m.meta.aborted=!0,x(e.complete)&&e.complete(m),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=RegExp(p(t)+"([^]*?)"+p(t),"gm"),n=(e=e.replace(t,"")).split("\r"),t=e.split("\n"),e=1<t.length&&t[0].length<n[0].length;if(1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,a=e.fastMode,u=null,l=!1,c=null==e.quoteChar?'"':e.quoteChar,d=c;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<s.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var f=0,h=!1;this.parse=function(s,g,m){if("string"!=typeof s)throw Error("Input must be a string");var y=s.length,v=t.length,b=n.length,w=r.length,_=x(i),E=[],k=[],S=[],M=f=0;if(!s)return z();if(a||!1!==a&&-1===s.indexOf(c)){for(var O=s.split(n),C=0;C<O.length;C++){if(S=O[C],f+=S.length,C!==O.length-1)f+=n.length;else if(m)break;if(!r||S.substring(0,w)!==r){if(_){if(E=[],I(S.split(t)),T(),h)return z()}else I(S.split(t));if(o&&o<=C)return E=E.slice(0,o),z(!0)}}return z()}for(var N=s.indexOf(t,f),j=s.indexOf(n,f),A=RegExp(p(d)+p(c),"g"),D=s.indexOf(c,f);;)if(s[f]===c)for(D=f,f++;;){if(-1===(D=s.indexOf(c,D+1)))return m||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:f}),$();if(D===y-1)return $(s.substring(f,D).replace(A,c));if(c===d&&s[D+1]===d)D++;else if(c===d||0===D||s[D-1]!==d){-1!==N&&N<D+1&&(N=s.indexOf(t,D+1));var P=L(-1===(j=-1!==j&&j<D+1?s.indexOf(n,D+1):j)?N:Math.min(N,j));if(s.substr(D+1+P,v)===t){S.push(s.substring(f,D).replace(A,c)),s[f=D+1+P+v]!==c&&(D=s.indexOf(c,f)),N=s.indexOf(t,f),j=s.indexOf(n,f);break}if(P=L(j),s.substring(D+1+P,D+1+P+b)===n){if(S.push(s.substring(f,D).replace(A,c)),R(D+1+P+b),N=s.indexOf(t,f),D=s.indexOf(c,f),_&&(T(),h))return z();if(o&&E.length>=o)return z(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:E.length,index:f}),D++}}else if(r&&0===S.length&&s.substring(f,f+w)===r){if(-1===j)return z();f=j+b,j=s.indexOf(n,f),N=s.indexOf(t,f)}else if(-1!==N&&(N<j||-1===j))S.push(s.substring(f,N)),f=N+v,N=s.indexOf(t,f);else{if(-1===j)break;if(S.push(s.substring(f,j)),R(j+b),_&&(T(),h))return z();if(o&&E.length>=o)return z(!0)}return $();function I(e){E.push(e),M=f}function L(e){return -1!==e&&(e=s.substring(D+1,e))&&""===e.trim()?e.length:0}function $(e){return m||(void 0===e&&(e=s.substring(f)),S.push(e),f=y,I(S),_&&T()),z()}function R(e){f=e,I(S),S=[],j=s.indexOf(n,f)}function z(r){if(e.header&&!g&&E.length&&!l){var i=E[0],o=Object.create(null),a=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(o[r=x(e.transformHeader)?e.transformHeader(r,n):r]){let e,s=o[r];for(;e=r+"_"+s,s++,a.has(e););a.add(e),i[n]=e,o[r]++,t=!0,(u=null===u?{}:u)[e]=r}else o[r]=1,i[n]=r;a.add(r)}t&&console.warn("Duplicate headers found and renamed."),l=!0}return{data:E,errors:k,meta:{delimiter:t,linebreak:n,aborted:h,truncated:!!r,cursor:M+(g||0),renamedHeaders:u}}}function T(){i(z()),E=[],k=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return f}}function m(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(x(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!r);a++);delete t.results}else x(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=o[e];x(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function v(){throw Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function w(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return s.parse=function(t,r){var i,u,h,p=(r=r||{}).dynamicTyping||!1;if(x(p)&&(r.dynamicTypingFunction=p,p={}),r.dynamicTyping=p,r.transform=!!x(r.transform)&&r.transform,!r.worker||!s.WORKERS_SUPPORTED){let e;return p=null,s.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(e=t).charCodeAt(0)?e:e.slice(1),p=new(r.download?l:d)(r)):!0===t.readable&&x(t.read)&&x(t.on)?p=new f(r):(n.File&&t instanceof File||t instanceof Object)&&(p=new c(r)),p.stream(t)}(p=!!s.WORKERS_SUPPORTED&&(u=n.URL||n.webkitURL||null,h=e.toString(),i=s.BLOB_URL||(s.BLOB_URL=u.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",h,")();"],{type:"text/javascript"}))),(i=new n.Worker(i)).onmessage=m,i.id=a++,o[i.id]=i)).userStep=r.step,p.userChunk=r.chunk,p.userComplete=r.complete,p.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,p.postMessage({input:t,config:r,workerId:p.id})},s.unparse=function(e,t){var n=!1,r=!0,i=",",o="\r\n",a='"',u=a+a,l=!1,c=null,d=!1,f=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+a),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),RegExp(p(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw Error("Unable to serialize unrecognized input");function h(e,t,n){var a="",s=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),u=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(a+=i),a+=g(e[l],l);0<t.length&&(a+=o)}for(var c=0;c<t.length;c++){var d=(s?e:t[c]).length,f=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(f="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var p=[],m=0;m<d;m++){var y=u?e[m]:m;p.push(t[c][y])}f=""===p.join("").trim()}if(!f){for(var v=0;v<d;v++){0<v&&!h&&(a+=i);var b=s&&u?e[v]:v;a+=g(t[c][b],v)}c<t.length-1&&(!n||0<d&&!h)&&(a+=o)}}return a}function g(e,t){var r,o;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(o=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,o=!0),r=e.toString().replace(f,u),(o=o||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,s.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r)}},s.RECORD_SEP="\x1e",s.UNIT_SEP="\x1f",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=0xa00000,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=h,s.NetworkStreamer=l,s.FileStreamer=c,s.StringStreamer=d,s.ReadableStreamStreamer=f,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if(!("INPUT"===t(this).prop("tagName").toUpperCase()&&"file"===t(this).attr("type").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)i.push({file:this.files[o],inputElem:this,instanceConfig:t.extend({},r)})}),o(),this;function o(){if(0===i.length)x(e.complete)&&e.complete();else{var n,r,o,u=i[0];if(x(e.before)){var l=e.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return n=u.file,r=u.inputElem,o=l.reason,void(x(e.error)&&e.error({name:"AbortError"},n,r,o));if("skip"===l.action)return void a();"object"==typeof l.config&&(u.instanceConfig=t.extend(u.instanceConfig,l.config))}else if("skip"===l)return void a()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(e){x(c)&&c(e,u.file,u.inputElem),a()},s.parse(u.file,u.instanceConfig)}}function a(){i.splice(0,1),o()}}),i&&(n.onmessage=function(e){e=e.data,void 0===s.WORKER_ID&&e&&(s.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=s.parse(e.input,e.config))&&n.postMessage({workerId:s.WORKER_ID,results:e,finished:!0})}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(u.prototype)).constructor=f,s},"function"==typeof define&&define.amd?define([],t):e.exports=t()},3590:function(e){"use strict";var t=(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&a(e,n,t[n]);return e},u=(e,t,n)=>a(e,"symbol"!=typeof t?t+"":t,n),l={},c={DEFAULT_OPTIONS:()=>h,DEFAULT_UUID_LENGTH:()=>f,default:()=>g};for(var d in c)e(l,d,{get:c[d],enumerable:!0});var f=6,h={dictionary:"alphanum",shuffle:!0,debug:!1,length:f,counter:0},p=class{constructor(e={}){u(this,"counter"),u(this,"debug"),u(this,"dict"),u(this,"version"),u(this,"dictIndex",0),u(this,"dictRange",[]),u(this,"lowerBound",0),u(this,"upperBound",0),u(this,"dictLength",0),u(this,"uuidLength"),u(this,"_digit_first_ascii",48),u(this,"_digit_last_ascii",58),u(this,"_alpha_lower_first_ascii",97),u(this,"_alpha_lower_last_ascii",123),u(this,"_hex_last_ascii",103),u(this,"_alpha_upper_first_ascii",65),u(this,"_alpha_upper_last_ascii",91),u(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),u(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),u(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),u(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),u(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),u(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),u(this,"log",(...e)=>{let t=[...e];if(t[0]="[short-unique-id] ".concat(e[0]),!0===this.debug&&"undefined"!=typeof console&&null!==console)return void console.log(...t)}),u(this,"_normalizeDictionary",(e,t)=>{let n;if(e&&Array.isArray(e)&&e.length>1)n=e;else{n=[],this.dictIndex=0;let t="_".concat(e,"_dict_ranges"),r=this._dict_ranges[t],i=0;for(let[,e]of Object.entries(r)){let[t,n]=e;i+=Math.abs(n-t)}n=Array(i);let o=0;for(let[,e]of Object.entries(r)){this.dictRange=e,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];let t=this.lowerBound<=this.upperBound,r=this.lowerBound,i=this.upperBound;if(t)for(let e=r;e<i;e++)n[o++]=String.fromCharCode(e),this.dictIndex=e;else for(let e=r;e>i;e--)n[o++]=String.fromCharCode(e),this.dictIndex=e}n.length=o}if(t){let e=n.length;for(let t=e-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[n[t],n[e]]=[n[e],n[t]]}}return n}),u(this,"setDictionary",(e,t)=>{this.dict=this._normalizeDictionary(e,t),this.dictLength=this.dict.length,this.setCounter(0)}),u(this,"seq",()=>this.sequentialUUID()),u(this,"sequentialUUID",()=>{let e=this.dictLength,t=this.dict,n=this.counter,r=[];do{let i=n%e;n=Math.trunc(n/e),r.push(t[i])}while(0!==n);let i=r.join("");return this.counter+=1,i}),u(this,"rnd",(e=this.uuidLength||f)=>this.randomUUID(e)),u(this,"randomUUID",(e=this.uuidLength||f)=>{if(null==e||e<1)throw Error("Invalid UUID Length Provided");let t=Array(e),n=this.dictLength,r=this.dict;for(let i=0;i<e;i++){let e=Math.floor(Math.random()*n);t[i]=r[e]}return t.join("")}),u(this,"fmt",(e,t)=>this.formattedUUID(e,t)),u(this,"formattedUUID",(e,t)=>{let n={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>{let r=e.slice(0,2),i=Number.parseInt(e.slice(2),10);return"$s"===r?n[r]().padStart(i,"0"):"$t"===r&&t?n[r](i,t):n[r](i)})}),u(this,"availableUUIDs",(e=this.uuidLength)=>Number.parseFloat(([...new Set(this.dict)].length**e).toFixed(0))),u(this,"_collisionCache",new Map),u(this,"approxMaxBeforeCollision",(e=this.availableUUIDs(this.uuidLength))=>{let t=this._collisionCache.get(e);if(void 0!==t)return t;let n=Number.parseFloat(Math.sqrt(Math.PI/2*e).toFixed(20));return this._collisionCache.set(e,n),n}),u(this,"collisionProbability",(e=this.availableUUIDs(this.uuidLength),t=this.uuidLength)=>Number.parseFloat((this.approxMaxBeforeCollision(e)/this.availableUUIDs(t)).toFixed(20))),u(this,"uniqueness",(e=this.availableUUIDs(this.uuidLength))=>{let t=Number.parseFloat((1-this.approxMaxBeforeCollision(e)/e).toFixed(20));return t>1?1:t<0?0:t}),u(this,"getVersion",()=>this.version),u(this,"stamp",(e,t)=>{let n=Math.floor((t||new Date)/1e3).toString(16);if("number"==typeof e&&0===e)return n;if("number"!=typeof e||e<10)throw Error("Param finalLength must be a number greater than or equal to 10,\nor 0 if you want the raw hexadecimal timestamp");let r=e-9,i=Math.round(Math.random()*(r>15?15:r)),o=this.randomUUID(r);return"".concat(o.substring(0,i)).concat(n).concat(o.substring(i)).concat(i.toString(16))}),u(this,"parseStamp",(e,t)=>{if(t&&!/t0|t[1-9]\d{1,}/.test(t))throw Error("Cannot extract date from a formated UUID with no timestamp in the format");let n=t?t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,e=>({$r:e=>[...Array(e)].map(()=>"r").join(""),$s:e=>[...Array(e)].map(()=>"s").join(""),$t:e=>[...Array(e)].map(()=>"t").join("")})[e.slice(0,2)](Number.parseInt(e.slice(2),10))).replace(/^(.*?)(t{8,})(.*)$/g,(t,n,r)=>e.substring(n.length,n.length+r.length)):e;if(8===n.length)return new Date(1e3*Number.parseInt(n,16));if(n.length<10)throw Error("Stamp length invalid");let r=Number.parseInt(n.substring(n.length-1),16);return new Date(1e3*Number.parseInt(n.substring(r,r+8),16))}),u(this,"setCounter",e=>{this.counter=e}),u(this,"validate",(e,t)=>{let n=t?this._normalizeDictionary(t):this.dict;return e.split("").every(e=>n.includes(e))});const t=s(s({},h),e);this.counter=0,this.debug=!1,this.dict=[],this.version="5.3.2";const{dictionary:n,shuffle:r,length:i,counter:o}=t;this.uuidLength=i,this.setDictionary(n,r),this.setCounter(o),this.debug=t.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};u(p,"default",p);var g=p;return((r,o,a,s)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let u of n(o))i.call(r,u)||u===a||e(r,u,{get:()=>o[u],enumerable:!(s=t(o,u))||s.enumerable});return r})(e({},"__esModule",{value:!0}),l)})();e.exports=t.default,"undefined"!=typeof window&&(t=t.default)},1243:function(e,t,n){"use strict";var r=n(6363),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s(function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})},[e,n,t]),a(function(){return l(i)&&c({inst:i}),e(function(){l(i)&&c({inst:i})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},9136:function(e,t,n){"use strict";var r=n(6363),i=n(7182),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=l(function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,i]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},7182:function(e,t,n){"use strict";e.exports=n(1243)},8352:function(e,t,n){"use strict";e.exports=n(9136)},3032:function(e){!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e="",i=0;i<arguments.length;i++){var o=arguments[i];o&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var i="";for(var o in e)t.call(e,o)&&e[o]&&(i=r(i,o));return i}(o)))}return e}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()},2027:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});let r={};function i(){return r}},4585:function(e,t,n){"use strict";n.d(t,{GP:function(){return A}});var r=n(4901),i=n(2027);let o=Symbol.for("constructDateFrom");function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&o in e?e[o](t):e instanceof Date?new e.constructor(t):new Date(t)}function s(e,t){return a(t||e,e)}function u(e){let t=s(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function l(e,t){let n=s(e,t?.in);return n.setHours(0,0,0,0),n}function c(e,t){let n=(0,i.q)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=s(e,t?.in),a=o.getDay();return o.setDate(o.getDate()-(7*(a<r)+a-r)),o.setHours(0,0,0,0),o}function d(e,t){return c(e,{...t,weekStartsOn:1})}function f(e,t){let n=s(e,t?.in),r=n.getFullYear(),i=a(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=d(i),u=a(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);let l=d(u);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function h(e,t){let n=s(e,t?.in),r=n.getFullYear(),o=(0,i.q)(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=a(t?.in||e,0);l.setFullYear(r+1,0,u),l.setHours(0,0,0,0);let d=c(l,t),f=a(t?.in||e,0);f.setFullYear(r,0,u),f.setHours(0,0,0,0);let h=c(f,t);return+n>=+d?r+1:+n>=+h?r:r-1}function p(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let g={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return p("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):p(n+1,2)},d:(e,t)=>p(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>p(e.getHours()%12||12,t.length),H:(e,t)=>p(e.getHours(),t.length),m:(e,t)=>p(e.getMinutes(),t.length),s:(e,t)=>p(e.getSeconds(),t.length),S(e,t){let n=t.length;return p(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},m={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return g.y(e,t)},Y:function(e,t,n,r){let i=h(e,r),o=i>0?i:1-i;return"YY"===t?p(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):p(o,t.length)},R:function(e,t){return p(f(e),t.length)},u:function(e,t){return p(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return p(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return p(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return g.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return p(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let o,u,l,d,f,g=Math.round((c(o=s(e,r?.in),r)-(u=(0,i.q)(),l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,d=h(o,r),(f=a(r?.in||o,0)).setFullYear(d,0,l),f.setHours(0,0,0,0),c(f,r)))/6048e5)+1;return"wo"===t?n.ordinalNumber(g,{unit:"week"}):p(g,t.length)},I:function(e,t,n){let r,i,o,u=Math.round((d(r=s(e,void 0))-(i=f(r,void 0),(o=a(r,0)).setFullYear(i,0,4),o.setHours(0,0,0,0),d(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(u,{unit:"week"}):p(u,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):g.d(e,t)},D:function(e,t,n){let r,i,o=function(e,t,n){let[r,i]=function(e,...t){let n=a.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}(void 0,e,t),o=l(r),s=l(i);return Math.round((o-u(o)-(s-u(s)))/864e5)}(r=s(e,void 0),((i=s(r,void 0)).setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):p(o,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return p(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return p(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return p(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,i=e.getHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,i=e.getHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return g.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):g.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):g.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):g.s(e,t)},S:function(e,t){return g.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return v(r);case"XXXX":case"XX":return b(r);default:return b(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return v(r);case"xxxx":case"xx":return b(r);default:return b(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y(r,":");default:return"GMT"+b(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y(r,":");default:return"GMT"+b(r,":")}},t:function(e,t,n){return p(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return p(+e,t.length)}};function y(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+p(o,2)}function v(e,t){return e%60==0?(e>0?"-":"+")+p(Math.abs(e)/60,2):b(e,t)}function b(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+p(Math.trunc(n/60),2)+t+p(n%60,2)}let w=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},x=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},_={p:x,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return w(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",w(i,t)).replace("{{time}}",x(o,t))}},E=/^D+$/,k=/^Y+$/,S=["D","DD","YY","YYYY"],M=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C=/^'([^]*?)'?$/,N=/''/g,j=/[a-zA-Z]/;function A(e,t,n){let o=(0,i.q)(),a=n?.locale??o.locale??r.c,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,c=s(e,n?.in);if(!(c instanceof Date||"object"==typeof c&&"[object Date]"===Object.prototype.toString.call(c))&&"number"!=typeof c||isNaN(+s(c)))throw RangeError("Invalid time value");let d=t.match(O).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,_[t])(e,a.formatLong):e}).join("").match(M).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(C))?t[1].replace(N,"'"):n}}if(m[t])return{isToken:!0,value:e};if(t.match(j))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));let f={firstWeekContainsDate:u,weekStartsOn:l,locale:a};return d.map(r=>{if(!r.isToken)return r.value;let i=r.value;return(!n?.useAdditionalWeekYearTokens&&k.test(i)||!n?.useAdditionalDayOfYearTokens&&E.test(i))&&function(e,t,n){var r,i,o;let a,s=(r=e,i=t,o=n,a="Y"===r[0]?"years":"days of the month",`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${i}\`) for formatting ${a} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(s),S.includes(e))throw RangeError(s)}(i,t,String(e)),(0,m[i[0]])(c,i,a.localize,f)}).join("")}},5364:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(4901),i=n(2027);let o=["years","months","weeks","days","hours","minutes","seconds"];function a(e,t){let n=(0,i.q)(),a=t?.locale??n.locale??r.c,s=t?.format??o,u=t?.zero??!1,l=t?.delimiter??" ";return a.formatDistance?s.reduce((t,n)=>{let r=`x${n.replace(/(^.)/,e=>e.toUpperCase())}`,i=e[n];return void 0!==i&&(u||e[n])?t.concat(a.formatDistance(r,i)):t},[]).join(l):""}},4901:function(e,t,n){"use strict";var r;n.d(t,{c:function(){return c}});let i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function o(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let a={date:o({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:o({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:o({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function u(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return(t,n={})=>{let r,i=n.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;let s=a[0],u=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(u,e=>e.test(s)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(u,e=>e.test(s));return r=e.valueCallback?e.valueCallback(l):l,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(s.length)}}}let c={code:"en-US",formatDistance:(e,t,n)=>{let r,o=i[e];if(r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:a,formatRelative:(e,t,n,r)=>s[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:u({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:u({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:u({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:u({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:u({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(r={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{let n=e.match(r.matchPattern);if(!n)return null;let i=n[0],o=e.match(r.parsePattern);if(!o)return null;let a=r.valueCallback?r.valueCallback(o[0]):o[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(i.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},2495:function(e,t,n){"use strict";n.d(t,{Kq:function(){return u},fp:function(){return g},md:function(){return p}});var r=n(6363),i=n(55),o=n(3976);let a=(0,r.createContext)(void 0);function s(e){let t=(0,r.useContext)(a);return(null==e?void 0:e.store)||t||(0,i.zp)()}function u({children:e,store:t}){let n=(0,r.useRef)(null);return t?(0,r.createElement)(a.Provider,{value:t},e):(null===n.current&&(n.current=(0,i.y$)()),(0,r.createElement)(a.Provider,{value:n.current},e))}let l=e=>"function"==typeof(null==e?void 0:e.then),c=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},d=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw c(e),e}),f=new WeakMap,h=(e,t)=>{let n=f.get(e);return n||(n=new Promise((r,i)=>{let a=e,s=e=>t=>{a===e&&r(t)},u=e=>t=>{a===e&&i(t)},c=()=>{try{let e=t();l(e)?(f.set(e,n),a=e,e.then(s(e),u(e)),(0,o.MO)(e,c)):r(e)}catch(e){i(e)}};e.then(s(e),u(e)),(0,o.MO)(e,c)}),f.set(e,n)),n};function p(e,t){let{delay:n,unstable_promiseStatus:i=!r.use}=t||{},o=s(t),[[a,u,f],p]=(0,r.useReducer)(t=>{let n=o.get(e);return Object.is(t[0],n)&&t[1]===o&&t[2]===e?t:[n,o,e]},void 0,()=>[o.get(e),o,e]),g=a;if((u!==o||f!==e)&&(p(),g=o.get(e)),(0,r.useEffect)(()=>{let t=o.sub(e,()=>{if(i)try{let t=o.get(e);l(t)&&c(h(t,()=>o.get(e)))}catch(e){}"number"==typeof n?setTimeout(p,n):p()});return p(),t},[o,e,n,i]),(0,r.useDebugValue)(g),l(g)){let t=h(g,()=>o.get(e));return i&&c(t),d(t)}return g}function g(e,t){let n;return[p(e,t),(n=s(t),(0,r.useCallback)((...t)=>n.set(e,...t),[n,e]))]}},55:function(e,t,n){"use strict";let r,i;n.d(t,{eU:function(){return s},y$:function(){return c},zp:function(){return d}});var o=n(3976);let a=0;function s(e,t){let n=`atom${++a}`,r={toString:()=>n};return"function"==typeof e?r.read=e:(r.init=e,r.read=u,r.write=l),t&&(r.write=t),r}function u(e){return e(this)}function l(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}function c(){return r?r():(0,o.ff)()}function d(){return i||(i=c()),i}},3976:function(e,t,n){"use strict";function r(e){return"v"in e||"e"in e}function i(e){if("e"in e)throw e.e;return e.v}n.d(t,{MO:function(){return s},ff:function(){return j}});let o=new WeakMap;function a(e){var t;return u(e)&&!!(null==(t=o.get(e))?void 0:t[0])}function s(e,t){let n=o.get(e);if(!n){n=[!0,new Set],o.set(e,n);let t=()=>{n[0]=!1};e.then(t,t)}n[1].add(t)}function u(e){return"function"==typeof(null==e?void 0:e.then)}function l(e,t,n){if(!n.p.has(e)){n.p.add(e);let r=()=>n.p.delete(e);t.then(r,r)}}function c(e,t,n){var r;let i=new Set;for(let t of(null==(r=n.get(e))?void 0:r.t)||[])n.has(t)&&i.add(t);for(let e of t.p)i.add(e);return i}let d=(e,t,...n)=>t.read(...n),f=(e,t,...n)=>t.write(...n),h=(e,t)=>{var n;return null==(n=t.unstable_onInit)?void 0:n.call(t,e)},p=(e,t,n)=>{var r;return null==(r=t.onMount)?void 0:r.call(t,n)},g=(e,t)=>{let n=N(e),r=n[0],i=n[9],o=r.get(t);return o||(o={d:new Map,p:new Set,n:0},r.set(t,o),null==i||i(e,t)),o},m=e=>{let t=N(e),n=t[1],r=t[3],i=t[4],o=t[5],a=t[6],s=t[13],u=[],l=e=>{try{e()}catch(e){u.push(e)}};do{a.f&&l(a.f);let t=new Set,u=t.add.bind(t);r.forEach(e=>{var t;return null==(t=n.get(e))?void 0:t.l.forEach(u)}),r.clear(),o.forEach(u),o.clear(),i.forEach(u),i.clear(),t.forEach(l),r.size&&s(e)}while(r.size||o.size||i.size);if(u.length)throw AggregateError(u)},y=e=>{let t=N(e),n=t[1],r=t[2],i=t[3],o=t[11],a=t[14],s=t[17],u=[],l=new WeakSet,d=new WeakSet,f=Array.from(i);for(;f.length;){let t=f[f.length-1],i=o(e,t);if(d.has(t)){f.pop();continue}if(l.has(t)){r.get(t)===i.n&&u.push([t,i]),d.add(t),f.pop();continue}for(let e of(l.add(t),c(t,i,n)))l.has(e)||f.push(e)}for(let t=u.length-1;t>=0;--t){let[n,o]=u[t],l=!1;for(let e of o.d.keys())if(e!==n&&i.has(e)){l=!0;break}l&&(a(e,n),s(e,n)),r.delete(n)}},v=(e,t)=>{var n,o;let c,d,f=N(e),h=f[1],p=f[2],g=f[3],m=f[6],y=f[7],v=f[11],b=f[12],w=f[13],x=f[14],_=f[16],E=f[17],S=v(e,t);if(r(S)&&(h.has(t)&&p.get(t)!==S.n||Array.from(S.d).every(([t,n])=>x(e,t).n===n)))return S;S.d.clear();let M=!0;function O(){h.has(t)&&(E(e,t),w(e),b(e))}let C=S.n;try{let o=y(e,t,function(n){var o;if(n===t){let t=v(e,n);if(!r(t))if("init"in n)k(e,n,n.init);else throw Error("no atom init");return i(t)}let s=x(e,n);try{return i(s)}finally{S.d.set(n,s.n),a(S.v)&&l(t,S.v,s),null==(o=h.get(n))||o.t.add(t),M||O()}},{get signal(){return c||(c=new AbortController),c.signal},get setSelf(){return!d&&t.write&&(d=(...n)=>{if(!M)try{return _(e,t,...n)}finally{w(e),b(e)}}),d}});return k(e,t,o),u(o)&&(s(o,()=>null==c?void 0:c.abort()),o.then(O,O)),null==(n=m.r)||n.call(m,t),S}catch(e){return delete S.v,S.e=e,++S.n,S}finally{M=!1,C!==S.n&&p.get(t)===C&&(p.set(t,S.n),g.add(t),null==(o=m.c)||o.call(m,t))}},b=(e,t)=>{let n=N(e),r=n[1],i=n[2],o=n[11],a=[t];for(;a.length;){let t=a.pop(),n=o(e,t);for(let s of c(t,n,r)){let t=o(e,s);i.set(s,t.n),a.push(s)}}},w=(e,t,...n)=>{let r=N(e),o=r[3],a=r[6],s=r[8],u=r[11],l=r[12],c=r[13],d=r[14],f=r[15],h=r[17],p=!0;try{return s(e,t,t=>i(d(e,t)),(n,...r)=>{var i;let s=u(e,n);try{if(n!==t)return w(e,n,...r);{if(!("init"in n))throw Error("atom not writable");let t=s.n,u=r[0];k(e,n,u),h(e,n),t!==s.n&&(o.add(n),null==(i=a.c)||i.call(a,n),f(e,n));return}}finally{p||(c(e),l(e))}},...n)}finally{p=!1}},x=(e,t)=>{var n;let r=N(e),i=r[1],o=r[3],s=r[6],u=r[11],l=r[15],c=r[18],d=r[19],f=u(e,t),h=i.get(t);if(h&&!a(f.v)){for(let[r,i]of f.d)if(!h.d.has(r)){let a=u(e,r);c(e,r).t.add(t),h.d.add(r),i!==a.n&&(o.add(r),null==(n=s.c)||n.call(s,r),l(e,r))}for(let n of h.d||[])if(!f.d.has(n)){h.d.delete(n);let r=d(e,n);null==r||r.t.delete(t)}}},_=(e,t)=>{var n;let r=N(e),i=r[1],o=r[4],a=r[6],s=r[10],u=r[11],l=r[12],c=r[13],d=r[14],f=r[16],h=u(e,t),p=i.get(t);if(!p){for(let n of(d(e,t),h.d.keys()))_(e,n).t.add(t);p={l:new Set,d:new Set(h.d.keys()),t:new Set},i.set(t,p),null==(n=a.m)||n.call(a,t),t.write&&o.add(()=>{let n=!0;try{let r=s(e,t,(...r)=>{try{return f(e,t,...r)}finally{n||(c(e),l(e))}});r&&(p.u=()=>{n=!0;try{r()}finally{n=!1}})}finally{n=!1}})}return p},E=(e,t)=>{var n;let r=N(e),i=r[1],o=r[5],a=r[6],s=r[11],u=r[19],l=s(e,t),c=i.get(t);if(c&&!c.l.size&&!Array.from(c.t).some(e=>{var n;return null==(n=i.get(e))?void 0:n.d.has(t)})){for(let r of(c.u&&o.add(c.u),c=void 0,i.delete(t),null==(n=a.u)||n.call(a,t),l.d.keys())){let n=u(e,r);null==n||n.t.delete(t)}return}return c},k=(e,t,n)=>{let r=N(e)[11],i=r(e,t),a="v"in i,s=i.v;if(u(n))for(let o of i.d.keys())l(t,n,r(e,o));if(i.v=n,delete i.e,!a||!Object.is(s,i.v)){let e;++i.n,u(s)&&(null==(e=o.get(s))?void 0:e[0])&&(e[0]=!1,e[1].forEach(e=>e()))}},S=(e,t)=>i((0,N(e)[14])(e,t)),M=(e,t,...n)=>{let r=N(e),i=r[12],o=r[13],a=r[16];try{return a(e,t,...n)}finally{o(e),i(e)}},O=(e,t,n)=>{let r=N(e),i=r[12],o=r[18],a=r[19],s=o(e,t).l;return s.add(n),i(e),()=>{s.delete(n),a(e,t),i(e)}},C=new WeakMap,N=e=>C.get(e);function j(...e){let t={get:e=>(0,N(t)[21])(t,e),set:(e,...n)=>(0,N(t)[22])(t,e,...n),sub:(e,n)=>(0,N(t)[23])(t,e,n)},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},d,f,h,p,g,m,y,v,b,w,x,_,E,k,S,M,O,void 0].map((t,n)=>e[n]||t);return C.set(t,Object.freeze(n)),t}},8485:function(e,t,n){"use strict";n.d(t,{tG:function(){return s}});var r=n(55);let i=Symbol(""),o=e=>"function"==typeof(null==e?void 0:e.then),a=function(e=()=>{try{return window.localStorage}catch(e){return}},t){var n;let r,i,a,s,u={getItem:(t,n)=>{var a,s;let u=e=>{if(r!==(e=e||"")){try{i=JSON.parse(e,void 0)}catch(e){return n}r=e}return i},l=null!=(s=null==(a=e())?void 0:a.getItem(t))?s:null;return o(l)?l.then(u):u(l)},setItem:(t,n)=>{var r;return null==(r=e())?void 0:r.setItem(t,JSON.stringify(n,void 0))},removeItem:t=>{var n;return null==(n=e())?void 0:n.removeItem(t)}};try{a=null==(n=e())?void 0:n.subscribe}catch(e){}return!a&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(a=(t,n)=>{if(!(e()instanceof window.Storage))return()=>{};let r=r=>{r.storageArea===e()&&r.key===t&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),a&&(s=a,u.subscribe=(e,t,n)=>s(e,e=>{let r;try{r=JSON.parse(e||"")}catch(e){r=n}t(r)})),u}();function s(e,t,n=a,u){let l=null==u?void 0:u.getOnInit,c=(0,r.eU)(l?n.getItem(e,t):t);return c.onMount=r=>{let i;return r(n.getItem(e,t)),n.subscribe&&(i=n.subscribe(e,r,t)),i},(0,r.eU)(e=>e(c),(r,a,s)=>{let u="function"==typeof s?s(r(c)):s;return u===i?(a(c,t),n.removeItem(e)):o(u)?u.then(t=>(a(c,t),n.setItem(e,t))):(a(c,u),n.setItem(e,u))})}}}]);